"use strict";(self.webpackChunkelements=self.webpackChunkelements||[]).push([[179],{352:()=>{function Ee(t){return"function"==typeof t}function ic(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const sc=ic(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function os(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class wn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ee(r))try{r()}catch(s){e=s instanceof sc?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{dD(s)}catch(o){e=null!=e?e:[],o instanceof sc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new sc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)dD(e);else{if(e instanceof wn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&os(n,e)}remove(e){const{_finalizers:n}=this;n&&os(n,e),e instanceof wn&&e._removeParent(this)}}wn.EMPTY=(()=>{const t=new wn;return t.closed=!0,t})();const cD=wn.EMPTY;function lD(t){return t instanceof wn||t&&"closed"in t&&Ee(t.remove)&&Ee(t.add)&&Ee(t.unsubscribe)}function dD(t){Ee(t)?t():t.unsubscribe()}const ui={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},oc={setTimeout(t,e,...n){const{delegate:r}=oc;return(null==r?void 0:r.setTimeout)?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=oc;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function hD(t){oc.setTimeout(()=>{const{onUnhandledError:e}=ui;if(!e)throw t;e(t)})}function fD(){}const WP=Mh("C",void 0,void 0);function Mh(t,e,n){return{kind:t,value:e,error:n}}let ci=null;function ac(t){if(ui.useDeprecatedSynchronousErrorHandling){const e=!ci;if(e&&(ci={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ci;if(ci=null,n)throw r}}else t()}class Nh extends wn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,lD(e)&&e.add(this)):this.destination=eO}static create(e,n,r){return new uc(e,n,r)}next(e){this.isStopped?Rh(function YP(t){return Mh("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Rh(function KP(t){return Mh("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Rh(WP,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const JP=Function.prototype.bind;function kh(t,e){return JP.call(t,e)}class XP{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){cc(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){cc(r)}else cc(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){cc(n)}}}class uc extends Nh{constructor(e,n,r){let i;if(super(),Ee(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let s;this&&ui.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&kh(e.next,s),error:e.error&&kh(e.error,s),complete:e.complete&&kh(e.complete,s)}):i=e}this.destination=new XP(i)}}function cc(t){ui.useDeprecatedSynchronousErrorHandling?function QP(t){ui.useDeprecatedSynchronousErrorHandling&&ci&&(ci.errorThrown=!0,ci.error=t)}(t):hD(t)}function Rh(t,e){const{onStoppedNotification:n}=ui;n&&oc.setTimeout(()=>n(t,e))}const eO={closed:!0,next:fD,error:function ZP(t){throw t},complete:fD},Ph="function"==typeof Symbol&&Symbol.observable||"@@observable";function Oh(t){return t}let Ze=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function nO(t){return t&&t instanceof Nh||function tO(t){return t&&Ee(t.next)&&Ee(t.error)&&Ee(t.complete)}(t)&&lD(t)}(n)?n:new uc(n,r,i);return ac(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=gD(r))((i,s)=>{const o=new uc({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ph](){return this}pipe(...n){return function pD(t){return 0===t.length?Oh:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=gD(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function gD(t){var e;return null!==(e=null!=t?t:ui.Promise)&&void 0!==e?e:Promise}const rO=ic(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let lc=(()=>{class t extends Ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new mD(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new rO}next(n){ac(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ac(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ac(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?cD:(this.currentObservers=null,s.push(n),new wn(()=>{this.currentObservers=null,os(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ze;return n.source=this,n}}return t.create=(e,n)=>new mD(e,n),t})();class mD extends lc{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:cD}}function Mr(t){return e=>{if(function iO(t){return Ee(null==t?void 0:t.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Nr(t,e,n,r,i){return new sO(t,e,n,r,i)}class sO extends Nh{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function dc(t,e){return Mr((n,r)=>{let i=0;n.subscribe(Nr(r,s=>{r.next(t.call(e,s,i++))}))})}function Lh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function li(t){return this instanceof li?(this.v=t,this):new li(t)}function uO(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof li?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function cO(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function vD(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const ID=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function wD(t){return Ee(null==t?void 0:t.then)}function ED(t){return Ee(t[Ph])}function DD(t){return Symbol.asyncIterator&&Ee(null==t?void 0:t[Symbol.asyncIterator])}function bD(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const TD=function dO(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function CD(t){return Ee(null==t?void 0:t[TD])}function SD(t){return uO(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield li(n.read());if(i)return yield li(void 0);yield yield li(r)}}finally{n.releaseLock()}})}function AD(t){return Ee(null==t?void 0:t.getReader)}function di(t){if(t instanceof Ze)return t;if(null!=t){if(ED(t))return function hO(t){return new Ze(e=>{const n=t[Ph]();if(Ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(ID(t))return function fO(t){return new Ze(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(wD(t))return function pO(t){return new Ze(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,hD)})}(t);if(DD(t))return xD(t);if(CD(t))return function gO(t){return new Ze(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(AD(t))return function mO(t){return xD(SD(t))}(t)}throw bD(t)}function xD(t){return new Ze(e=>{(function yO(t,e){var n,r,i,s;return function oO(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=cO(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function kr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function MD(t,e,n=1/0){return Ee(e)?MD((r,i)=>dc((s,o)=>e(r,s,i,o))(di(t(r,i))),n):("number"==typeof e&&(n=e),Mr((r,i)=>function _O(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let _=!1;di(n(m,l++)).subscribe(Nr(e,w=>{null==i||i(w),s?f(w):e.next(w)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){const w=u.shift();o?kr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(Nr(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}const Vh=new Ze(t=>t.complete());function Bh(t){return t[t.length-1]}function ND(t){return function wO(t){return t&&Ee(t.schedule)}(Bh(t))?t.pop():void 0}function hc(t,e=0){return Mr((n,r)=>{n.subscribe(Nr(r,i=>kr(r,t,()=>r.next(i),e),()=>kr(r,t,()=>r.complete(),e),i=>kr(r,t,()=>r.error(i),e)))})}function fc(t,e=0){return Mr((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function kD(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ze(n=>{kr(n,e,()=>{const r=t[Symbol.asyncIterator]();kr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Uh(t,e){return e?function AO(t,e){if(null!=t){if(ED(t))return function DO(t,e){return di(t).pipe(fc(e),hc(e))}(t,e);if(ID(t))return function TO(t,e){return new Ze(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(wD(t))return function bO(t,e){return di(t).pipe(fc(e),hc(e))}(t,e);if(DD(t))return kD(t,e);if(CD(t))return function CO(t,e){return new Ze(n=>{let r;return kr(n,e,()=>{r=t[TD](),kr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ee(null==r?void 0:r.return)&&r.return()})}(t,e);if(AD(t))return function SO(t,e){return kD(SD(t),e)}(t,e)}throw bD(t)}(t,e):di(t)}function RD(...t){const e=ND(t),n=function EO(t,e){return"number"==typeof Bh(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?di(r[0]):function vO(t=1/0){return MD(Oh,t)}(n)(Uh(r,e)):Vh}function jh(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(function xO(t){return t<=0?()=>Vh:Mr((e,n)=>{let r=0;e.subscribe(Nr(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}(1)).subscribe(()=>t())}function ce(t){for(let e in t)if(t[e]===ce)return e;throw Error("Could not find renamed property on target object.")}function ae(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ae).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Hh(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const NO=ce({__forward_ref__:ce});function Gh(t){return t.__forward_ref__=Gh,t.toString=function(){return ae(this())},t}function q(t){return function PD(t){return"function"==typeof t&&t.hasOwnProperty(NO)&&t.__forward_ref__===Gh}(t)?t():t}class se extends Error{constructor(e,n){super(function qh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function $(t){return"string"==typeof t?t:null==t?"":String(t)}function At(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$(t)}function pc(t,e){const n=e?` in ${e}`:"";throw new se(-201,`No provider for ${At(t)} found${n}`)}function Qt(t,e){null==t&&function pe(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ge(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ar(t){return{providers:t.providers||[],imports:t.imports||[]}}function zh(t){return OD(t,gc)||OD(t,LD)}function OD(t,e){return t.hasOwnProperty(e)?t[e]:null}function FD(t){return t&&(t.hasOwnProperty(Wh)||t.hasOwnProperty(VO))?t[Wh]:null}const gc=ce({\u0275prov:ce}),Wh=ce({\u0275inj:ce}),LD=ce({ngInjectableDef:ce}),VO=ce({ngInjectorDef:ce});var G=(()=>((G=G||{})[G.Default=0]="Default",G[G.Host=1]="Host",G[G.Self=2]="Self",G[G.SkipSelf=4]="SkipSelf",G[G.Optional=8]="Optional",G))();let Kh;function Rr(t){const e=Kh;return Kh=t,e}function VD(t,e,n){const r=zh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&G.Optional?null:void 0!==e?e:void pc(ae(t),"Injector")}function Pr(t){return{toString:t}.toString()}var En=(()=>((En=En||{})[En.OnPush=0]="OnPush",En[En.Default=1]="Default",En))(),Un=(()=>{return(t=Un||(Un={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Un;var t})();const UO="undefined"!=typeof globalThis&&globalThis,jO="undefined"!=typeof window&&window,$O="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ue=UO||"undefined"!=typeof global&&global||jO||$O,as={},le=[],mc=ce({\u0275cmp:ce}),Yh=ce({\u0275dir:ce}),Qh=ce({\u0275pipe:ce}),BD=ce({\u0275mod:ce}),ur=ce({\u0275fac:ce}),Ko=ce({__NG_ELEMENT_ID__:ce});let HO=0;function us(t){return Pr(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===En.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||le,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Un.Emulated,id:"c",styles:t.styles||le,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=HO++,r.inputs=HD(t.inputs,n),r.outputs=HD(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(UD):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(jD):null,r})}function UD(t){return vt(t)||function Fr(t){return t[Yh]||null}(t)}function jD(t){return function hi(t){return t[Qh]||null}(t)}const $D={};function Or(t){return Pr(()=>{const e={type:t.type,bootstrap:t.bootstrap||le,declarations:t.declarations||le,imports:t.imports||le,exports:t.exports||le,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&($D[t.id]=t.type),e})}function HD(t,e){if(null==t)return as;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const cn=us;function $t(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function vt(t){return t[mc]||null}function ln(t,e){const n=t[BD]||null;if(!n&&!0===e)throw new Error(`Type ${ae(t)} does not have '\u0275mod' property.`);return n}const z=11;function jn(t){return Array.isArray(t)&&"object"==typeof t[1]}function bn(t){return Array.isArray(t)&&!0===t[1]}function Zh(t){return 0!=(8&t.flags)}function Ic(t){return 2==(2&t.flags)}function wc(t){return 1==(1&t.flags)}function Tn(t){return null!==t.template}function YO(t){return 0!=(512&t[2])}function mi(t,e){return t.hasOwnProperty(ur)?t[ur]:null}class qD{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function zD(t){return t.type.prototype.ngOnChanges&&(t.setInput=ZO),XO}function XO(){const t=KD(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===as)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ZO(t,e,n,r){const i=KD(t)||function eF(t,e){return t[WD]=e}(t,{previous:as,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new qD(u&&u.currentValue,e,o===as),t[r]=e}const WD="__ngSimpleChanges__";function KD(t){return t[WD]||null}let sf;function be(t){return!!t.listen}const YD={createRenderer:(t,e)=>function af(){return void 0!==sf?sf:"undefined"!=typeof document?document:void 0}()};function Re(t){for(;Array.isArray(t);)t=t[0];return t}function fn(t,e){return Re(e[t.index])}function uf(t,e){return t.data[e]}function Xt(t,e){const n=e[t];return jn(n)?n:n[0]}function cf(t){return 128==(128&t[2])}function Lr(t,e){return null==e?null:t[e]}function JD(t){t[18]=0}function lf(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const U={lFrame:sb(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function XD(){return U.bindingsEnabled}function E(){return U.lFrame.lView}function X(){return U.lFrame.tView}function $e(){let t=ZD();for(;null!==t&&64===t.type;)t=t.parent;return t}function ZD(){return U.lFrame.currentTNode}function $n(t,e){const n=U.lFrame;n.currentTNode=t,n.isParent=e}function df(){return U.lFrame.isParent}function bc(){return U.isInCheckNoChangesMode}function Tc(t){U.isInCheckNoChangesMode=t}function ps(){return U.lFrame.bindingIndex++}function _F(t,e){const n=U.lFrame;n.bindingIndex=n.bindingRootIndex=t,ff(e)}function ff(t){U.lFrame.currentDirectiveIndex=t}function gf(t){U.lFrame.currentQueryIndex=t}function IF(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function rb(t,e,n){if(n&G.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&G.Host||(i=IF(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=U.lFrame=ib();return r.currentTNode=e,r.lView=t,!0}function Cc(t){const e=ib(),n=t[1];U.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ib(){const t=U.lFrame,e=null===t?null:t.child;return null===e?sb(t):e}function sb(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ob(){const t=U.lFrame;return U.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ab=ob;function Sc(){const t=ob();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Mt(){return U.lFrame.selectedIndex}function Vr(t){U.lFrame.selectedIndex=t}function Ac(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function xc(t,e,n){ub(t,e,3,n)}function Mc(t,e,n,r){(3&t[2])===n&&ub(t,e,n,r)}function mf(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ub(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(xF(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function xF(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Zo{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Nc(t,e,n){const r=be(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];_f(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function cb(t){return 3===t||4===t||6===t}function _f(t){return 64===t.charCodeAt(0)}function kc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||lb(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function lb(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function db(t){return-1!==t}function gs(t){return 32767&t}function ms(t,e){let n=function PF(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let vf=!0;function Rc(t){const e=vf;return vf=t,e}let OF=0;function ta(t,e){const n=wf(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,If(r.data,t),If(e,null),If(r.blueprint,null));const i=Pc(t,e),s=t.injectorIndex;if(db(i)){const o=gs(i),a=ms(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function If(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wf(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Pc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Oc(t,e,n){!function FF(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ko)&&(r=n[Ko]),null==r&&(r=n[Ko]=OF++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function pb(t,e,n){if(n&G.Optional)return t;pc(e,"NodeInjector")}function gb(t,e,n,r){if(n&G.Optional&&void 0===r&&(r=null),0==(n&(G.Self|G.Host))){const i=t[9],s=Rr(void 0);try{return i?i.get(e,r,n&G.Optional):VD(e,r,n&G.Optional)}finally{Rr(s)}}return pb(r,e,n)}function mb(t,e,n,r=G.Default,i){if(null!==t){const s=function UF(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ko)?t[Ko]:void 0;return"number"==typeof e?e>=0?255&e:VF:e}(n);if("function"==typeof s){if(!rb(e,t,r))return r&G.Host?pb(i,n,r):gb(e,n,r,i);try{const o=s(r);if(null!=o||r&G.Optional)return o;pc(n)}finally{ab()}}else if("number"==typeof s){let o=null,a=wf(t,e),u=-1,c=r&G.Host?e[16][6]:null;for((-1===a||r&G.SkipSelf)&&(u=-1===a?Pc(t,e):e[a+8],-1!==u&&vb(r,!1)?(o=e[1],a=gs(u),e=ms(u,e)):a=-1);-1!==a;){const l=e[1];if(_b(s,a,l.data)){const d=BF(a,e,n,o,r,c);if(d!==yb)return d}u=e[a+8],-1!==u&&vb(r,e[1].data[a+8]===c)&&_b(s,a,e)?(o=l,a=gs(u),e=ms(u,e)):a=-1}}}return gb(e,n,r,i)}const yb={};function VF(){return new ys($e(),E())}function BF(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function Fc(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Tn(f)&&f.type===n)return u}return null}(a,o,n,null==r?Ic(a)&&vf:r!=o&&0!=(3&a.type),i&G.Host&&s===a);return null!==l?na(e,o,l,a):yb}function na(t,e,n,r){let i=t[n];const s=e.data;if(function MF(t){return t instanceof Zo}(i)){const o=i;o.resolving&&function kO(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new se(-200,`Circular dependency in DI detected for ${t}${n}`)}(At(s[n]));const a=Rc(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Rr(o.injectImpl):null;rb(t,r,G.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function AF(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=zD(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Rr(u),Rc(a),o.resolving=!1,ab()}}return i}function _b(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function vb(t,e){return!(t&G.Self||t&G.Host&&e)}class ys{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return mb(this._tNode,this._lView,e,r,n)}}const vs="__parameters__";function ws(t,e,n){return Pr(()=>{const r=function bf(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(vs)?u[vs]:Object.defineProperty(u,vs,{value:[]})[vs];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ie{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ge({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Hn(t,e){t.forEach(n=>Array.isArray(n)?Hn(n,e):e(n))}function wb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Lc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const oa={},Af="__NG_DI_FLAG__",Bc="ngTempTokenPath",XF=/\n/gm,Cb="__source",eL=ce({provide:String,useValue:ce});let aa;function Sb(t){const e=aa;return aa=t,e}function tL(t,e=G.Default){if(void 0===aa)throw new se(203,"");return null===aa?VD(t,void 0,e):aa.get(t,e&G.Optional?null:void 0,e)}function re(t,e=G.Default){return(function BO(){return Kh}()||tL)(q(t),e)}const nL=re;function xf(t){const e=[];for(let n=0;n<t.length;n++){const r=q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new se(900,"");let i,s=G.Default;for(let o=0;o<r.length;o++){const a=r[o],u=rL(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(re(i,s))}else e.push(re(r))}return e}function ua(t,e){return t[Af]=e,t.prototype[Af]=e,t}function rL(t){return t[Af]}const Nt=ua(ws("Optional"),8);class Fb{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const TL=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,CL=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Pe=(()=>((Pe=Pe||{})[Pe.NONE=0]="NONE",Pe[Pe.HTML=1]="HTML",Pe[Pe.STYLE=2]="STYLE",Pe[Pe.SCRIPT=3]="SCRIPT",Pe[Pe.URL=4]="URL",Pe[Pe.RESOURCE_URL=5]="RESOURCE_URL",Pe))();function Vf(t){const e=function ha(){const t=E();return t&&t[12]}();return e?e.sanitize(Pe.URL,t)||"":function la(t,e){const n=function wL(t){return t instanceof Fb&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?function Ur(t){return t instanceof Fb?t.changingThisBreaksApplicationSecurity:t}(t):function Gc(t){return(t=String(t)).match(TL)||t.match(CL)?t:"unsafe:"+t}($(t))}const zb="__ngContext__";function wt(t,e){t[zb]=e}function Uf(t){const e=function fa(t){return t[zb]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function $f(t){return t.ngOriginalError}function YL(t,...e){t.error(...e)}class pa{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function KL(t){return t&&t.ngErrorLogger||YL}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&$f(e);for(;n&&$f(n);)n=$f(n);return n||null}}const sV=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ue))();function qn(t){return t instanceof Function?t():t}var en=(()=>((en=en||{})[en.Important=1]="Important",en[en.DashCase=2]="DashCase",en))();function Gf(t,e){return undefined(t,e)}function ga(t){const e=t[3];return bn(e)?e[3]:e}function qf(t){return tT(t[13])}function zf(t){return tT(t[4])}function tT(t){for(;null!==t&&!bn(t);)t=t[4];return t}function Cs(t,e,n,r,i){if(null!=r){let s,o=!1;bn(r)?s=r:jn(r)&&(o=!0,r=r[0]);const a=Re(r);0===t&&null!==n?null==i?aT(e,n,a):yi(e,n,a,i||null,!0):1===t&&null!==n?yi(e,n,a,i||null,!0):2===t?function pT(t,e,n){const r=zc(t,e);r&&function vV(t,e,n,r){be(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function EV(t,e,n,r,i){const s=n[7];s!==Re(n)&&Cs(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];ma(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Kf(t,e,n){if(be(t))return t.createElement(e,n);{const r=null!==n?function iF(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function rT(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,lf(i,-1)),n.splice(r,1)}function Yf(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&rT(i,r),e>0&&(t[n-1][4]=r[4]);const s=Lc(t,10+e);!function dV(t,e){ma(t,e,e[z],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function iT(t,e){if(!(256&e[2])){const n=e[z];be(n)&&n.destroyNode&&ma(t,e,n,3,null,null),function pV(t){let e=t[13];if(!e)return Qf(t[1],t);for(;e;){let n=null;if(jn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)jn(e)&&Qf(e[1],e),e=e[3];null===e&&(e=t),jn(e)&&Qf(e[1],e),n=e&&e[4]}e=n}}(e)}}function Qf(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function _V(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Zo)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function yV(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Re(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&be(e[z])&&e[z].destroy();const n=e[17];if(null!==n&&bn(e[3])){n!==e[3]&&rT(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function sT(t,e,n){return function oT(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Un.None||i===Un.Emulated)return null}return fn(r,n)}(t,e.parent,n)}function yi(t,e,n,r,i){be(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function aT(t,e,n){be(t)?t.appendChild(e,n):e.appendChild(n)}function uT(t,e,n,r,i){null!==r?yi(t,e,n,r,i):aT(t,e,n)}function zc(t,e){return be(t)?t.parentNode(e):e.parentNode}let dT=function lT(t,e,n){return 40&t.type?fn(t,n):null};function Wc(t,e,n,r){const i=sT(t,r,e),s=e[z],a=function cT(t,e,n){return dT(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)uT(s,i,n[u],a,!1);else uT(s,i,n,a,!1)}function Kc(t,e){if(null!==e){const n=e.type;if(3&n)return fn(e,t);if(4&n)return Xf(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Kc(t,r);{const i=t[e.index];return bn(i)?Xf(-1,i):Re(i)}}if(32&n)return Gf(e,t)()||Re(t[e.index]);{const r=fT(t,e);return null!==r?Array.isArray(r)?r[0]:Kc(ga(t[16]),r):Kc(t,e.next)}}return null}function fT(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Xf(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Kc(r,i)}return e[7]}function Zf(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&wt(Re(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Zf(t,e,n.child,r,i,s,!1),Cs(e,t,i,a,s);else if(32&u){const c=Gf(n,r);let l;for(;l=c();)Cs(e,t,i,l,s);Cs(e,t,i,a,s)}else 16&u?gT(t,e,r,n,i,s):Cs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ma(t,e,n,r,i,s){Zf(n,r,t.firstChild,e,i,s,!1)}function gT(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Cs(e,t,i,u[c],s);else Zf(t,e,u,o[3],i,s,!0)}function mT(t,e,n){be(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ep(t,e,n){be(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function yT(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const _T="ng-template";function bV(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==yT(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function vT(t){return 4===t.type&&t.value!==_T}function TV(t,e,n){return e===(4!==t.type||n?t.value:_T)}function CV(t,e,n){let r=4;const i=t.attrs||[],s=function xV(t){for(let e=0;e<t.length;e++)if(cb(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!TV(t,u,n)||""===u&&1===e.length){if(Cn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!bV(t.attrs,c,n)){if(Cn(r))return!1;o=!0}continue}const d=SV(8&r?"class":u,i,vT(t),n);if(-1===d){if(Cn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==yT(f,c,0)||2&r&&c!==h){if(Cn(r))return!1;o=!0}}}}else{if(!o&&!Cn(r)&&!Cn(u))return!1;if(o&&Cn(u))continue;o=!1,r=u|1&r}}return Cn(r)||o}function Cn(t){return 0==(1&t)}function SV(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function MV(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function IT(t,e,n=!1){for(let r=0;r<e.length;r++)if(CV(t,e[r],n))return!0;return!1}function wT(t,e){return t?":not("+e.trim()+")":e}function kV(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Cn(o)&&(e+=wT(s,i),i=""),r=o,s=s||!Cn(r);n++}return""!==i&&(e+=wT(s,i)),e}const H={};function tn(t){ET(X(),E(),Mt()+t,bc())}function ET(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&xc(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Mc(e,s,0,n)}Vr(n)}function RT(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];gf(i),o.contentQueries(2,e[s],s)}}}function ya(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,JD(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[z]=a||t&&t[z],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ss(t,e,n,r,i){let s=t.data[e];if(null===s)s=function hp(t,e,n,r,i){const s=ZD(),o=df(),u=t.data[e]=function QV(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function yF(){return U.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Xo(){const t=U.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return $n(s,!0),s}function As(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _a(t,e,n){Cc(e);try{const r=t.viewQuery;null!==r&&wp(1,r,n);const i=t.template;null!==i&&PT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&RT(t,e),t.staticViewQueries&&wp(2,t.viewQuery,n);const s=t.components;null!==s&&function WV(t,e){for(let n=0;n<e.length;n++)p2(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Sc()}}function xs(t,e,n,r){const i=e[2];if(256==(256&i))return;Cc(e);const s=bc();try{JD(e),function eb(t){return U.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&PT(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&xc(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Mc(e,c,0,null),mf(e,0)}if(function h2(t){for(let e=qf(t);null!==e;e=zf(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&lf(s,1),i[2]|=1024}}}(e),function d2(t){for(let e=qf(t);null!==e;e=zf(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];cf(r)&&xs(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&RT(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&xc(e,c)}else{const c=t.contentHooks;null!==c&&Mc(e,c,1),mf(e,1)}!function qV(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Vr(~i);else{const s=i,o=n[++r],a=n[++r];_F(o,s),a(2,e[s])}}}finally{Vr(-1)}}(t,e);const a=t.components;null!==a&&function zV(t,e){for(let n=0;n<e.length;n++)f2(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&wp(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&xc(e,c)}else{const c=t.viewHooks;null!==c&&Mc(e,c,2),mf(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,lf(e[3],-1))}finally{Sc()}}function KV(t,e,n,r){const i=e[10],s=!bc(),o=function QD(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&_a(t,e,r),xs(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function PT(t,e,n,r,i){const s=Mt(),o=2&r;try{Vr(-1),o&&e.length>20&&ET(t,e,20,bc()),n(r,i)}finally{Vr(s)}}function fp(t,e,n){!XD()||(function r2(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||ta(n,e),wt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Tn(u);c&&u2(e,n,u);const l=na(e,t,a,n);wt(l,e),null!==o&&c2(0,a-i,l,u,0,o),c&&(Xt(n.index,e)[8]=l)}}(t,e,n,fn(n,e)),128==(128&n.flags)&&function i2(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function vF(){return U.lFrame.currentDirectiveIndex}();try{Vr(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];ff(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&HT(c,l)}}finally{Vr(-1),ff(a)}}(t,e,n))}function pp(t,e,n=fn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function FT(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Xc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Xc(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function YV(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:H);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function UT(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function gp(t,e,n,r){let i=!1;if(XD()){const s=function s2(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];IT(n,o.selectors,!1)&&(i||(i=[]),Oc(ta(n,e),t,o.type),Tn(o)?(GT(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,qT(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=As(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=kc(n.mergedAttrs,d.hostAttrs),zT(t,n,e,c,d),a2(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function JV(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||vT(e)?null:l2(d,s);o.push(h),a=UT(d,c,a),u=UT(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function o2(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new se(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=kc(n.mergedAttrs,n.attrs),i}function $T(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function n2(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function HT(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function GT(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function a2(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Tn(e)&&(n[""]=t)}}function qT(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zT(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=mi(i.type)),o=new Zo(s,Tn(i),null);t.blueprint[r]=o,n[r]=o,$T(t,e,0,r,As(t,n,i.hostVars,H),i)}function u2(t,e,n){const r=fn(e,t),i=FT(n),s=t[10],o=Zc(t,ya(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function c2(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function l2(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function WT(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function f2(t,e){const n=Xt(e,t);if(cf(n)){const r=n[1];80&n[2]?xs(r,n,r.template,n[8]):n[5]>0&&yp(n)}}function yp(t){for(let r=qf(t);null!==r;r=zf(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];xs(o,s,o.template,s[8])}else s[5]>0&&yp(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Xt(n[r],t);cf(i)&&i[5]>0&&yp(i)}}function p2(t,e){const n=Xt(e,t),r=n[1];(function g2(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),_a(r,n,n[8])}function Zc(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function _p(t){for(;t;){t[2]|=64;const e=ga(t);if(YO(t)&&!e)return t;t=e}return null}function Ip(t,e,n){const r=e[10];r.begin&&r.begin();try{xs(t,e,t.template,n)}catch(i){throw XT(e,i),i}finally{r.end&&r.end()}}function KT(t){!function vp(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Uf(n),i=r[1];KV(i,r,i.template,n)}}(t[8])}function wp(t,e,n){gf(0),e(t,n)}const v2=(()=>Promise.resolve(null))();function YT(t){return t[7]||(t[7]=[])}function QT(t){return t.cleanup||(t.cleanup=[])}function XT(t,e){const n=t[9],r=n?n.get(pa,null):null;r&&r.handleError(e)}function ZT(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function hr(t,e,n){const r=function Dc(t,e){return Re(e[t])}(e,t);!function nT(t,e,n){be(t)?t.setValue(e,n):e.textContent=n}(t[z],r,n)}function el(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Hh(i,a):2==s&&(r=Hh(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Ep=new ie("INJECTOR",-1);class e0{get(e,n=oa){if(n===oa){const r=new Error(`NullInjectorError: No provider for ${ae(e)}!`);throw r.name="NullInjectorError",r}return n}}const Dp=new ie("Set Injector scope."),va={},E2={};let bp;function t0(){return void 0===bp&&(bp=new e0),bp}function n0(t,e=null,n=null,r){const i=r0(t,e,n,r);return i._resolveInjectorDefTypes(),i}function r0(t,e=null,n=null,r){return new D2(t,n,e||t0(),r)}class D2{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&Hn(n,a=>this.processProvider(a,e,n)),Hn([e],a=>this.processInjectorType(a,[],s)),this.records.set(Ep,Ms(void 0,this));const o=this.records.get(Dp);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ae(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=oa,r=G.Default){this.assertNotDestroyed();const i=Sb(this),s=Rr(void 0);try{if(!(r&G.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function N2(t){return"function"==typeof t||"object"==typeof t&&t instanceof ie}(e)&&zh(e);a=u&&this.injectableDefInScope(u)?Ms(Tp(e),va):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&G.Self?t0():this.parent).get(e,n=r&G.Optional&&n===oa?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Bc]=o[Bc]||[]).unshift(ae(e)),i)throw o;return function iL(t,e,n,r){const i=t[Bc];throw e[Cb]&&i.unshift(e[Cb]),t.message=function sL(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=ae(e);if(Array.isArray(e))i=e.map(ae).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ae(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(XF,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Bc]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Rr(s),Sb(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ae(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processInjectorType(e,n,r){if(!(e=q(e)))return!1;let i=FD(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=FD(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{Hn(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];Hn(f,p=>this.processProvider(p,h,f||le))}}this.injectorDefTypes.add(o);const u=mi(o)||(()=>new o);this.records.set(o,Ms(u,va));const c=i.providers;if(null!=c&&!a){const l=e;Hn(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=Ns(e=q(e))?e:q(e&&e.provide);const s=function T2(t,e,n){return o0(t)?Ms(void 0,t.useValue):Ms(function s0(t,e,n){let r;if(Ns(t)){const i=q(t);return mi(i)||Tp(i)}if(o0(t))r=()=>q(t.useValue);else if(function S2(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...xf(t.deps||[]));else if(function C2(t){return!(!t||!t.useExisting)}(t))r=()=>re(q(t.useExisting));else{const i=q(t&&(t.useClass||t.provide));if(!function x2(t){return!!t.deps}(t))return mi(i)||Tp(i);r=()=>new i(...xf(t.deps))}return r}(t),va)}(e);if(Ns(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Ms(void 0,va,!0),o.factory=()=>xf(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===va&&(n.value=E2,n.value=n.factory()),"object"==typeof n.value&&n.value&&function M2(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=q(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Tp(t){const e=zh(t),n=null!==e?e.factory:mi(t);if(null!==n)return n;if(t instanceof ie)throw new se(204,!1);if(t instanceof Function)return function b2(t){const e=t.length;if(e>0)throw function sa(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new se(204,!1);const n=function FO(t){const e=t&&(t[gc]||t[LD]);if(e){const n=function LO(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new se(204,!1)}function Ms(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function o0(t){return null!==t&&"object"==typeof t&&eL in t}function Ns(t){return"function"==typeof t}let Et=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return n0({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return n0({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=oa,t.NULL=new e0,t.\u0275prov=ge({token:t,providedIn:"any",factory:()=>re(Ep)}),t.__NG_ELEMENT_ID__=-1,t})();function B2(t,e){Ac(Uf(t)[1],$e())}function Dt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function xn(t,e,n,r,i,s,o,a){const u=E(),c=X(),l=t+20,d=c.firstCreatePass?function Q2(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ss(e,t,4,o||null,Lr(c,a));gp(e,n,l,Lr(c,u)),Ac(e,l);const d=l.tViews=Xc(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];$n(d,!1);const h=u[z].createComment("");Wc(c,u,h,d),wt(h,u),Zc(u,u[l]=WT(h,u,h,d)),wc(d)&&fp(c,u,d),null!=o&&pp(u,d,a)}function K(t,e=G.Default){const n=E();return null===n?re(t,e):mb($e(),n,q(t),e)}function rn(t,e,n){const r=E();return Dt(r,ps(),e)&&function nn(t,e,n,r,i,s,o,a){const u=fn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(ZT(t,n,l,r,i),Ic(e)&&function ZV(t,e){const n=Xt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function XV(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,be(s)?s.setProperty(u,r,i):_f(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(X(),function Te(){const t=U.lFrame;return uf(t.tView,t.selectedIndex)}(),r,t,e,r[z],n,!1),rn}function Pp(t,e,n,r,i){const o=i?"class":"style";ZT(t,n,e.inputs[o],o,r)}function Mn(t,e,n,r){const i=E(),s=X(),o=20+t,a=i[z],u=i[o]=Kf(a,e,function SF(){return U.lFrame.currentNamespace}()),c=s.firstCreatePass?function vB(t,e,n,r,i,s,o){const a=e.consts,c=Ss(e,t,2,i,Lr(a,s));return gp(e,n,c,Lr(a,o)),null!==c.attrs&&el(c,c.attrs,!1),null!==c.mergedAttrs&&el(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];$n(c,!0);const l=c.mergedAttrs;null!==l&&Nc(a,u,l);const d=c.classes;null!==d&&ep(a,u,d);const h=c.styles;return null!==h&&mT(a,u,h),64!=(64&c.flags)&&Wc(s,i,u,c),0===function lF(){return U.lFrame.elementDepthCount}()&&wt(u,i),function dF(){U.lFrame.elementDepthCount++}(),wc(c)&&(fp(s,i,c),function OT(t,e,n){if(Zh(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&pp(i,c),Mn}function Nn(){let t=$e();df()?function hf(){U.lFrame.isParent=!1}():(t=t.parent,$n(t,!1));const e=t;!function hF(){U.lFrame.elementDepthCount--}();const n=X();return n.firstCreatePass&&(Ac(n,t),Zh(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function kF(t){return 0!=(16&t.flags)}(e)&&Pp(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function RF(t){return 0!=(32&t.flags)}(e)&&Pp(n,e,E(),e.stylesWithoutHost,!1),Nn}function vi(t,e,n,r){return Mn(t,e,n,r),Nn(),vi}function Lp(t){return!!t&&"function"==typeof t.then}function j0(t){return!!t&&"function"==typeof t.subscribe}const EB=j0;function Vp(t,e,n,r){const i=E(),s=X(),o=$e();return function H0(t,e,n,r,i,s,o,a){const u=wc(r),l=t.firstCreatePass&&QT(t),d=e[8],h=YT(e);let f=!0;if(3&r.type||a){const _=fn(r,e),w=a?a(_):_,y=h.length,S=a?k=>a(Re(k[r.index])):r.index;if(be(n)){let k=null;if(!a&&u&&(k=function DB(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,f=!1;else{s=Bp(r,e,d,s,!1);const P=n.listen(w,i,s);h.push(s,P),l&&l.push(i,S,y,y+1)}}else s=Bp(r,e,d,s,!0),w.addEventListener(i,s,o),h.push(s),l&&l.push(i,S,y,o)}else s=Bp(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const _=m.length;if(_)for(let w=0;w<_;w+=2){const B=e[m[w]][m[w+1]].subscribe(s),Je=h.length;h.push(s,B),l&&l.push(i,r.index,Je,-(Je+1))}}}(s,i,i[z],o,t,e,!!n,r),Vp}function G0(t,e,n,r){try{return!1!==n(r)}catch(i){return XT(t,i),!1}}function Bp(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?Xt(t.index,e):e;0==(32&e[2])&&_p(a);let u=G0(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=G0(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Ii(t=1){return function wF(t){return(U.lFrame.contextLView=function EF(t,e){for(;t>0;)e=e[15],t--;return e}(t,U.lFrame.contextLView))[8]}(t)}function Gs(t,e=""){const n=E(),r=X(),i=t+20,s=r.firstCreatePass?Ss(r,i,1,e,null):r.data[i],o=n[i]=function Wf(t,e){return be(t)?t.createText(e):t.createTextNode(e)}(n[z],e);Wc(r,n,o,s),$n(s,!1)}function Da(t){return $p("",t,""),Da}function $p(t,e,n){const r=E(),i=function Ps(t,e,n,r){return Dt(t,ps(),n)?e+$(n)+r:H}(r,t,e,n);return i!==H&&hr(r,Mt(),i),$p}const sl="en-US";let FC=sl;class aS{}class fj{resolveComponentFactory(e){throw function hj(t){const e=Error(`No component factory found for ${ae(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Ws=(()=>{class t{}return t.NULL=new fj,t})();function pj(){return Ks($e(),E())}function Ks(t,e){return new Ys(fn(t,e))}let Ys=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=pj,t})();class cS{}let _j=(()=>{class t{}return t.\u0275prov=ge({token:t,providedIn:"root",factory:()=>null}),t})();class Aa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const dS=new Aa("13.2.7"),Yp={};function ll(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Re(s)),bn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&ll(u[1],u,c,r)}const o=n.type;if(8&o)ll(t,e,n.child,r);else if(32&o){const a=Gf(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=fT(e,n);if(Array.isArray(a))r.push(...a);else{const u=ga(e[16]);ll(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class xa{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return ll(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(bn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Yf(e,r),Lc(n,r))}this._attachedToViewContainer=!1}iT(this._lView[1],this._lView)}onDestroy(e){!function BT(t,e,n,r){const i=YT(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&QT(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){_p(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ip(this._lView[1],this._lView,this.context)}checkNoChanges(){!function y2(t,e,n){Tc(!0);try{Ip(t,e,n)}finally{Tc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new se(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fV(t,e){ma(t,e,e[z],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new se(902,"");this._appRef=e}}class vj extends xa{constructor(e){super(e),this._view=e}detectChanges(){KT(this._view)}checkNoChanges(){!function _2(t){Tc(!0);try{KT(t)}finally{Tc(!1)}}(this._view)}get context(){return null}}class hS extends Ws{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=vt(e);return new Qp(n,this.ngModule)}}function fS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Qp extends aS{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function RV(t){return t.map(kV).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return fS(this.componentDef.inputs)}get outputs(){return fS(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function wj(t,e){return{get:(n,r,i)=>{const s=t.get(n,Yp,i);return s!==Yp||r===Yp?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(cS,YD),a=s.get(_j,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function VT(t,e,n){if(be(t))return t.selectRootElement(e,n===Un.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Kf(o.createRenderer(null,this.componentDef),c,function Ij(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,h=function y0(t,e){return{components:[],scheduler:t||sV,clean:v2,playerHandler:e||null,flags:0}}(),f=Xc(0,null,null,1,0,null,null,null,null,null),p=ya(null,f,h,d,null,null,o,u,a,s);let m,_;Cc(p);try{const w=function g0(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=Ss(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(el(u,c,!0),null!==t&&(Nc(i,t,c),null!==u.classes&&ep(i,t,u.classes),null!==u.styles&&mT(i,t,u.styles)));const l=r.createRenderer(t,e),d=ya(n,FT(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(Oc(ta(u,n),o,e.type),GT(o,u),qT(u,n.length,1)),Zc(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)Nc(u,l,["ng-version",dS.full]);else{const{attrs:y,classes:S}=function PV(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Cn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&Nc(u,l,y),S&&S.length>0&&ep(u,l,S.join(" "))}if(_=uf(f,20),void 0!==n){const y=_.projection=[];for(let S=0;S<this.ngContentSelectors.length;S++){const k=n[S];y.push(null!=k?Array.from(k):null)}}m=function m0(t,e,n,r,i){const s=n[1],o=function t2(t,e,n){const r=$e();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),zT(t,r,e,As(t,e,1,null),n));const i=na(e,t,r.directiveStart,r);wt(i,e);const s=fn(r,e);return s&&wt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=$e();e.contentQueries(1,o,u.directiveStart)}const a=$e();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Vr(a.index),$T(n[1],a,0,a.directiveStart,a.directiveEnd,e),HT(e,o)),o}(w,this.componentDef,p,h,[B2]),_a(f,p,null)}finally{Sc()}return new Dj(this.componentType,m,Ks(_,p),p,_)}}class Dj extends class dj{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new vj(i),this.componentType=e}get injector(){return new ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Qs{}const Js=new Map;class mS extends Qs{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new hS(this);const r=ln(e);this._bootstrapComponents=qn(r.bootstrap),this._r3Injector=r0(e,n,[{provide:Qs,useValue:this},{provide:Ws,useValue:this.componentFactoryResolver}],ae(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Et.THROW_IF_NOT_FOUND,r=G.Default){return e===Et||e===Qs||e===Ep?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Jp extends class Tj{}{constructor(e){super(),this.moduleType=e,null!==ln(e)&&function Cj(t){const e=new Set;!function n(r){const i=ln(r,!0),s=i.id;null!==s&&(function pS(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${ae(e)} vs ${ae(e.name)}`)}(s,Js.get(s),r),Js.set(s,r));const o=qn(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new mS(this.moduleType,e)}}function yS(t,e,n,r,i,s){const o=e+n;return Dt(t,o,i)?function Wn(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function Ma(t,e){const n=t[e];return n===H?void 0:n}(t,o+1)}function DS(t,e,n){const r=t+20,i=E(),s=function fs(t,e){return t[e]}(i,r);return function Na(t,e){return t[1].data[e].pure}(i,r)?yS(i,function xt(){const t=U.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,s.transform,n,s):s.transform(n)}function Xp(t){return e=>{setTimeout(t,void 0,e)}}const fr=class $j extends lc{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Xp(u),a&&(a=Xp(a)),c&&(c=Xp(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof wn&&e.add(l),l}};Symbol;let pr=(()=>{class t{}return t.__NG_ELEMENT_ID__=zj,t})();const Gj=pr,qj=class extends Gj{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=ya(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),_a(n,r,e),new xa(r)}};function zj(){return function dl(t,e){return 4&t.type?new qj(e,t,Ks(t,e)):null}($e(),E())}let Qn=(()=>{class t{}return t.__NG_ELEMENT_ID__=Wj,t})();function Wj(){return function CS(t,e){let n;const r=e[t.index];if(bn(r))n=r;else{let i;if(8&t.type)i=Re(r);else{const s=e[z];i=s.createComment("");const o=fn(t,e);yi(s,zc(s,o),i,function IV(t,e){return be(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=WT(r,e,i,t),Zc(e,n)}return new bS(n,t,e)}($e(),E())}const Kj=Qn,bS=class extends Kj{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ks(this._hostTNode,this._hostLView)}get injector(){return new ys(this._hostTNode,this._hostLView)}get parentInjector(){const e=Pc(this._hostTNode,this._hostLView);if(db(e)){const n=ms(e,this._hostLView),r=gs(e);return new ys(n[1].data[r+8],n)}return new ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=TS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function ia(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new Qp(vt(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Qs,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function cF(t){return bn(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new bS(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function gV(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],wb(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function mV(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=Xf(s,o),u=r[z],c=zc(u,o[7]);return null!==c&&function hV(t,e,n,r,i,s){r[0]=i,r[6]=e,ma(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),wb(eg(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=TS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Yf(this._lContainer,n);r&&(Lc(eg(this._lContainer),n),iT(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Yf(this._lContainer,n);return r&&null!=Lc(eg(this._lContainer),n)?new xa(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function TS(t){return t[8]}function eg(t){return t[8]||(t[8]=[])}function pl(...t){}const KS=new ie("Application Initializer");let dg=(()=>{class t{constructor(n){this.appInits=n,this.resolve=pl,this.reject=pl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Lp(s))n.push(s);else if(EB(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(re(KS,8))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ra=new ie("AppId",{providedIn:"root",factory:function YS(){return`${hg()}${hg()}${hg()}`}});function hg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const QS=new ie("Platform Initializer"),Pa=new ie("Platform ID"),b$=new ie("appBootstrapListener");let T$=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const Hr=new ie("LocaleId",{providedIn:"root",factory:()=>nL(Hr,G.Optional|G.SkipSelf)||function C$(){return"undefined"!=typeof $localize&&$localize.locale||sl}()}),M$=(()=>Promise.resolve(0))();function fg(t){"undefined"==typeof Zone?M$.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class qe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fr(!1),this.onMicrotaskEmpty=new fr(!1),this.onStable=new fr(!1),this.onError=new fr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function N$(){let t=ue.requestAnimationFrame,e=ue.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function P$(t){const e=()=>{!function R$(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ue,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gg(t),t.isCheckStableRunning=!0,pg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return JS(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),XS(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return JS(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),XS(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,gg(t),pg(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qe.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(qe.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,k$,pl,pl);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const k$={};function pg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function JS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function XS(t){t._nesting--,pg(t)}class O${constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fr,this.onMicrotaskEmpty=new fr,this.onStable=new fr,this.onError=new fr}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let mg=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qe.assertNotInAngularZone(),fg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fg(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(re(qe))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})(),ZS=(()=>{class t{constructor(){this._applications=new Map,yg.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return yg.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();class F${addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let Pn,yg=new F$;const eA=new ie("AllowMultipleToken");function tA(t,e,n=[]){const r=`Platform: ${e}`,i=new ie(r);return(s=[])=>{let o=nA();if(!o||o.injector.get(eA,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:Dp,useValue:"platform"});!function U$(t){if(Pn&&!Pn.destroyed&&!Pn.injector.get(eA,!1))throw new se(400,"");Pn=t.get(rA);const e=t.get(QS,null);e&&e.forEach(n=>n())}(Et.create({providers:a,name:r}))}return function j$(t){const e=nA();if(!e)throw new se(401,"");return e}()}}function nA(){return Pn&&!Pn.destroyed?Pn:null}let rA=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function $$(t,e){let n;return n="noop"===t?new O$:("zone.js"===t?void 0:t)||new qe({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:qe,useValue:a}];return a.run(()=>{const c=Et.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(pa,null);if(!d)throw new se(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{vg(this._modules,l),h.unsubscribe()})}),function H$(t,e,n){try{const r=n();return Lp(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(dg);return h.runInitializers(),h.donePromise.then(()=>(function gU(t){Qt(t,"Expected localeId to be defined"),"string"==typeof t&&(FC=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Hr,sl)||sl),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=iA({},r);return function V$(t,e,n){const r=new Jp(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(_g);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new se(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(re(Et))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();function iA(t,e){return Array.isArray(e)?e.reduce(iA,t):Object.assign(Object.assign({},t),e)}let _g=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ze(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new Ze(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{qe.assertNotInAngularZone(),fg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{qe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=RD(a,u.pipe(function MO(t={}){const{connector:e=(()=>new lc),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return Mr((m,_)=>{c++,!d&&!l&&h();const w=u=null!=u?u:e();_.add(()=>{c--,0===c&&!d&&!l&&(a=jh(p,i))}),w.subscribe(_),o||(o=new uc({next:y=>w.next(y),error:y=>{d=!0,h(),a=jh(f,n,y),w.error(y)},complete:()=>{l=!0,h(),a=jh(f,r),w.complete()}}),Uh(m).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new se(405,"");let i;i=n instanceof aS?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function B$(t){return t.isBoundToModule}(i)?void 0:this._injector.get(Qs),a=i.create(Et.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(mg,null),l=c&&a.injector.get(ZS);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),vg(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new se(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;vg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(b$,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(re(qe),re(Et),re(pa),re(Ws),re(dg))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let oA=!0,cA=(()=>{class t{}return t.__NG_ELEMENT_ID__=z$,t})();function z$(t){return function W$(t,e,n){if(Ic(t)&&!n){const r=Xt(t.index,e);return new xa(r,r)}return 47&t.type?new xa(e[16],e):null}($e(),E(),16==(16&t))}const oH=tA(null,"core",[{provide:Pa,useValue:"unknown"},{provide:rA,deps:[Et]},{provide:ZS,deps:[]},{provide:T$,deps:[]}]);let aH=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(re(_g))},t.\u0275mod=Or({type:t}),t.\u0275inj=ar({}),t})(),_l=null;function Fa(){return _l}const Jn=new ie("DocumentToken");let Al=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new tG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){xA("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){xA("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(K(Qn),K(pr))},t.\u0275dir=cn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class tG{constructor(){this.$implicit=null,this.ngIf=null}}function xA(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ae(e)}'.`)}class aG{createSubscription(e,n){return e.subscribe({next:n,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class uG{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}onDestroy(e){}}const cG=new uG,lG=new aG;let NA=(()=>{class t{constructor(n){this._ref=n,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Lp(n))return cG;if(j0(n))return lG;throw function Fn(t,e){return new se(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(n){return new(n||t)(K(cA,16))},t.\u0275pipe=$t({name:"async",type:t,pure:!1}),t})(),SG=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Or({type:t}),t.\u0275inj=ar({}),t})();class Lg extends class RG extends class lH{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function cH(t){_l||(_l=t)}(new Lg)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function PG(){return Ba=Ba||document.querySelector("base"),Ba?Ba.getAttribute("href"):null}();return null==n?null:function OG(t){xl=xl||document.createElement("a"),xl.setAttribute("href",t);const e=xl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function QH(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let xl,Ba=null;const OA=new ie("TRANSITION_ID"),LG=[{provide:KS,useFactory:function FG(t,e,n){return()=>{n.get(dg).donePromise.then(()=>{const r=Fa(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[OA,Jn,Et],multi:!0}];class Vg{static init(){!function L$(t){yg=t}(new Vg)}addToWindow(e){ue.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ue.getAllAngularTestabilities=()=>e.getAllTestabilities(),ue.getAllAngularRootElements=()=>e.getAllRootElements(),ue.frameworkStabilizers||(ue.frameworkStabilizers=[]),ue.frameworkStabilizers.push(r=>{const i=ue.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Fa().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let VG=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const Ml=new ie("EventManagerPlugins");let Nl=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(re(Ml),re(qe))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();class FA{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Fa().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let LA=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})(),Ua=(()=>{class t extends LA{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(VA),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(VA))}}return t.\u0275fac=function(n){return new(n||t)(re(Jn))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();function VA(t){Fa().remove(t)}const Bg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ug=/%COMP%/g;function kl(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?kl(t,i,n):(i=i.replace(Ug,t),n.push(i))}return n}function jA(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let jg=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new $g(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Un.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new GG(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Un.ShadowDom:return new qG(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=kl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(re(Nl),re(Ua),re(Ra))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();class $g{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Bg[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Bg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Bg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(en.DashCase|en.Important)?e.style.setProperty(n,r,i&en.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&en.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,jA(r)):this.eventManager.addEventListener(e,n,jA(r))}}class GG extends $g{constructor(e,n,r,i){super(e),this.component=r;const s=kl(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function jG(t){return"_ngcontent-%COMP%".replace(Ug,t)}(i+"-"+r.id),this.hostAttr=function $G(t){return"_nghost-%COMP%".replace(Ug,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class qG extends $g{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=kl(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let zG=(()=>{class t extends FA{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(re(Jn))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const HA=["alt","control","meta","shift"],KG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GA={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},YG={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let QG=(()=>{class t extends FA{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fa().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(HA.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function JG(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&GA.hasOwnProperty(e)&&(e=GA[e]))}return KG[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),HA.forEach(s=>{s!=i&&YG[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(re(Jn))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const tq=tA(oH,"browser",[{provide:Pa,useValue:"browser"},{provide:QS,useValue:function XG(){Lg.makeCurrent(),Vg.init()},multi:!0},{provide:Jn,useFactory:function eq(){return function sF(t){sf=t}(document),document},deps:[]}]),nq=[{provide:Dp,useValue:"root"},{provide:pa,useFactory:function ZG(){return new pa},deps:[]},{provide:Ml,useClass:zG,multi:!0,deps:[Jn,qe,Pa]},{provide:Ml,useClass:QG,multi:!0,deps:[Jn]},{provide:jg,useClass:jg,deps:[Nl,Ua,Ra]},{provide:cS,useExisting:jg},{provide:LA,useExisting:Ua},{provide:Ua,useClass:Ua,deps:[Jn]},{provide:mg,useClass:mg,deps:[qe]},{provide:Nl,useClass:Nl,deps:[Ml,qe]},{provide:class kG{},useClass:VG,deps:[]}];let rq=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ra,useValue:n.appId},{provide:OA,useExisting:Ra},LG]}}}return t.\u0275fac=function(n){return new(n||t)(re(t,12))},t.\u0275mod=Or({type:t}),t.\u0275inj=ar({providers:nq,imports:[SG,aH]}),t})();"undefined"!=typeof window&&window;const Gg={now:()=>(Gg.delegate||Date).now(),delegate:void 0};class pq extends lc{constructor(e=1/0,n=1/0,r=Gg){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}function WA(t,e){return Mr((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Nr(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;di(t(u,l)).subscribe(i=Nr(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}const Rl={schedule(t,e){const n=setTimeout(t,e);return()=>clearTimeout(n)},scheduleBeforeRender(t){if("undefined"==typeof window)return Rl.schedule(t,0);if(void 0===window.requestAnimationFrame)return Rl.schedule(t,16);const e=window.requestAnimationFrame(t);return()=>window.cancelAnimationFrame(e)}};let qg;function Dq(t,e,n){let r=n;return function mq(t){return!!t&&t.nodeType===Node.ELEMENT_NODE}(t)&&e.some((i,s)=>!("*"===i||!function _q(t,e){if(!qg){const n=Element.prototype;qg=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}return t.nodeType===Node.ELEMENT_NODE&&qg.call(t,e)}(t,i)||(r=s,0))),r}class Tq{constructor(e,n){this.componentFactory=n.get(Ws).resolveComponentFactory(e)}create(e){return new Cq(this.componentFactory,e)}}class Cq{constructor(e,n){this.componentFactory=e,this.injector=n,this.eventEmitters=new pq(1),this.events=this.eventEmitters.pipe(WA(r=>RD(...r))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:r})=>r)),this.ngZone=this.injector.get(qe),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=Rl.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,n){this.runInZone(()=>{null!==this.componentRef?function vq(t,e){return t===e||t!=t&&e!=e}(n,this.getInputValue(e))&&(void 0!==n||!this.unchangedInputs.has(e))||(this.recordInputChange(e,n),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=n,this.scheduleDetectChanges()):this.initialInputValues.set(e,n)})}initializeComponent(e){const n=Et.create({providers:[],parent:this.injector}),r=function Eq(t,e){const n=t.childNodes,r=e.map(()=>[]);let i=-1;e.some((s,o)=>"*"===s&&(i=o,!0));for(let s=0,o=n.length;s<o;++s){const a=n[s],u=Dq(a,e,i);-1!==u&&r[u].push(a)}return r}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(n,r,e),this.viewChangeDetectorRef=this.componentRef.injector.get(cA),this.implementsOnChanges=function yq(t){return"function"==typeof t}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(_g).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))}),this.initialInputValues.clear()}initializeOutputs(e){const n=this.componentFactory.outputs.map(({propName:r,templateName:i})=>e.instance[r].pipe(dc(o=>({name:i,value:o}))));this.eventEmitters.next(n)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const n=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(n)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Rl.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,n){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const r=this.inputChanges[e];if(r)return void(r.currentValue=n);const i=this.unchangedInputs.has(e),s=i?void 0:this.getInputValue(e);this.inputChanges[e]=new qD(s,n,i)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class Sq extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function Aq(t,e){const n=function wq(t,e){return e.get(Ws).resolveComponentFactory(t).inputs}(t,e.injector),r=e.strategyFactory||new Tq(t,e.injector),i=function Iq(t){const e={};return t.forEach(({propName:n,templateName:r})=>{e[function gq(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(r)]=n}),e}(n);class s extends Sq{constructor(a){super(),this.injector=a}get ngElementStrategy(){if(!this._ngElementStrategy){const a=this._ngElementStrategy=r.create(this.injector||e.injector);n.forEach(({propName:u})=>{if(!this.hasOwnProperty(u))return;const c=this[u];delete this[u],a.setInputValue(u,c)})}return this._ngElementStrategy}attributeChangedCallback(a,u,c,l){this.ngElementStrategy.setInputValue(i[a],c)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{const u=new CustomEvent(a.name,{detail:a.value});this.dispatchEvent(u)})}}return s.observedAttributes=Object.keys(i),n.forEach(({propName:o})=>{Object.defineProperty(s.prototype,o,{get(){return this.ngElementStrategy.getInputValue(o)},set(a){this.ngElementStrategy.setInputValue(o,a)},configurable:!0,enumerable:!0})}),s}const KA_firebase={apiKey:"AIzaSyCShVs_21ZN-KpiDGJBGvm6RivRpENCvGc",authDomain:"nxcoder-app.firebaseapp.com",projectId:"nxcoder-app",storageBucket:"nxcoder-app.appspot.com",messagingSenderId:"905119792725",appId:"1:905119792725:web:db8a9d1c9355acc6609edc",measurementId:"G-0S12ZX2FQW"};function YA(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){YA(s,r,i,o,a,"next",u)}function a(u){YA(s,r,i,o,a,"throw",u)}o(void 0)})}}const QA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Wg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Pl=function(t){return function(t){const e=QA(t);return Wg.encodeByteArray(e,!0)}(t).replace(/\./g,"")};class Yg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function tt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function XA(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function Ol(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function ZA(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ex(){const t=tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Di(){return"object"==typeof indexedDB}function ja(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Qg(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Xn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zn.prototype.create)}}class Zn{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Vq(t,e){return t.replace(Bq,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Xn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Bq=/\{\$([^}]+)}/g;function Ll(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(nx(s)&&nx(o)){if(!Ll(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nx(t){return null!==t&&"object"==typeof t}function $a(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ha(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ga(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class $q{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Hq(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Jg),void 0===i.error&&(i.error=Jg),void 0===i.complete&&(i.complete=Jg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jg(){}function Zg(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Ot(t){return t&&t._delegate?t._delegate:t}function qa(t,e){return new Promise((n,r)=>{t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var s;r(`${e}: ${null===(s=i.target.error)||void 0===s?void 0:s.message}`)}})}class rx{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,n){return new ix(this._db.transaction.call(this._db,e,n))}createObjectStore(e,n){return new sx(this._db.createObjectStore(e,n))}close(){this._db.close()}}class ix{constructor(e){this._transaction=e,this.complete=new Promise((n,r)=>{this._transaction.oncomplete=function(){n()},this._transaction.onerror=()=>{r(this._transaction.error)},this._transaction.onabort=()=>{r(this._transaction.error)}})}objectStore(e){return new sx(this._transaction.objectStore(e))}}class sx{constructor(e){this._store=e}index(e){return new ox(this._store.index(e))}createIndex(e,n,r){return new ox(this._store.createIndex(e,n,r))}get(e){return qa(this._store.get(e),"Error reading from IndexedDB")}put(e,n){return qa(this._store.put(e,n),"Error writing to IndexedDB")}delete(e){return qa(this._store.delete(e),"Error deleting from IndexedDB")}clear(){return qa(this._store.clear(),"Error clearing IndexedDB object store")}}class ox{constructor(e){this._index=e}get(e){return qa(this._index.get(e),"Error reading from IndexedDB")}}function Vl(t,e,n){return new Promise((r,i)=>{try{const s=indexedDB.open(t,e);s.onsuccess=o=>{r(new rx(o.target.result))},s.onerror=o=>{var a;i(`Error opening indexedDB: ${null===(a=o.target.error)||void 0===a?void 0:a.message}`)},s.onupgradeneeded=o=>{n(new rx(s.result),o.oldVersion,o.newVersion,new ix(s.transaction))}}catch(s){i(`Error opening indexedDB: ${s.message}`)}})}function em(t){return tm.apply(this,arguments)}function tm(){return(tm=g(function*(t){return new Promise((e,n)=>{try{const r=indexedDB.deleteDatabase(t);r.onsuccess=()=>{e()},r.onerror=i=>{var s;n(`Error deleting indexedDB database "${t}": ${null===(s=i.target.error)||void 0===s?void 0:s.message}`)}}catch(r){n(`Error deleting indexedDB database "${t}": ${r.message}`)}})})).apply(this,arguments)}class bt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const bi="[DEFAULT]";class Yq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Yg;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Jq(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===bi?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Xq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Yq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const nm=[];var Z=(()=>{return(t=Z||(Z={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",Z;var t})();const ax={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},Zq=Z.INFO,ez={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},tz=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=ez[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Zs{constructor(e){this.name=e,this._logLevel=Zq,this._logHandler=tz,this._userLogHandler=null,nm.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Z))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ax[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...e),this._logHandler(this,Z.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...e),this._logHandler(this,Z.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...e),this._logHandler(this,Z.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...e),this._logHandler(this,Z.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...e),this._logHandler(this,Z.ERROR,...e)}}class nz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function rz(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const rm="@firebase/app",im=new Zs("@firebase/app"),sm="[DEFAULT]",xz={[rm]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ti=new Map,Bl=new Map;function Mz(t,e){try{t.container.addComponent(e)}catch(n){im.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ft(t){const e=t.name;if(Bl.has(e))return im.debug(`There were multiple attempts to register component ${e}.`),!1;Bl.set(e,t);for(const n of Ti.values())Mz(n,t);return!0}function eo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const qr=new Zn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class kz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const to="9.6.10";function Rz(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:sm,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw qr.create("bad-app-name",{appName:String(r)});const i=Ti.get(r);if(i){if(Ll(t,i.options)&&Ll(n,i.config))return i;throw qr.create("duplicate-app",{appName:r})}const s=new Xq(r);for(const a of Bl.values())s.addComponent(a);const o=new kz(t,n,s);return Ti.set(r,o),o}function om(t=sm){const e=Ti.get(t);if(!e)throw qr.create("no-app",{appName:t});return e}function cx(){return Array.from(Ti.values())}function Se(t,e,n){var r;let i=null!==(r=xz[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void im.warn(a.join(" "))}Ft(new bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const za="firebase-heartbeat-store";let um=null;function lx(){return um||(um=Vl("firebase-heartbeat-database",1,(t,e)=>{0===e&&t.createObjectStore(za)}).catch(t=>{throw qr.create("storage-open",{originalErrorMessage:t.message})})),um}function cm(){return(cm=g(function*(t){try{return(yield lx()).transaction(za).objectStore(za).get(hx(t))}catch(e){throw qr.create("storage-get",{originalErrorMessage:e.message})}})).apply(this,arguments)}function dx(t,e){return lm.apply(this,arguments)}function lm(){return(lm=g(function*(t,e){try{const r=(yield lx()).transaction(za,"readwrite");return yield r.objectStore(za).put(e,hx(t)),r.complete}catch(n){throw qr.create("storage-set",{originalErrorMessage:n.message})}})).apply(this,arguments)}function hx(t){return`${t.name}!${t.options.appId}`}class Bz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=fx();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=fx(),{heartbeatsToSend:r,unsentEntries:i}=function Uz(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),px(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),px(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Pl(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function fx(){return(new Date).toISOString().substring(0,10)}class jz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Di()&&ja().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Fz(t){return cm.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return dx(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return dx(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function px(t){return Pl(JSON.stringify({version:2,heartbeats:t})).length}!function $z(t){Ft(new bt("platform-logger",e=>new nz(e),"PRIVATE")),Ft(new bt("heartbeat",e=>new Bz(e),"PRIVATE")),Se(rm,"0.7.20",t),Se(rm,"0.7.20","esm2017"),Se("fire-js","")}(""),Se("firebase","9.6.10","app");const gx="@firebase/installations",yx="w:0.5.7",_x="FIS_v2",mr=new Zn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function vx(t){return t instanceof Xn&&t.code.includes("request-failed")}function hm({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Ix(t){return{token:t.token,requestStatus:2,expiresIn:Qz(t.expiresIn),creationTime:Date.now()}}function fm(t,e){return pm.apply(this,arguments)}function pm(){return(pm=g(function*(t,e){const r=(yield e.json()).error;return mr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function wx({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ex(t,{refreshToken:e}){const n=wx(t);return n.append("Authorization",function Jz(t){return`${_x} ${t}`}(e)),n}function gm(t){return mm.apply(this,arguments)}function mm(){return(mm=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Qz(t){return Number(t.replace("s","000"))}function Xz(t,e){return ym.apply(this,arguments)}function ym(){return(ym=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=hm(t),i=wx(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:_x,appId:t.appId,sdkVersion:yx})},u=yield gm(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Ix(c.authToken)}}throw yield fm("Create Installation",u)})).apply(this,arguments)}function Dx(t){return new Promise(e=>{setTimeout(e,t)})}const eW=/^[cdef][\w-]{21}$/;function tW(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function nW(t){return function Zz(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return eW.test(n)?n:""}catch(t){return""}}function no(t){return`${t.appName}!${t.appId}`}const ro=new Map;function bx(t,e){const n=no(t);Tx(n,e),function sW(t,e){const n=function Cx(){return!Ci&&"BroadcastChannel"in self&&(Ci=new BroadcastChannel("[Firebase] FID Change"),Ci.onmessage=t=>{Tx(t.data.key,t.data.fid)}),Ci}();n&&n.postMessage({key:t,fid:e}),function Sx(){0===ro.size&&Ci&&(Ci.close(),Ci=null)}()}(n,e)}function Tx(t,e){const n=ro.get(t);if(n)for(const r of n)r(e)}let Ci=null;const Si="firebase-installations-store";let vm=null;function Im(){return vm||(vm=Vl("firebase-installations-database",1,(t,e)=>{0===e&&t.createObjectStore(Si)})),vm}function Ul(t,e){return wm.apply(this,arguments)}function wm(){return(wm=g(function*(t,e){const n=no(t),i=(yield Im()).transaction(Si,"readwrite"),s=i.objectStore(Si),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&bx(t,e.fid),e})).apply(this,arguments)}function Em(t){return Dm.apply(this,arguments)}function Dm(){return(Dm=g(function*(t){const e=no(t),r=(yield Im()).transaction(Si,"readwrite");yield r.objectStore(Si).delete(e),yield r.complete})).apply(this,arguments)}function Wa(t,e){return bm.apply(this,arguments)}function bm(){return(bm=g(function*(t,e){const n=no(t),i=(yield Im()).transaction(Si,"readwrite"),s=i.objectStore(Si),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&bx(t,a.fid),a})).apply(this,arguments)}function Tm(t){return Cm.apply(this,arguments)}function Cm(){return(Cm=g(function*(t){let e;const n=yield Wa(t.appConfig,r=>{const i=uW(r),s=cW(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function uW(t){return xx(t||{fid:tW(),registrationStatus:0})}function cW(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(mr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function lW(t,e){return Sm.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:dW(t)}:{installationEntry:e}}function Sm(){return(Sm=g(function*(t,e){try{const n=yield Xz(t,e);return Ul(t.appConfig,n)}catch(n){throw vx(n)&&409===n.customData.serverCode?yield Em(t.appConfig):yield Ul(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function dW(t){return Am.apply(this,arguments)}function Am(){return(Am=g(function*(t){let e=yield Ax(t.appConfig);for(;1===e.registrationStatus;)yield Dx(100),e=yield Ax(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Tm(t);return r||n}return e})).apply(this,arguments)}function Ax(t){return Wa(t,e=>{if(!e)throw mr.create("installation-not-found");return xx(e)})}function xx(t){return function hW(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function fW(t,e){return xm.apply(this,arguments)}function xm(){return(xm=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=pW(t,n),i=Ex(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:yx,appId:t.appId}})},u=yield gm(()=>fetch(r,a));if(u.ok)return Ix(yield u.json());throw yield fm("Generate Auth Token",u)})).apply(this,arguments)}function pW(t,{fid:e}){return`${hm(t)}/${e}/authTokens:generate`}function Mm(t){return Nm.apply(this,arguments)}function Nm(){return(Nm=g(function*(t,e=!1){let n;const r=yield Wa(t.appConfig,s=>{if(!Nx(s))throw mr.create("not-registered");const o=s.authToken;if(!e&&yW(o))return s;if(1===o.requestStatus)return n=gW(t,e),s;{if(!navigator.onLine)throw mr.create("app-offline");const a=vW(s);return n=mW(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function gW(t,e){return km.apply(this,arguments)}function km(){return(km=g(function*(t,e){let n=yield Mx(t.appConfig);for(;1===n.authToken.requestStatus;)yield Dx(100),n=yield Mx(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Mm(t,e):r})).apply(this,arguments)}function Mx(t){return Wa(t,e=>{if(!Nx(e))throw mr.create("not-registered");return function IW(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function mW(t,e){return Rm.apply(this,arguments)}function Rm(){return(Rm=g(function*(t,e){try{const n=yield fW(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Ul(t.appConfig,r),n}catch(n){if(!vx(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ul(t.appConfig,r)}else yield Em(t.appConfig);throw n}})).apply(this,arguments)}function Nx(t){return void 0!==t&&2===t.registrationStatus}function yW(t){return 2===t.requestStatus&&!function _W(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function vW(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Pm(){return(Pm=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Tm(e);return r?r.catch(console.error):Mm(e).catch(console.error),n.fid})).apply(this,arguments)}function Om(){return(Om=g(function*(t,e=!1){const n=t;return yield DW(n),(yield Mm(n,e)).token})).apply(this,arguments)}function DW(t){return Fm.apply(this,arguments)}function Fm(){return(Fm=g(function*(t){const{registrationPromise:e}=yield Tm(t);e&&(yield e)})).apply(this,arguments)}function Bm(t){return mr.create("missing-app-config-values",{valueName:t})}const kx="installations",AW=t=>{const e=t.getProvider("app").getImmediate(),n=function CW(t){if(!t||!t.options)throw Bm("App Configuration");if(!t.name)throw Bm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Bm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:eo(e,"heartbeat"),_delete:()=>Promise.resolve()}},xW=t=>{const n=eo(t.getProvider("app").getImmediate(),kx).getImmediate();return{getId:()=>function wW(t){return Pm.apply(this,arguments)}(n),getToken:i=>function EW(t){return Om.apply(this,arguments)}(n,i)}};(function MW(){Ft(new bt(kx,AW,"PUBLIC")),Ft(new bt("installations-internal",xW,"PRIVATE"))})(),Se(gx,"0.5.7"),Se(gx,"0.5.7","esm2017");const Um="@firebase/remote-config",qt=new Zn("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class jW{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function $W(t=navigator){return t.languages&&t.languages[0]||t.language}class HW{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:$W()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,y)=>{e.signal.addEventListener(()=>{const S=new Error("The operation was aborted.");S.name="AbortError",y(S)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let y="fetch-client-network";throw"AbortError"===w.name&&(y="fetch-timeout"),qt.create(y,{originalErrorMessage:w.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,_;if(200===h.status){let w;try{w=yield h.json()}catch(y){throw qt.create("fetch-client-parse",{originalErrorMessage:y.message})}m=w.entries,_=w.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(m={}),304!==f&&200!==f)throw qt.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class zW{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function GW(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(qt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function qW(t){if(!(t instanceof Xn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Zg(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class YW{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function $l(t,e){const n=t.target.error||void 0;return qt.create(e,{originalErrorMessage:n&&n.message})}const Ai="app_namespace_store";class ZW{constructor(e,n,r,i=function XW(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e($l(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ai,{keyPath:"compositeKey"})}}catch(n){e(qt.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ai],"readonly").objectStore(Ai),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s($l(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(qt.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Ai],"readwrite").objectStore(Ai),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o($l(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(qt.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ai],"readwrite").objectStore(Ai),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s($l(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(qt.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class e3{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function n3(){return qm.apply(this,arguments)}function qm(){return(qm=g(function*(){if(!Di())return!1;try{return yield ja()}catch(t){return!1}})).apply(this,arguments)}!function t3(){Ft(new bt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw qt.create("registration-window");if(!Di())throw qt.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw qt.create("registration-project-id");if(!o)throw qt.create("registration-api-key");if(!a)throw qt.create("registration-app-id");const u=new ZW(a,r.name,n=n||"firebase"),c=new e3(u),l=new Zs(Um);l.logLevel=Z.ERROR;const d=new HW(i,to,n,s,o,a),h=new zW(d,u),f=new jW(h,u,c,l),p=new YW(r,f,c,u,l);return function VW(t){const e=Ot(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Se(Um,"0.3.6"),Se(Um,"0.3.6","esm2017")}();const r3="/firebase-messaging-sw.js",i3="/firebase-cloud-messaging-push-scope",Fx="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Lx="google.c.a.c_id",o3="google.c.a.c_l",a3="google.c.a.ts",u3="google.c.a.e";var io=(()=>{return(t=io||(io={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",io;var t})();function yr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function c3(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const zm="fcm_token_details_db",Vx="fcm_token_object_Store";function d3(t){return Wm.apply(this,arguments)}function Wm(){return Wm=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(zm))return null;let e=null;return(yield Vl(zm,5,function(){var r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(Vx))return;const c=a.objectStore(Vx),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:yr(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:yr(d.auth),p256dh:yr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:yr(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:yr(d.auth),p256dh:yr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:yr(d.vapidKey)}}}});return function(i,s,o,a){return r.apply(this,arguments)}}())).close(),yield em(zm),yield em("fcm_vapid_details_db"),yield em("undefined"),h3(e)?e:null}),Wm.apply(this,arguments)}function h3(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const xi="firebase-messaging-store";let Km=null;function Ym(){return Km||(Km=Vl("firebase-messaging-database",1,(t,e)=>{0===e&&t.createObjectStore(xi)})),Km}function Bx(t){return Qm.apply(this,arguments)}function Qm(){return(Qm=g(function*(t){const e=ey(t),r=yield(yield Ym()).transaction(xi).objectStore(xi).get(e);if(r)return r;{const i=yield d3(t.appConfig.senderId);if(i)return yield Jm(t,i),i}})).apply(this,arguments)}function Jm(t,e){return Xm.apply(this,arguments)}function Xm(){return(Xm=g(function*(t,e){const n=ey(t),i=(yield Ym()).transaction(xi,"readwrite");return yield i.objectStore(xi).put(e,n),yield i.complete,e})).apply(this,arguments)}function g3(t){return Zm.apply(this,arguments)}function Zm(){return(Zm=g(function*(t){const e=ey(t),r=(yield Ym()).transaction(xi,"readwrite");yield r.objectStore(xi).delete(e),yield r.complete})).apply(this,arguments)}function ey({appConfig:t}){return t.appId}const lt=new Zn("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function y3(t,e){return ty.apply(this,arguments)}function ty(){return(ty=g(function*(t,e){const n=yield sy(t),r=jx(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(iy(t.appConfig),i)).json()}catch(o){throw lt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw lt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw lt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function _3(t,e){return ny.apply(this,arguments)}function ny(){return(ny=g(function*(t,e){const n=yield sy(t),r=jx(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${iy(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw lt.create("token-update-failed",{errorInfo:o})}if(s.error)throw lt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw lt.create("token-update-no-token");return s.token})).apply(this,arguments)}function Ux(t,e){return ry.apply(this,arguments)}function ry(){return(ry=g(function*(t,e){const r={method:"DELETE",headers:yield sy(t)};try{const s=yield(yield fetch(`${iy(t.appConfig)}/${e}`,r)).json();if(s.error)throw lt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw lt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function iy({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function sy(t){return oy.apply(this,arguments)}function oy(){return(oy=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function jx({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Fx&&(i.web.applicationPubKey=r),i}const v3=6048e5;function I3(t){return ay.apply(this,arguments)}function ay(){return(ay=g(function*(t){const e=yield E3(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:yr(e.getKey("auth")),p256dh:yr(e.getKey("p256dh"))},r=yield Bx(t.firebaseDependencies);if(r){if(D3(r.subscriptionOptions,n))return Date.now()>=r.createTime+v3?w3(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield Ux(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Hx(t.firebaseDependencies,n)}return Hx(t.firebaseDependencies,n)})).apply(this,arguments)}function $x(t){return uy.apply(this,arguments)}function uy(){return(uy=g(function*(t){const e=yield Bx(t.firebaseDependencies);e&&(yield Ux(t.firebaseDependencies,e.token),yield g3(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function w3(t,e){return cy.apply(this,arguments)}function cy(){return(cy=g(function*(t,e){try{const n=yield _3(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Jm(t.firebaseDependencies,r),n}catch(n){throw yield $x(t),n}})).apply(this,arguments)}function Hx(t,e){return ly.apply(this,arguments)}function ly(){return(ly=g(function*(t,e){const r={token:yield y3(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Jm(t,r),r.token})).apply(this,arguments)}function E3(t,e){return dy.apply(this,arguments)}function dy(){return(dy=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:c3(e)})})).apply(this,arguments)}function D3(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function Gx(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function b3(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function T3(t,e){!e.data||(t.data=e.data)}(e,t),function C3(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function S3(t){return"object"==typeof t&&!!t&&Lx in t}function qx(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function hy(t){return lt.create("missing-app-config-values",{valueName:t})}qx("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qx("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class x3{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function A3(t){if(!t||!t.options)throw hy("App Configuration Object");if(!t.name)throw hy("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw hy(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function zx(t){return fy.apply(this,arguments)}function fy(){return(fy=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(r3,{scope:i3}),t.swRegistration.update().catch(()=>{})}catch(e){throw lt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function M3(t,e){return py.apply(this,arguments)}function py(){return(py=g(function*(t,e){if(!e&&!t.swRegistration&&(yield zx(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw lt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function N3(t,e){return gy.apply(this,arguments)}function gy(){return(gy=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Fx)})).apply(this,arguments)}function my(){return(my=g(function*(t,e){if(!navigator)throw lt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw lt.create("permission-blocked");return yield N3(t,null==e?void 0:e.vapidKey),yield M3(t,null==e?void 0:e.serviceWorkerRegistration),I3(t)})).apply(this,arguments)}function k3(t,e,n){return yy.apply(this,arguments)}function yy(){return(yy=g(function*(t,e,n){const r=R3(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Lx],message_name:n[o3],message_time:n[a3],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function R3(t){switch(t){case io.NOTIFICATION_CLICKED:return"notification_open";case io.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function _y(){return(_y=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===io.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(Gx(n)):t.onMessageHandler.next(Gx(n)));const r=n.data;S3(r)&&"1"===r[u3]&&(yield k3(t,n.messageType,r))})).apply(this,arguments)}const Kx="@firebase/messaging",O3=t=>{const e=new x3(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function P3(t,e){return _y.apply(this,arguments)}(e,n)),e},F3=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function Wx(t,e){return my.apply(this,arguments)}(e,r)}};function Qx(){return vy.apply(this,arguments)}function vy(){return(vy=g(function*(){try{yield ja()}catch(t){return!1}return"undefined"!=typeof window&&Di()&&Qg()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function L3(){Ft(new bt("messaging",O3,"PUBLIC")),Ft(new bt("messaging-internal",F3,"PRIVATE")),Se(Kx,"0.9.11"),Se(Kx,"0.9.11","esm2017")}();const Hl="analytics",U3="firebase_id",H3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jx="https://www.googletagmanager.com/gtag/js",dt=new Zs("@firebase/analytics");function Xx(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function G3(t,e){const n=document.createElement("script");n.src=`${Jx}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function z3(t,e,n,r,i,s){return Ey.apply(this,arguments)}function Ey(){return(Ey=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield Xx(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){dt.error(a)}t("config",i,s)})).apply(this,arguments)}function W3(t,e,n,r,i){return Dy.apply(this,arguments)}function Dy(){return(Dy=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield Xx(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){dt.error(s)}})).apply(this,arguments)}function Q3(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Jx))return e;return null}const sn=new Zn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Zx=new class e8{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function t8(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function n8(t){return by.apply(this,arguments)}function by(){return(by=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:t8(r)},s=H3.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw sn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function r8(t){return Ty.apply(this,arguments)}function Ty(){return(Ty=g(function*(t,e=Zx,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw sn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw sn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new o8;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:6e4),eM({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function eM(t,e,n){return Cy.apply(this,arguments)}function Cy(){return(Cy=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Zx){const{appId:s,measurementId:o}=t;try{yield i8(r,e)}catch(a){if(o)return dt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield n8(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!s8(a)){if(i.deleteThrottleMetadata(s),o)return dt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?Zg(n,i.intervalMillis,30):Zg(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),dt.debug(`Calling attemptFetch again in ${u} millis`),eM(t,c,r,i)}})).apply(this,arguments)}function i8(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function s8(t){if(!(t instanceof Xn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class o8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function a8(){return Sy.apply(this,arguments)}function Sy(){return(Sy=g(function*(){if(!Di())return dt.warn(sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ja()}catch(t){return dt.warn(sn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function Ay(){return(Ay=g(function*(t,e,n,r,i,s,o){var a;const u=r8(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&dt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>dt.error(f)),e.push(u);const c=a8().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);Q3()||G3(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[U3]=d),i("config",l.measurementId,h),l.measurementId})).apply(this,arguments)}class c8{constructor(e){this.app=e}_delete(){return delete _r[this.app.options.appId],Promise.resolve()}}let _r={},tM=[];const nM={};let iM,Ka,Gl="dataLayer",xy=!1;function d8(t,e,n){!function l8(){const t=[];if(Ol()&&t.push("This is a browser extension environment."),Qg()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=sn.create("invalid-analytics-context",{errorInfo:e});dt.warn(n.message)}}();const r=t.options.appId;if(!r)throw sn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw sn.create("no-api-key");dt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_r[r])throw sn.create("already-exists",{id:r});if(!xy){!function q3(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Gl);const{wrappedGtag:s,gtagCore:o}=function Y3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function K3(t,e,n,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield W3(t,e,n,a,u):"config"===o?yield z3(t,e,n,r,a,u):t("set",a)}catch(c){dt.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(_r,tM,nM,Gl,"gtag");Ka=s,iM=o,xy=!0}return _r[r]=function u8(t,e,n,r,i,s,o){return Ay.apply(this,arguments)}(t,tM,nM,e,iM,Gl,n),new c8(t)}function My(){return(My=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function _8(){return Oy.apply(this,arguments)}function Oy(){return(Oy=g(function*(){if(Ol()||!Qg()||!Di())return!1;try{return yield ja()}catch(t){return!1}})).apply(this,arguments)}const sM="@firebase/analytics";!function I8(){Ft(new bt(Hl,(e,{options:n})=>d8(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Ft(new bt("analytics-internal",function t(e){try{const n=e.getProvider(Hl).getImmediate();return{logEvent:(r,i,s)=>function v8(t,e,n,r){t=Ot(t),function h8(t,e,n,r,i){return My.apply(this,arguments)}(Ka,_r[t.app.options.appId],e,n,r).catch(i=>dt.error(i))}(n,r,i,s)}}catch(n){throw sn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Se(sM,"0.7.7"),Se(sM,"0.7.7","esm2017")}();class w8 extends wn{constructor(e,n){super()}schedule(e,n=0){return this}}const ql={setInterval(t,e,...n){const{delegate:r}=ql;return(null==r?void 0:r.setInterval)?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=ql;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class aM extends w8{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return ql.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;ql.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,os(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}class Ya{constructor(e,n=Ya.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Ya.now=Gg.now;class uM extends Ya{constructor(e,n=Ya.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const b8=new class D8 extends uM{}(class E8 extends aM{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),T8=new uM(aM),zl=new Aa("7.3.0"),Fy="__angularfire_symbol__analyticsIsSupportedValue",Ly="__angularfire_symbol__analyticsIsSupported",Vy="__angularfire_symbol__remoteConfigIsSupportedValue",By="__angularfire_symbol__remoteConfigIsSupported",Uy="__angularfire_symbol__messagingIsSupportedValue",jy="__angularfire_symbol__messagingIsSupported";function Hy(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Ly]||(globalThis[Ly]=_8().then(t=>globalThis[Fy]=t).catch(()=>globalThis[Fy]=!1)),globalThis[jy]||(globalThis[jy]=Qx().then(t=>globalThis[Uy]=t).catch(()=>globalThis[Uy]=!1)),globalThis[By]||(globalThis[By]=n3().then(t=>globalThis[Vy]=t).catch(()=>globalThis[Vy]=!1));const Gy=(t,e)=>{const n=e?[e]:cx(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function so(){}class cM{constructor(e,n=b8){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class S8{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",so,{},so,so)),n.pipe(function C8(t,e,n){const r=Ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?Mr((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Nr(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Oh}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qy=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new cM(Zone.current)),this.insideAngular=n.run(()=>new cM(Zone.current,T8)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(re(qe))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Mi(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function A8(t){return Mi().ngZone.runOutsideAngular(()=>t())}function Ni(t){return Mi().ngZone.run(()=>t())}function x8(t){return Mi(),function M8(t){return function(n){return(n=n.lift(new S8(t.ngZone))).pipe(fc(t.outsideAngular),hc(t.insideAngular))}}(Mi())(t)}const N8=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ni(()=>t.apply(void 0,r))},er=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Ni(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",so,{},so,so)))),r[s]=N8(r[s],n));const i=A8(()=>t.apply(this,r));if(!e){if(i instanceof Ze){const s=Mi();return i.pipe(fc(s.outsideAngular),hc(s.insideAngular))}return Ni(()=>i)}return i instanceof Ze?i.pipe(x8):i instanceof Promise?Ni(()=>new Promise((s,o)=>i.then(a=>Ni(()=>s(a)),a=>Ni(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ni(()=>i)};class oo{constructor(e){return e}}class zy{constructor(){return cx()}}const Wy=new ie("angularfire2._apps"),R8={provide:oo,useFactory:function k8(t){return t&&1===t.length?t[0]:new oo(om())},deps:[[new Nt,Wy]]},P8={provide:zy,deps:[[new Nt,Wy]]};function O8(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new oo(r)}}let F8=(()=>{class t{constructor(n){Se("angularfire",zl.full,"core"),Se("angularfire",zl.full,"app"),Se("angular",dS.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(re(Pa))},t.\u0275mod=Or({type:t}),t.\u0275inj=ar({providers:[R8,P8]}),t})();function L8(t,...e){return{ngModule:F8,providers:[{provide:Wy,useFactory:O8(t),multi:!0,deps:[qe,Et,qy,...e]}]}}const V8=er(Rz,!0),lM=new Map,B8={activated:!1,tokenObservers:[]},U8={initialized:!1,enabled:!1};function nt(t){return lM.get(t)||B8}function Ln(t,e){lM.set(t,e)}function Wl(){return U8}class q8{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new Yg,yield function z8(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Yg,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Lt=new Zn("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function hM(t){if(!nt(t).activated)throw Lt.create("use-before-activation",{appName:t.name})}function Qy(t,e){return Jy.apply(this,arguments)}function Jy(){return(Jy=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Lt.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw Lt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Lt.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Lt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function J8(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Qa="firebase-app-check-store";let Ql=null;function pM(){return Ql||(Ql=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Lt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Qa,{keyPath:"compositeKey"})}}catch(n){e(Lt.create("storage-open",{originalErrorMessage:n.message}))}}),Ql)}function Xy(){return(Xy=g(function*(t,e){const r=(yield pM()).transaction(Qa,"readwrite"),s=r.objectStore(Qa).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Lt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Ja=new Zs("@firebase/app-check");function _M(t,e){return Di()?function t4(t,e){return function gM(t,e){return Xy.apply(this,arguments)}(function yM(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Ja.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function vM(){return Wl().enabled}function IM(){return n_.apply(this,arguments)}function n_(){return(n_=g(function*(){const t=Wl();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const a4={error:"UNKNOWN_ERROR"};function u4(t){return Wg.encodeString(JSON.stringify(t),!1)}function Jl(t){return r_.apply(this,arguments)}function r_(){return(r_=g(function*(t,e=!1){const n=t.app;hM(n);const r=nt(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&Xl(u)&&(i=u)}if(!e&&i&&Xl(i))return{token:i.token};let a,o=!1;if(vM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Qy(J8(n,yield IM()),t.heartbeatServiceProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield _M(n,u),Ln(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Ja.warn(u.message):Ja.error(u),s=u}return i?(a={token:i.token},Ln(n,Object.assign(Object.assign({},r),{token:i})),yield _M(n,i)):a=l4(s),o&&EM(n,a),a})).apply(this,arguments)}function s_(t,e){const n=nt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Ln(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function wM(t){const{app:e}=t,n=nt(e);let r=n.tokenRefresher;r||(r=function c4(t){const{app:e}=t;return new q8(g(function*(){let r;if(r=nt(e).token?yield Jl(t,!0):yield Jl(t),r.error)throw r.error}),()=>!0,()=>{const n=nt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),Ln(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function EM(t,e){const n=nt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Xl(t){return t.expireTimeMillis-Date.now()>0}function l4(t){return{token:u4(a4),error:t}}class d4{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=nt(this.app);for(const n of e)s_(this.app,n.next);return Promise.resolve()}}const MM="app-check-internal";!function T4(){Ft(new bt("app-check",t=>function h4(t,e){return new d4(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(MM).initialize()})),Ft(new bt(MM,t=>function f4(t){return{getToken:e=>Jl(t,e),addTokenListener:e=>function i_(t,e,n,r){const{app:i}=t,s=nt(i),o={next:n,error:r,type:e};if(Ln(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Xl(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),wM(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>wM(t))}(t,"INTERNAL",e),removeTokenListener:e=>s_(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Se("@firebase/app-check","0.5.5")}();class c_{constructor(){return Gy("app-check")}}"undefined"!=typeof window&&window;const M4=function kM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},RM=new Zn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),PM=new Zs("@firebase/auth");function ed(t,...e){PM.logLevel<=Z.ERROR&&PM.error(`Auth (${to}): ${t}`,...e)}function zt(t,...e){throw d_(t,...e)}function on(t,...e){return d_(t,...e)}function OM(t,e,n){const r=Object.assign(Object.assign({},M4()),{[e]:n});return new Zn("auth","Firebase",r).create(e,{appName:t.name})}function ao(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&zt(t,"argument-error"),OM(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function d_(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RM.create(t,...e)}function T(t,e,...n){if(!t)throw d_(e,...n)}function tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ed(e),new Error(e)}function vr(t,e){t||tr(e)}const FM=new Map;function Ir(t){vr(t instanceof Function,"Expected a class definition");let e=FM.get(t);return e?(vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FM.set(t,e),e)}function Xa(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function LM(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Za{constructor(e,n){this.shortDelay=e,this.longDelay=n,vr(n>e,"Short delay should be less than long delay!"),this.isMobile=XA()||ZA()}get(){return function R4(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function h_(){return"http:"===LM()||"https:"===LM()}()||Ol()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function f_(t,e){vr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class VM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const O4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},F4=new Za(3e4,6e4);function We(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function rt(t,e,n,r){return p_.apply(this,arguments)}function p_(){return(p_=g(function*(t,e,n,r,i={}){return BM(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=$a(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),VM.fetch()(UM(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function BM(t,e,n){return g_.apply(this,arguments)}function g_(){return(g_=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},O4),e);try{const i=new L4(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw td(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw td(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw td(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw OM(t,l,c);zt(t,l)}}catch(i){if(i instanceof Xn)throw i;zt(t,"network-request-failed")}})).apply(this,arguments)}function wr(t,e,n,r){return m_.apply(this,arguments)}function m_(){return(m_=g(function*(t,e,n,r,i={}){const s=yield rt(t,e,n,r,i);return"mfaPendingCredential"in s&&zt(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function UM(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?f_(t.config,i):`${t.config.apiScheme}://${i}`}class L4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(on(this.auth,"network-request-failed")),F4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function td(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=on(t,e,r);return i.customData._tokenResponse=n,i}function y_(){return(y_=g(function*(t,e){return rt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function U4(t,e){return v_.apply(this,arguments)}function v_(){return(v_=g(function*(t,e){return rt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function I_(){return(I_=g(function*(t,e=!1){const n=Ot(t),r=yield n.getIdToken(e),i=nd(r);T(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:eu(w_(i.auth_time)),issuedAtTime:eu(w_(i.iat)),expirationTime:eu(w_(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function w_(t){return 1e3*Number(t)}function nd(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return ed("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return Wg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(ed("Failed to decode base64 JWT payload"),null)}catch(i){return ed("Caught error parsing JWT payload as JSON",i),null}}function Er(t,e){return E_.apply(this,arguments)}function E_(){return(E_=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Xn&&H4(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function H4({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class G4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class jM{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tu(t){return D_.apply(this,arguments)}function D_(){return(D_=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Er(t,U4(n,{idToken:r}));T(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?W4(s.providerUserInfo):[],a=z4(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jM(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function b_(){return(b_=g(function*(t){const e=Ot(t);yield tu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function z4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function W4(t){return t.map(e=>{var{providerId:n}=e,r=Lh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function T_(){return(T_=g(function*(t,e){const n=yield BM(t,{},g(function*(){const r=$a({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=UM(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",VM.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class nu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){T(e.idToken,"internal-error"),T(void 0!==e.idToken,"internal-error"),T(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function $4(t){const e=nd(t);return T(e,"internal-error"),T(void 0!==e.exp,"internal-error"),T(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return T(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function K4(t,e){return T_.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new nu;return r&&(T("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(T("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(T("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nu,this.toJSON())}_performRefresh(){return tr("not implemented")}}function zr(t,e){T("string"==typeof t||void 0===t,"internal-error",{appName:e})}class ki{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Lh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jM(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Er(n,n.stsTokenManager.getToken(n.auth,e));return T(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function j4(t){return I_.apply(this,arguments)}(this,e)}reload(){return function q4(t){return b_.apply(this,arguments)}(this)}_assign(e){this!==e&&(T(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){T(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield tu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Er(e,function V4(t,e){return y_.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:S,emailVerified:k,isAnonymous:P,providerData:B,stsTokenManager:Je}=n;T(S&&Je,e,"internal-error");const Xe=nu.fromJSON(this.name,Je);T("string"==typeof S,e,"internal-error"),zr(d,e.name),zr(h,e.name),T("boolean"==typeof k,e,"internal-error"),T("boolean"==typeof P,e,"internal-error"),zr(f,e.name),zr(p,e.name),zr(m,e.name),zr(_,e.name),zr(w,e.name),zr(y,e.name);const jt=new ki({uid:S,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:P,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Xe,createdAt:w,lastLoginAt:y});return B&&Array.isArray(B)&&(jt.providerData=B.map(_e=>Object.assign({},_e))),_&&(jt._redirectEventId=_),jt}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new nu;i.updateFromServerResponse(n);const s=new ki({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield tu(s),s})()}}const $M=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function rd(t,e,n){return`firebase:${t}:${e}:${n}`}class uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=rd(this.userKey,i.apiKey,s),this.fullPersistenceKey=rd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ki._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new uo(Ir($M),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Ir($M);const o=rd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=ki._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new uo(s,e,r)):new uo(s,e,r)})()}}function HM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KM(e))return"Blackberry";if(YM(e))return"Webos";if(C_(e))return"Safari";if((e.includes("chrome/")||qM(e))&&!e.includes("edge/"))return"Chrome";if(WM(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function GM(t=tt()){return/firefox\//i.test(t)}function C_(t=tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qM(t=tt()){return/crios\//i.test(t)}function zM(t=tt()){return/iemobile/i.test(t)}function WM(t=tt()){return/android/i.test(t)}function KM(t=tt()){return/blackberry/i.test(t)}function YM(t=tt()){return/webos/i.test(t)}function id(t=tt()){return/iphone|ipad|ipod/i.test(t)}function QM(t=tt()){return id(t)||WM(t)||YM(t)||KM(t)||/windows phone/i.test(t)||zM(t)}function JM(t,e=[]){let n;switch(t){case"Browser":n=HM(tt());break;case"Worker":n=`${HM(tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${r}`}class X4{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XM(this),this.idTokenSubscription=new XM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RM,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield uo.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(T(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield tu(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function P4(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?Ot(e):null;return r&&T(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return g(function*(){if(!n._deleted)return e&&T(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(g(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Ir(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Ir(e)||n._popupRedirectResolver;T(r,n,"argument-error"),n.redirectPersistenceManager=yield uo.create(n,[Ir(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return T(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return T(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function Wt(t){return Ot(t)}class XM{constructor(e){this.auth=e,this.observer=null,this.addObserver=function jq(t,e){const n=new $q(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return T(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class S_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}function x_(){return(x_=g(function*(t,e){return rt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function N_(){return(N_=g(function*(t,e){return wr(t,"POST","/v1/accounts:signInWithPassword",We(t,e))})).apply(this,arguments)}function L_(){return(L_=g(function*(t,e){return wr(t,"POST","/v1/accounts:signInWithEmailLink",We(t,e))})).apply(this,arguments)}function V_(){return(V_=g(function*(t,e){return wr(t,"POST","/v1/accounts:signInWithEmailLink",We(t,e))})).apply(this,arguments)}class ru extends S_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ru(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ru(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if((null==n?void 0:n.email)&&(null==n?void 0:n.password)){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){switch(n.signInMethod){case"password":return function n6(t,e){return N_.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function a6(t,e){return L_.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:zt(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return function n1(t,e){return x_.apply(this,arguments)}(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function u6(t,e){return V_.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:zt(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Dr(t,e){return B_.apply(this,arguments)}function B_(){return(B_=g(function*(t,e){return wr(t,"POST","/v1/accounts:signInWithIdp",We(t,e))})).apply(this,arguments)}class co extends S_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Lh(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new co(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Dr(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Dr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Dr(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$a(n)}return e}}class su{constructor(e){var n,r,i,s,o,a;const u=Ha(Ga(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function g6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);T(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function m6(t){const e=Ha(Ga(t)).link,n=e?Ha(Ga(e)).deep_link_id:null,r=Ha(Ga(t)).deep_link_id;return(r?Ha(Ga(r)).link:null)||r||n||e||t}(e);try{return new su(n)}catch(r){return null}}}let r1=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ru._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=su.parseLink(r);return T(i,"argument-error"),ru._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Wr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class i1 extends Wr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let y6=(()=>{class t extends i1{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return co._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch(s){return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();function s1(t,e){return q_.apply(this,arguments)}function q_(){return(q_=g(function*(t,e){return wr(t,"POST","/v1/accounts:signUp",We(t,e))})).apply(this,arguments)}class _n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield ki._fromIdTokenResponse(e,r,i),o=o1(r);return new _n({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=o1(r);return new _n({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function o1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class ad extends Xn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ad.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ad(e,n,r,i)}}function a1(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?ad._fromErrorAndOperation(t,s,e,r):s})}function K_(t,e){return Y_.apply(this,arguments)}function Y_(){return(Y_=g(function*(t,e,n=!1){const r=yield Er(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return _n._forOperation(t,"link",r)})).apply(this,arguments)}function J_(){return(J_=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Er(t,a1(r,i,e,t),n);T(s.idToken,r,"internal-error");const o=nd(s.idToken);T(o,r,"internal-error");const{sub:a}=o;return T(t.uid===a,r,"user-mismatch"),_n._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&zt(r,"user-mismatch"),s}})).apply(this,arguments)}function l1(t,e){return X_.apply(this,arguments)}function X_(){return(X_=g(function*(t,e,n=!1){const r="signIn",i=yield a1(t,r,e),s=yield _n._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function ev(){return(ev=g(function*(t,e){return l1(Wt(t),e)})).apply(this,arguments)}function hv(){return(hv=g(function*(t,e,n){const r=Wt(t),i=yield s1(r,{returnSecureToken:!0,email:e,password:n}),s=yield _n._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function T6(t,e,n){return function Z_(t,e){return ev.apply(this,arguments)}(Ot(t),r1.credential(e,n))}function S6(t,e){return vv.apply(this,arguments)}function vv(){return(vv=g(function*(t,e){return rt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function A6(t,e){return Iv.apply(this,arguments)}function Iv(){return(Iv=g(function*(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const r=Ot(t),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=yield Er(r,S6(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>"password"===u);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function O6(t){return Ot(t).signOut()}const ld="__sak";class h1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ld,"1"),this.storage.removeItem(ld),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $6=(()=>{class t extends h1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function B6(){const t=tt();return C_(t)||id(t)}()&&function J4(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=QM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Q4(){return ex()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),f1=(()=>{class t extends h1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let G6=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function H6(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function dd(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class q6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=dd("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Ke(){return window}function Sv(){return void 0!==Ke().WorkerGlobalScope&&"function"==typeof Ke().importScripts}function Av(){return(Av=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const p1="firebaseLocalStorageDb",hd="firebaseLocalStorage",g1="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fd(t,e){return t.transaction([hd],e?"readwrite":"readonly").objectStore(hd)}function xv(){const t=indexedDB.open(p1,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hd,{keyPath:g1})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(hd)?e(r):(r.close(),yield function J6(){const t=indexedDB.deleteDatabase(p1);return new au(t).toPromise()}(),e(yield xv()))}))})}function m1(t,e,n){return Mv.apply(this,arguments)}function Mv(){return(Mv=g(function*(t,e,n){const r=fd(t,!0).put({[g1]:e,value:n});return new au(r).toPromise()})).apply(this,arguments)}function Nv(){return(Nv=g(function*(t,e){const n=fd(t,!1).get(e),r=yield new au(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function y1(t,e){const n=fd(t,!0).delete(e);return new au(n).toPromise()}const tK=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield xv()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return Sv()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=G6._getInstance(function Y6(){return Sv()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function W6(){return Av.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new q6(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function K6(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield xv();return yield m1(n,ld,"1"),yield y1(n,ld),!0}catch(n){}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>m1(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function X6(t,e){return Nv.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>y1(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=fd(o,!1).getAll();return new au(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function v1(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Pi(t,e){return e?Ir(e):(T(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}v1("rcb"),new Za(3e4,6e4);class jv extends S_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _K(t){return l1(t.auth,new jv(t),t.bypassAuthState)}function vK(t){const{auth:e,user:n}=t;return T(n,e,"internal-error"),function c1(t,e){return J_.apply(this,arguments)}(n,new jv(t),t.bypassAuthState)}function IK(t){return $v.apply(this,arguments)}function $v(){return($v=g(function*(t){const{auth:e,user:n}=t;return T(n,e,"internal-error"),K_(n,new jv(t),t.bypassAuthState)})).apply(this,arguments)}class w1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _K;case"linkViaPopup":case"linkViaRedirect":return IK;case"reauthViaPopup":case"reauthViaRedirect":return vK;default:zt(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wK=new Za(2e3,1e4);function EK(t,e,n){return Hv.apply(this,arguments)}function Hv(){return(Hv=g(function*(t,e,n){const r=Wt(t);ao(t,e,Wr);const i=Pi(r,n);return new zv(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let zv=(()=>{class t extends w1{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return g(function*(){const r=yield n.execute();return T(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return g(function*(){vr(1===n.filter.length,"Popup operations only handle one event");const r=dd();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(on(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=(null===(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)||void 0===i?void 0:i.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(n,wK.get())};n()}}return t.currentPopupAction=null,t})();const gd=new Map;class bK extends w1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=gd.get(n.auth._key());if(!r){try{const s=(yield function TK(t,e){return Wv.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}gd.set(n.auth._key(),r)}return n.bypassAuthState||gd.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function Wv(){return(Wv=g(function*(t,e){const n=D1(e),r=E1(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function E1(t){return Ir(t._redirectPersistence)}function D1(t){return rd("pendingRedirect",t.config.apiKey,t.name)}function b1(t,e){return eI.apply(this,arguments)}function eI(){return(eI=g(function*(t,e,n=!1){const r=Wt(t),i=Pi(r,e),o=yield new bK(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class MK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function NK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S1(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!S1(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(on(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(C1(e))}saveEventToCache(e){this.cachedEventUids.add(C1(e)),this.lastProcessedEventTime=Date.now()}}function C1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function S1({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function kK(t){return nI.apply(this,arguments)}function nI(){return(nI=g(function*(t,e={}){return rt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const RK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PK=/^https?/;function rI(){return(rI=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield kK(t);for(const n of e)try{if(FK(n))return}catch(r){}zt(t,"unauthorized-domain")})).apply(this,arguments)}function FK(t){const e=Xa(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!PK.test(n))return!1;if(RK.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const LK=new Za(3e4,6e4);function A1(){const t=Ke().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let md=null;function BK(t){return md=md||function VK(t){return new Promise((e,n)=>{var r,i,s;function o(){A1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A1(),n(on(t,"network-request-failed"))},timeout:LK.get()})}if(null===(i=null===(r=Ke().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Ke().gapi)||void 0===s?void 0:s.load)){const a=v1("iframefcb");return Ke()[a]=()=>{gapi.load?o():n(on(t,"network-request-failed"))},function _1(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=on("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function sK(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw md=null,e})}(t),md}const UK=new Za(5e3,15e3),HK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qK(t){const e=t.config;T(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?f_(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:to},i=GK.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$a(r).slice(1)}`}function iI(){return iI=g(function*(t){const e=yield BK(t),n=Ke().gapi;return T(n,t,"internal-error"),e.open({where:document.body,url:qK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HK,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=on(t,"network-request-failed"),u=Ke().setTimeout(()=>{o(a)},UK.get());function c(){Ke().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),iI.apply(this,arguments)}const WK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class x1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function M1(t,e,n,r,i,s){T(t.config.authDomain,t,"auth-domain-config-required"),T(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:to,eventId:i};if(e instanceof Wr){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function Uq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof i1){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function n7({config:t}){return t.emulator?f_(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${$a(a).slice(1)}`}const sI="webStorageSupport",i7=class r7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f1,this._completeRedirectFn=b1}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;vr(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=M1(e,n,r,Xa(),i);return function XK(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},WK),{width:r.toString(),height:i.toString(),top:s,left:o}),c=tt().toLowerCase();n&&(a=qM(c)?"_blank":n),GM(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Y4(t=tt()){var e;return id(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function ZK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new x1(null);const d=window.open(e||"",a,l);T(d,t,"popup-blocked");try{d.focus()}catch(h){}return new x1(d)}(e,a,dd())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function z6(t){Ke().location.href=t}(M1(e,n,r,Xa(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(vr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function zK(t){return iI.apply(this,arguments)}(e),i=new MK(e);return r.register("authEvent",s=>(T(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sI,{type:sI},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[sI];void 0!==o&&n(!!o),zt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function OK(t){return rI.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QM()||C_()||id()}};var k1="@firebase/auth",R1="0.19.11";class s7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){T(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function u7(t=om()){const e=eo(t,"auth");return e.isInitialized()?e.getImmediate():function N4(t,e){const n=eo(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Ll(n.getOptions(),null!=e?e:{}))return i;zt(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:i7,persistence:[tK,$6,f1]})}function c7(t){return new Ze(function(e){var n=function P6(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function a7(t){Ft(new bt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{T(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),T(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JM(t)},l=new X4(a,u,c);return function k4(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ft(new bt("auth-internal",e=>{const n=Wt(e.getProvider("auth").getImmediate());return new s7(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Se(k1,R1,function o7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Se(k1,R1,"esm2017")}("Browser");class yd{constructor(e){return e}}class O1{constructor(){return Gy("auth")}}const oI=new ie("angularfire2.auth-instances");function h7(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new yd(r)}}const f7={provide:O1,deps:[[new Nt,oI]]},p7={provide:yd,useFactory:function d7(t,e){const n=Hy("auth",t,e);return n&&new yd(n)},deps:[[new Nt,oI],oo]};let g7=(()=>{class t{constructor(){Se("angularfire",zl.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Or({type:t}),t.\u0275inj=ar({providers:[p7,f7]}),t})();function m7(t,...e){return{ngModule:g7,providers:[{provide:oI,useFactory:h7(t),multi:!0,deps:[qe,Et,qy,zy,[new Nt,c_],...e]}]}}const y7=er(c7,!0),_7=er(u7,!0),v7=er(T6,!0),I7=er(EK,!0),w7=er(O6,!0),E7=er(A6,!0);var N,D7="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},br={},aI=aI||{},j=D7||self;function _d(){}function uI(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function uu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var cI="closure_uid_"+(1e9*Math.random()>>>0),T7=0;function C7(t,e,n){return t.call.apply(t.bind,arguments)}function S7(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ht(t,e,n){return(ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?C7:S7).apply(null,arguments)}function vd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ft(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Kr(){this.s=this.s,this.o=this.o}var x7={};Kr.prototype.s=!1,Kr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function b7(t){return Object.prototype.hasOwnProperty.call(t,cI)&&t[cI]||(t[cI]=++T7)}(this);delete x7[t]}},Kr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const F1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},L1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function V1(t){return Array.prototype.concat.apply([],arguments)}function lI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Id(t){return/^[\s\xa0]*$/.test(t)}var Bt,B1=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Vt(t,e){return-1!=t.indexOf(e)}function dI(t,e){return t<e?-1:t>e?1:0}e:{var U1=j.navigator;if(U1){var j1=U1.userAgent;if(j1){Bt=j1;break e}}Bt=""}function hI(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function $1(t){const e={};for(const n in t)e[n]=t[n];return e}var H1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G1(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<H1.length;s++)n=H1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function fI(t){return fI[" "](t),t}fI[" "]=_d;var wd,t,k7=Vt(Bt,"Opera"),lo=Vt(Bt,"Trident")||Vt(Bt,"MSIE"),q1=Vt(Bt,"Edge"),pI=q1||lo,z1=Vt(Bt,"Gecko")&&!(Vt(Bt.toLowerCase(),"webkit")&&!Vt(Bt,"Edge"))&&!(Vt(Bt,"Trident")||Vt(Bt,"MSIE"))&&!Vt(Bt,"Edge"),R7=Vt(Bt.toLowerCase(),"webkit")&&!Vt(Bt,"Edge");function W1(){var t=j.document;return t?t.documentMode:void 0}e:{var gI="",mI=(t=Bt,z1?/rv:([^\);]+)(\)|;)/.exec(t):q1?/Edge\/([\d\.]+)/.exec(t):lo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):R7?/WebKit\/(\S+)/.exec(t):k7?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(mI&&(gI=mI?mI[1]:""),lo){var yI=W1();if(null!=yI&&yI>parseFloat(gI)){wd=String(yI);break e}}wd=gI}var P7={};var F7=j.document&&lo&&(W1()||parseInt(wd,10))||void 0,L7=function(){if(!j.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{j.addEventListener("test",_d,e),j.removeEventListener("test",_d,e)}catch(n){}return t}();function Tt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function cu(t,e){if(Tt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(z1){e:{try{fI(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:V7[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&cu.Z.h.call(this)}}Tt.prototype.h=function(){this.defaultPrevented=!0},ft(cu,Tt);var V7={2:"touch",3:"pen",4:"mouse"};cu.prototype.h=function(){cu.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var lu="closure_listenable_"+(1e6*Math.random()|0),B7=0;function U7(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++B7,this.ca=this.fa=!1}function Ed(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Dd(t){this.src=t,this.g={},this.h=0}function vI(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=F1(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ed(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function II(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Dd.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=II(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new U7(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var wI="closure_lm_"+(1e6*Math.random()|0),EI={};function Y1(t,e,n,r,i){if(r&&r.once)return J1(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Y1(t,e[s],n,r,i);return null}return n=CI(n),t&&t[lu]?t.N(e,n,uu(r)?!!r.capture:!!r,i):Q1(t,e,n,!1,r,i)}function Q1(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=uu(i)?!!i.capture:!!i,a=bI(t);if(a||(t[wI]=a=new Dd(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function j7(){var e=$7;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)L7||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Z1(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function J1(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)J1(t,e[s],n,r,i);return null}return n=CI(n),t&&t[lu]?t.O(e,n,uu(r)?!!r.capture:!!r,i):Q1(t,e,n,!0,r,i)}function X1(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)X1(t,e[s],n,r,i);else r=uu(r)?!!r.capture:!!r,n=CI(n),t&&t[lu]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=II(s=t.g[e],n,r,i))&&(Ed(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=bI(t))&&(e=t.g[e.toString()],t=-1,e&&(t=II(e,n,r,i)),(n=-1<t?e[t]:null)&&DI(n))}function DI(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[lu])vI(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Z1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bI(e))?(vI(n,t),0==n.h&&(n.src=null,e[wI]=null)):Ed(t)}}}function Z1(t){return t in EI?EI[t]:EI[t]="on"+t}function $7(t,e){if(t.ca)t=!0;else{e=new cu(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&DI(t),t=n.call(r,e)}return t}function bI(t){return(t=t[wI])instanceof Dd?t:null}var TI="__closure_events_fn_"+(1e9*Math.random()>>>0);function CI(t){return"function"==typeof t?t:(t[TI]||(t[TI]=function(e){return t.handleEvent(e)}),t[TI])}function it(){Kr.call(this),this.i=new Dd(this),this.P=this,this.I=null}function pt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Tt(e,t);else if(e instanceof Tt)e.target=e.target||t;else{var i=e;G1(e=new Tt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=bd(o,r,!0,e)&&i}if(i=bd(o=e.g=t,r,!0,e)&&i,i=bd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=bd(o=e.g=n[s],r,!1,e)&&i}function bd(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&vI(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ft(it,Kr),it.prototype[lu]=!0,it.prototype.removeEventListener=function(t,e,n,r){X1(this,t,e,n,r)},it.prototype.M=function(){if(it.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ed(n[r]);delete t.g[e],t.h--}}this.I=null},it.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},it.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var SI=j.JSON.stringify;function H7(){var t=tN;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var xI,eN=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new q7,t=>t.reset());class q7{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function z7(t){j.setTimeout(()=>{throw t},0)}function AI(t,e){xI||function W7(){var t=j.Promise.resolve(void 0);xI=function(){t.then(K7)}}(),MI||(xI(),MI=!0),tN.add(t,e)}var MI=!1,tN=new class G7{constructor(){this.h=this.g=null}add(e,n){const r=eN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function K7(){for(var t;t=H7();){try{t.h.call(t.g)}catch(n){z7(n)}var e=eN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}MI=!1}function Td(t,e){it.call(this),this.h=t||1,this.g=e||j,this.j=ht(this.kb,this),this.l=Date.now()}function NI(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function kI(t,e,n){if("function"==typeof t)n&&(t=ht(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ht(t.handleEvent,t)}return 2147483647<Number(e)?-1:j.setTimeout(t,e||0)}function nN(t){t.g=kI(()=>{t.g=null,t.i&&(t.i=!1,nN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}ft(Td,it),(N=Td.prototype).da=!1,N.S=null,N.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),pt(this,"tick"),this.da&&(NI(this),this.start()))}},N.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.M=function(){Td.Z.M.call(this),NI(this),delete this.g};class Y7 extends Kr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nN(this)}M(){super.M(),this.g&&(j.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function du(t){Kr.call(this),this.h=t,this.g={}}ft(du,Kr);var rN=[];function iN(t,e,n,r){Array.isArray(n)||(n&&(rN[0]=n.toString()),n=rN);for(var i=0;i<n.length;i++){var s=Y1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function sN(t){hI(t.g,function(e,n){this.g.hasOwnProperty(n)&&DI(e)},t),t.g={}}function Cd(){this.g=!0}function ho(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Z7(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return SI(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}du.prototype.M=function(){du.Z.M.call(this),sN(this)},du.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cd.prototype.Aa=function(){this.g=!1},Cd.prototype.info=function(){};var Oi={},oN=null;function Sd(){return oN=oN||new it}function aN(t){Tt.call(this,Oi.Ma,t)}function hu(t){const e=Sd();pt(e,new aN(e,t))}function uN(t,e){Tt.call(this,Oi.STAT_EVENT,t),this.stat=e}function Ut(t){const e=Sd();pt(e,new uN(e,t))}function cN(t,e){Tt.call(this,Oi.Na,t),this.size=e}function fu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return j.setTimeout(function(){t()},e)}Oi.Ma="serverreachability",ft(aN,Tt),Oi.STAT_EVENT="statevent",ft(uN,Tt),Oi.Na="timingevent",ft(cN,Tt);var Ad={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},lN={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function RI(){}function hN(){}RI.prototype.h=null;var FI,pu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function PI(){Tt.call(this,"d")}function OI(){Tt.call(this,"c")}function xd(){}function gu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new du(this),this.P=e5,this.W=new Td(t=pI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fN}function fN(){this.i=null,this.g="",this.h=!1}ft(PI,Tt),ft(OI,Tt),ft(xd,RI),xd.prototype.g=function(){return new XMLHttpRequest},xd.prototype.i=function(){return{}},FI=new xd;var e5=45e3,LI={},Md={};function VI(t,e,n){t.K=1,t.v=Od(Tr(e)),t.s=n,t.U=!0,pN(t,null)}function pN(t,e){t.F=Date.now(),mu(t),t.A=Tr(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),DN(n.h,"t",r),t.C=0,n=t.l.H,t.h=new fN,t.g=zN(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Y7(ht(t.Ia,t,t.g),t.O)),iN(t.V,t.g,"readystatechange",t.gb),e=t.H?$1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),hu(1),function Q7(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function gN(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function mN(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=t5(t,n),i==Md){4==e&&(t.o=4,Ut(14),r=!1),ho(t.j,t.m,null,"[Incomplete Response]");break}if(i==LI){t.o=4,Ut(15),ho(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ho(t.j,t.m,i,null),BI(t,i)}gN(t)&&i!=Md&&i!=LI&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ut(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),QI(e),e.L=!0,Ut(11))):(ho(t.j,t.m,n,"[Invalid Chunked Response]"),Fi(t),yu(t))}function t5(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Md:(n=Number(e.substring(n,r)),isNaN(n)?LI:(r+=1)+n>e.length?Md:(e=e.substr(r,n),t.C=r+n,e))}function mu(t){t.Y=Date.now()+t.P,yN(t,t.P)}function yN(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=fu(ht(t.eb,t),e)}function Nd(t){t.B&&(j.clearTimeout(t.B),t.B=null)}function yu(t){0==t.l.G||t.I||$N(t.l,t)}function Fi(t){Nd(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,NI(t.W),sN(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function BI(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||$I(n.i,t)))if(n.I=t.N,!t.J&&$I(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=fu(ht(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;jd(n),Bd(n)}YI(n),Ut(18)}if(1>=CN(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else Bi(n,11)}else if((t.J||n.g==t)&&jd(n),!Id(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Vt(p,"spdy")||Vt(p,"quic")||Vt(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(HI(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Ie(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=qN(r,r.H?r.la:null,r.W),o.J){SN(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Nd(a),mu(a)),r.g=o}else UN(r);0<n.l.length&&Ud(n)}else"stop"!=c[0]&&"close"!=c[0]||Bi(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Bi(n,7):WI(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}hu(4)}catch(c){}}function UI(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(uI(t)||"string"==typeof t)L1(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(uI(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function n5(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(uI(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function fo(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof fo)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function jI(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Li(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Li(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Li(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(N=gu.prototype).setTimeout=function(t){this.P=t},N.gb=function(t){t=t.target;const e=this.L;e&&3==Cr(t)?e.l():this.Ia(t)},N.Ia=function(t){try{if(t==this.g)e:{const l=Cr(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||pI||this.g&&(this.h.h||this.g.ga()||ON(this.g)))){this.I||4!=l||7==e||hu(8==e||0>=d?3:2),Nd(this);var n=this.g.ba();this.N=n;t:if(gN(this)){var r=ON(this.g);t="";var i=r.length,s=4==Cr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Fi(this),yu(this);var o="";break t}this.h.i=new j.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function J7(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Id(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Ut(12),Fi(this),yu(this);break e}ho(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,BI(this,n)}this.U?(mN(this,l,o),pI&&this.i&&3==l&&(iN(this.V,this.W,"tick",this.fb),this.W.start())):(ho(this.j,this.m,o,null),BI(this,o)),4==l&&Fi(this),this.i&&!this.I&&(4==l?$N(this.l,this):(this.i=!1,mu(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Ut(12)):(this.o=0,Ut(13)),Fi(this),yu(this)}}}catch(l){}},N.fb=function(){if(this.g){var t=Cr(this.g),e=this.g.ga();this.C<e.length&&(Nd(this),mN(this,t,e),this.i&&4!=t&&mu(this))}},N.cancel=function(){this.I=!0,Fi(this)},N.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function X7(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(hu(3),Ut(17)),Fi(this),this.o=2,yu(this)):yN(this,this.Y-t)},(N=fo.prototype).R=function(){jI(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},N.T=function(){return jI(this),this.g.concat()},N.get=function(t,e){return Li(this.h,t)?this.h[t]:e},N.set=function(t,e){Li(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},N.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var _N=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vi(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Vi){this.g=void 0!==e?e:t.g,kd(this,t.j),this.s=t.s,Rd(this,t.i),Pd(this,t.m),this.l=t.l,e=t.h;var n=new Iu;n.i=e.i,e.g&&(n.g=new fo(e.g),n.h=e.h),vN(this,n),this.o=t.o}else t&&(n=String(t).match(_N))?(this.g=!!e,kd(this,n[1]||"",!0),this.s=_u(n[2]||""),Rd(this,n[3]||"",!0),Pd(this,n[4]),this.l=_u(n[5]||"",!0),vN(this,n[6]||"",!0),this.o=_u(n[7]||"")):(this.g=!!e,this.h=new Iu(null,this.g))}function Tr(t){return new Vi(t)}function kd(t,e,n){t.j=n?_u(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Rd(t,e,n){t.i=n?_u(e,!0):e}function Pd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function vN(t,e,n){e instanceof Iu?(t.h=e,function d5(t,e){e&&!t.j&&(Yr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(wN(this,r),DN(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=vu(e,c5)),t.h=new Iu(e,t.g))}function Ie(t,e,n){t.h.set(e,n)}function Od(t){return Ie(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function _u(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function vu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,o5),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function o5(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Vi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(vu(e,IN,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(vu(e,IN,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(vu(n,"/"==n.charAt(0)?u5:a5,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",vu(n,l5)),t.join("")};var IN=/[#\/\?@]/g,a5=/[#\?:]/g,u5=/[#\?]/g,c5=/[#\?@]/g,l5=/#/g;function Iu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Yr(t){t.g||(t.g=new fo,t.h=0,t.i&&function r5(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function wN(t,e){Yr(t),e=po(t,e),Li(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Li((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&jI(t)))}function EN(t,e){return Yr(t),e=po(t,e),Li(t.g.h,e)}function DN(t,e,n){wN(t,e),0<n.length&&(t.i=null,t.g.set(po(t,e),lI(n)),t.h+=n.length)}function po(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function bN(t){this.l=t||f5,t=j.PerformanceNavigationTiming?0<(t=j.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(j.g&&j.g.Ea&&j.g.Ea()&&j.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Iu.prototype).add=function(t,e){Yr(this),this.i=null,t=po(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){Yr(this),this.g.forEach(function(n,r){L1(n,function(i){t.call(e,i,r,this)},this)},this)},N.T=function(){Yr(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},N.R=function(t){Yr(this);var e=[];if("string"==typeof t)EN(this,t)&&(e=V1(e,this.g.get(po(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=V1(e,t[n])}return e},N.set=function(t,e){return Yr(this),this.i=null,EN(this,t=po(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var f5=10;function TN(t){return!!t.h||!!t.g&&t.g.size>=t.j}function CN(t){return t.h?1:t.g?t.g.size:0}function $I(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function HI(t,e){t.g?t.g.add(e):t.h=e}function SN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function AN(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return lI(t.i)}function GI(){}function p5(){this.g=new GI}function g5(t,e,n){const r=n||"";try{UI(t,function(i,s){let o=i;uu(i)&&(o=SI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Fd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function wu(t){this.l=t.$b||null,this.j=t.ib||!1}function Ld(t,e){it.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=qI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bN.prototype.cancel=function(){if(this.i=AN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},GI.prototype.stringify=function(t){return j.JSON.stringify(t,void 0)},GI.prototype.parse=function(t){return j.JSON.parse(t,void 0)},ft(wu,RI),wu.prototype.g=function(){return new Ld(this.l,this.j)},wu.prototype.i=function(t){return function(){return t}}({}),ft(Ld,it);var qI=0;function xN(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Eu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Du(t)}function Du(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=Ld.prototype).open=function(t,e){if(this.readyState!=qI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Du(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||j).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Eu(this)),this.readyState=qI},N.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Du(this)),this.g&&(this.readyState=3,Du(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==j.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xN(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},N.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Eu(this):Du(this),3==this.readyState&&xN(this)}},N.Ua=function(t){this.g&&(this.response=this.responseText=t,Eu(this))},N.Ta=function(t){this.g&&(this.response=t,Eu(this))},N.ha=function(){this.g&&Eu(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ld.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var y5=j.JSON.parse;function Le(t){it.call(this),this.headers=new fo,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=MN,this.K=this.L=!1}ft(Le,it);var MN="",_5=/^https?$/i,v5=["POST","PUT"];function w5(t){return"content-type"==t.toLowerCase()}function NN(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,kN(t),Vd(t)}function kN(t){t.D||(t.D=!0,pt(t,"complete"),pt(t,"error"))}function RN(t){if(t.h&&void 0!==aI&&(!t.C[1]||4!=Cr(t)||2!=t.ba()))if(t.v&&4==Cr(t))kI(t.Fa,0,t);else if(pt(t,"readystatechange"),4==Cr(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(_N)[1]||null;if(!i&&j.self&&j.self.location){var s=j.self.location.protocol;i=s.substr(0,s.length-1)}r=!_5.test(i?i.toLowerCase():"")}n=r}if(n)pt(t,"complete"),pt(t,"success");else{t.m=6;try{var o=2<Cr(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",kN(t)}}finally{Vd(t)}}}function Vd(t,e){if(t.g){PN(t);const n=t.g,r=t.C[0]?_d:null;t.g=null,t.C=null,e||pt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function PN(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(j.clearTimeout(t.A),t.A=null)}function Cr(t){return t.g?t.g.readyState:0}function ON(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case MN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function zI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function E5(t){let e="";return hI(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ie(t,e,n))}function bu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function FN(t){this.za=0,this.l=[],this.h=new Cd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=bu("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=bu("baseRetryDelayMs",5e3,t),this.$a=bu("retryDelaySeedMs",1e4,t),this.Ya=bu("forwardChannelMaxRetries",2,t),this.ra=bu("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new bN(t&&t.concurrentRequestLimit),this.Ca=new p5,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function WI(t){if(LN(t),3==t.G){var e=t.V++,n=Tr(t.F);Ie(n,"SID",t.J),Ie(n,"RID",e),Ie(n,"TYPE","terminate"),Tu(t,n),(e=new gu(t,t.h,e,void 0)).K=2,e.v=Od(Tr(n)),n=!1,j.navigator&&j.navigator.sendBeacon&&(n=j.navigator.sendBeacon(e.v.toString(),"")),!n&&j.Image&&((new Image).src=e.v,n=!0),n||(e.g=zN(e.l,null),e.g.ea(e.v)),e.F=Date.now(),mu(e)}GN(t)}function Bd(t){t.g&&(QI(t),t.g.cancel(),t.g=null)}function LN(t){Bd(t),t.u&&(j.clearTimeout(t.u),t.u=null),jd(t),t.i.cancel(),t.m&&("number"==typeof t.m&&j.clearTimeout(t.m),t.m=null)}function KI(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Ud(t)}function Ud(t){TN(t.i)||t.m||(t.m=!0,AI(t.Ha,t),t.C=0)}function VN(t,e){var n;n=e?e.m:t.V++;const r=Tr(t.F);Ie(r,"SID",t.J),Ie(r,"RID",n),Ie(r,"AID",t.U),Tu(t,r),t.o&&t.s&&zI(r,t.o,t.s),n=new gu(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=BN(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),HI(t.i,n),VI(n,r,e)}function Tu(t,e){t.j&&UI({},function(n,r){Ie(e,r,n)})}function BN(t,e,n){n=Math.min(t.l.length,n);var r=t.j?ht(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{g5(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function UN(t){t.g||t.u||(t.Y=1,AI(t.Ga,t),t.A=0)}function YI(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=fu(ht(t.Ga,t),HN(t,t.A)),t.A++,0))}function QI(t){null!=t.B&&(j.clearTimeout(t.B),t.B=null)}function jN(t){t.g=new gu(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Tr(t.oa);Ie(e,"RID","rpc"),Ie(e,"SID",t.J),Ie(e,"CI",t.N?"0":"1"),Ie(e,"AID",t.U),Tu(t,e),Ie(e,"TYPE","xmlhttp"),t.o&&t.s&&zI(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Od(Tr(e)),n.s=null,n.U=!0,pN(n,t)}function jd(t){null!=t.v&&(j.clearTimeout(t.v),t.v=null)}function $N(t,e){var n=null;if(t.g==e){jd(t),QI(t),t.g=null;var r=2}else{if(!$I(t.i,e))return;n=e.D,SN(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;pt(r=Sd(),new cN(r,n,e,i)),Ud(t)}else UN(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function D5(t,e){return!(CN(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=fu(ht(t.Ha,t,e),HN(t,t.C)),t.C++,0)))}(t,e)||2==r&&YI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Bi(t,5);break;case 4:Bi(t,10);break;case 3:Bi(t,6);break;default:Bi(t,2)}}function HN(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Bi(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=ht(t.jb,t);n||(n=new Vi("//www.google.com/images/cleardot.gif"),j.location&&"http"==j.location.protocol||kd(n,"https"),Od(n)),function m5(t,e){const n=new Cd;if(j.Image){const r=new Image;r.onload=vd(Fd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=vd(Fd,n,r,"TestLoadImage: error",!1,e),r.onabort=vd(Fd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=vd(Fd,n,r,"TestLoadImage: timeout",!1,e),j.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ut(2);t.G=0,t.j&&t.j.va(e),GN(t),LN(t)}function GN(t){t.G=0,t.I=-1,t.j&&((0!=AN(t.i).length||0!=t.l.length)&&(t.i.i.length=0,lI(t.l),t.l.length=0),t.j.ua())}function qN(t,e,n){let r=function i5(t){return t instanceof Vi?Tr(t):new Vi(t,void 0)}(n);if(""!=r.i)e&&Rd(r,e+"."+r.i),Pd(r,r.m);else{const i=j.location;r=function s5(t,e,n,r){var i=new Vi(null,void 0);return t&&kd(i,t),e&&Rd(i,e),n&&Pd(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&hI(t.aa,function(i,s){Ie(r,s,i)}),n=t.sa,(e=t.D)&&n&&Ie(r,e,n),Ie(r,"VER",t.ma),Tu(t,r),r}function zN(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Le(n&&t.Ba&&!t.qa?new wu({ib:!0}):t.qa)).L=t.H,e}function WN(){}function $d(){if(lo&&!(10<=Number(F7)))throw Error("Environmental error: no available transport.")}function an(t,e){it.call(this),this.g=new FN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Id(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Id(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new go(this)}function KN(t){PI.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function YN(){OI.call(this),this.status=1}function go(t){this.g=t}(N=Le.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():FI.g(),this.C=function dN(t){return t.h||(t.h=t.i())}(this.u?this.u:FI),this.g.onreadystatechange=ht(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void NN(this,s)}t=n||"";const i=new fo(this.headers);r&&UI(r,function(s,o){i.set(o,s)}),r=function M7(t){e:{var e=w5;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=j.FormData&&t instanceof j.FormData,!(0<=F1(v5,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{PN(this),0<this.B&&((this.K=function I5(t){return lo&&function O7(){return function N7(t){var e=P7;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=B1(String(wd)).split("."),n=B1("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=dI(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||dI(0==i[2].length,0==s[2].length)||dI(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ht(this.pa,this)):this.A=kI(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){NN(this,s)}},N.pa=function(){void 0!==aI&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,pt(this,"complete"),pt(this,"abort"),Vd(this))},N.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vd(this,!0)),Le.Z.M.call(this)},N.Fa=function(){this.s||(this.F||this.v||this.l?RN(this):this.cb())},N.cb=function(){RN(this)},N.ba=function(){try{return 2<Cr(this)?this.g.status:-1}catch(t){return-1}},N.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},N.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),y5(e)}},N.Da=function(){return this.m},N.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=FN.prototype).ma=8,N.G=1,N.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},N.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new gu(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=$1(s),G1(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=BN(this,i,e),Ie(n=Tr(this.F),"RID",t),Ie(n,"CVER",22),this.D&&Ie(n,"X-HTTP-Session-Id",this.D),Tu(this,n),this.o&&s&&zI(n,this.o,s),HI(this.i,i),this.Ra&&Ie(n,"TYPE","init"),this.ja?(Ie(n,"$req",e),Ie(n,"SID","null"),i.$=!0,VI(i,n,null)):VI(i,n,e),this.G=2}}else 3==this.G&&(t?VN(this,t):0==this.l.length||TN(this.i)||VN(this))},N.Ga=function(){if(this.u=null,jN(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=fu(ht(this.bb,this),t)}},N.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ut(10),Bd(this),jN(this))},N.ab=function(){null!=this.v&&(this.v=null,Bd(this),YI(this),Ut(19))},N.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Ut(2)):(this.h.info("Failed to ping google.com"),Ut(1))},(N=WN.prototype).xa=function(){},N.wa=function(){},N.va=function(){},N.ua=function(){},N.Oa=function(){},$d.prototype.g=function(t,e){return new an(t,e)},ft(an,it),an.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),AI(ht(t.hb,t,e))),Ut(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=qN(t,null,t.W),Ud(t)},an.prototype.close=function(){WI(this.g)},an.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,KI(this.g,e)}else this.v?((e={}).__data__=SI(t),KI(this.g,e)):KI(this.g,t)},an.prototype.M=function(){this.g.j=null,delete this.j,WI(this.g),delete this.g,an.Z.M.call(this)},ft(KN,PI),ft(YN,OI),ft(go,WN),go.prototype.xa=function(){pt(this.g,"a")},go.prototype.wa=function(t){pt(this.g,new KN(t))},go.prototype.va=function(t){pt(this.g,new YN(t))},go.prototype.ua=function(){pt(this.g,"b")},$d.prototype.createWebChannel=$d.prototype.g,an.prototype.send=an.prototype.u,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,Ad.NO_ERROR=0,Ad.TIMEOUT=8,Ad.HTTP_ERROR=6,lN.COMPLETE="complete",hN.EventType=pu,pu.OPEN="a",pu.CLOSE="b",pu.ERROR="c",pu.MESSAGE="d",it.prototype.listen=it.prototype.N,Le.prototype.listenOnce=Le.prototype.O,Le.prototype.getLastError=Le.prototype.La,Le.prototype.getLastErrorCode=Le.prototype.Da,Le.prototype.getStatus=Le.prototype.ba,Le.prototype.getResponseJson=Le.prototype.Qa,Le.prototype.getResponseText=Le.prototype.ga,Le.prototype.send=Le.prototype.ea;var b5=br.createWebChannelTransport=function(){return new $d},T5=br.getStatEventTarget=function(){return Sd()},JI=br.ErrorCode=Ad,C5=br.EventType=lN,S5=br.Event=Oi,QN=br.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},A5=br.FetchXmlHttpFactory=wu,Hd=br.WebChannel=hN,x5=br.XhrIo=Le;const JN="@firebase/firestore";class gt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");let mo="9.6.10";const Qr=new Zs("@firebase/firestore");function XI(){return Qr.logLevel}function b(t,...e){if(Qr.logLevel<=Z.DEBUG){const n=e.map(ZI);Qr.debug(`Firestore (${mo}): ${t}`,...n)}}function Ve(t,...e){if(Qr.logLevel<=Z.ERROR){const n=e.map(ZI);Qr.error(`Firestore (${mo}): ${t}`,...n)}}function Gd(t,...e){if(Qr.logLevel<=Z.WARN){const n=e.map(ZI);Qr.warn(`Firestore (${mo}): ${t}`,...n)}}function ZI(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function R(t="Unexpected state"){const e=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: `+t;throw Ve(e),new Error(e)}function V(t,e){t||R()}function A(t,e){return t}const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class st{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class XN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class k5{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new st;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new st,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new st)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(V("string"==typeof r.accessToken),new XN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return V(null===e||"string"==typeof e),new gt(e)}}class R5{constructor(e,n,r){this.type="FirstParty",this.user=gt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class P5{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new R5(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O5{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{null!=s.error&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(V("string"==typeof n.token),this.p=n.token,new ZN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class un{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function F5(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}un.A=-1;class ek{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=F5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Q(t,e){return t<e?-1:t>e?1:0}function yo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Be{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Be(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class F{constructor(e){this.timestamp=e}static fromTimestamp(e){return new F(e)}static min(){return new F(new Be(0,0))}static max(){return new F(new Be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function nk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ui(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Cu{constructor(e,n,r){void 0===n?n=0:n>e.length&&R(),void 0===r?r=e.length-n:r>e.length-n&&R(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Cu.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ee extends Cu{construct(e,n,r){return new ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ee(n)}static emptyPath(){return new ee([])}}const L5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Cu{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return L5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}class _o{constructor(e){this.fields=e,e.sort(mt.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ye(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ye(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const V5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(t){if(V(!!t),"string"==typeof t){let e=0;const n=V5.exec(t);if(V(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ji(t){return"string"==typeof t?Ye.fromBase64String(t):Ye.fromUint8Array(t)}function ew(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ik(t){const e=t.mapValue.fields.__previous_value__;return ew(e)?ik(e):e}function Su(t){const e=Jr(t.mapValue.fields.__local_write_time__.timestampValue);return new Be(e.seconds,e.nanos)}class B5{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Xr{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Xr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xr&&e.projectId===this.projectId&&e.database===this.database}}function $i(t){return null==t}function Au(t){return 0===t&&1/t==-1/0}class C{constructor(e){this.path=e}static fromPath(e){return new C(ee.fromString(e))}static fromName(e){return new C(ee.fromString(e).popFirst(5))}static empty(){return new C(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ee.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new C(new ee(e.slice()))}}function Hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ew(t)?4:dk(t)?9:10:R()}function nr(t,e){if(t===e)return!0;const n=Hi(t);if(n!==Hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Su(t).isEqual(Su(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Jr(r.timestampValue),o=Jr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ji(t.bytesValue).isEqual(ji(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ae(r.geoPointValue.latitude)===Ae(i.geoPointValue.latitude)&&Ae(r.geoPointValue.longitude)===Ae(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ae(r.integerValue)===Ae(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ae(r.doubleValue),o=Ae(i.doubleValue);return s===o?Au(s)===Au(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return yo(t.arrayValue.values||[],e.arrayValue.values||[],nr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(nk(s)!==nk(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!nr(s[a],o[a])))return!1;return!0}(t,e);default:return R()}var i}function xu(t,e){return void 0!==(t.values||[]).find(n=>nr(n,e))}function Zr(t,e){if(t===e)return 0;const n=Hi(t),r=Hi(e);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ae(i.integerValue||i.doubleValue),a=Ae(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return uk(t.timestampValue,e.timestampValue);case 4:return uk(Su(t),Su(e));case 5:return Q(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ji(i),a=ji(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Q(o[u],a[u]);if(0!==c)return c}return Q(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Q(Ae(i.latitude),Ae(s.latitude));return 0!==o?o:Q(Ae(i.longitude),Ae(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Zr(o[u],a[u]);if(c)return c}return Q(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Q(a[l],c[l]);if(0!==d)return d;const h=Zr(o[a[l]],u[c[l]]);if(0!==h)return h}return Q(a.length,c.length)}(t.mapValue,e.mapValue);default:throw R()}}function uk(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Q(t,e);const n=Jr(t),r=Jr(e),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function vo(t){return tw(t)}function tw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Jr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ji(t.bytesValue).toBase64():"referenceValue"in t?C.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=tw(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${tw(r.fields[a])}`;return s+"}"}(t.mapValue):R();var e}function nw(t){return!!t&&"integerValue"in t}function Mu(t){return!!t&&"arrayValue"in t}function ck(t){return!!t&&"nullValue"in t}function lk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qd(t){return!!t&&"mapValue"in t}function Nu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ui(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dk(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ct{constructor(e){this.value=e}static empty(){return new Ct({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nu(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Nu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ui(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ct(Nu(this.value))}}function pk(t){const e=[];return Ui(t.fields,(n,r)=>{const i=new mt([n]);if(qd(r)){const s=pk(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new _o(e)}class me{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new me(e,0,F.min(),F.min(),Ct.empty(),0)}static newFoundDocument(e,n,r){return new me(e,1,n,F.min(),r,0)}static newNoDocument(e,n){return new me(e,2,n,F.min(),Ct.empty(),0)}static newUnknownDocument(e,n){return new me(e,3,n,F.min(),Ct.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof me&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new me(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function U5(t){return new Sr(t.readTime,t.key,-1)}class Sr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Sr(F.min(),C.empty(),-1)}static max(){return new Sr(F.max(),C.empty(),-1)}}function j5(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=C.comparator(t.documentKey,e.documentKey),0!==n?n:Q(t.largestBatchId,e.largestBatchId))}class $5{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function mk(t,e=null,n=[],r=[],i=null,s=null,o=null){return new $5(t,e,n,r,i,s,o)}function Gi(t){const e=A(t);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+vo(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),$i(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vo(r)).join(",")),e.P=n}return e.P}function Ru(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!J5(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!nr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vk(t.startAt,e.startAt)&&vk(t.endAt,e.endAt)}function Kd(t){return C.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class yt extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,r):new G5(e,n,r):"array-contains"===n?new W5(e,r):"in"===n?new K5(e,r):"not-in"===n?new Y5(e,r):"array-contains-any"===n?new Q5(e,r):new yt(e,n,r)}static V(e,n,r){return"in"===n?new q5(e,r):new z5(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(Zr(n,this.value)):null!==n&&Hi(this.value)===Hi(n)&&this.v(Zr(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return R()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class G5 extends yt{constructor(e,n,r){super(e,n,r),this.key=C.fromName(r.referenceValue)}matches(e){const n=C.comparator(e.key,this.key);return this.v(n)}}class q5 extends yt{constructor(e,n){super(e,"in",n),this.keys=yk(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class z5 extends yt{constructor(e,n){super(e,"not-in",n),this.keys=yk(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yk(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>C.fromName(r.referenceValue))}class W5 extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mu(n)&&xu(n.arrayValue,this.value)}}class K5 extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&xu(this.value.arrayValue,n)}}class Y5 extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!xu(this.value.arrayValue,n)}}class Q5 extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xu(this.value.arrayValue,r))}}class ei{constructor(e,n){this.position=e,this.inclusive=n}}class Eo{constructor(e,n="asc"){this.field=e,this.dir=n}}function J5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function _k(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?C.comparator(C.fromName(o.referenceValue),n.key):Zr(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function vk(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!nr(t.position[n],e.position[n]))return!1;return!0}class Ar{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.D=null,this.C=null}}function Do(t){return new Ar(t)}function Qd(t){return!$i(t.limit)&&"F"===t.limitType}function Jd(t){return!$i(t.limit)&&"L"===t.limitType}function bo(t){const e=A(t);if(null===e.D){e.D=[];const n=function sw(t){for(const e of t.filters)if(e.S())return e.field;return null}(e),r=function iw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.D.push(new Eo(n)),e.D.push(new Eo(mt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Eo(mt.keyField(),s))}}}return e.D}function vn(t){const e=A(t);if(!e.C)if("F"===e.limitType)e.C=mk(e.path,e.collectionGroup,bo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of bo(e))n.push(new Eo(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ei(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new ei(e.startAt.position,!e.startAt.inclusive):null;e.C=mk(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function Pu(t,e){return Ru(vn(t),vn(e))&&t.limitType===e.limitType}function Ek(t){return`${Gi(vn(t))}|lt:${t.limitType}`}function aw(t){return`Query(target=${function H5(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${vo(r.value)}`;var r}).join(", ")}]`),$i(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>vo(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>vo(n)).join(",")),`Target(${e})`}(vn(t))}; limitType=${t.limitType})`}function uw(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):C.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=_k(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,bo(n),r)||n.endAt&&!function(i,s,o){const a=_k(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,bo(n),r)));var n,r}function bk(t){return(e,n)=>{let r=!1;for(const i of bo(t)){const s=X5(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function X5(t,e,n){const r=t.field.isKeyField()?C.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Zr(a,u):R()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return R()}}function Tk(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Au(e)?"-0":e}}function Ck(t){return{integerValue:""+t}}function Sk(t,e){return function sk(t){return"number"==typeof t&&Number.isInteger(t)&&!Au(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?Ck(e):Tk(t,e)}class Xd{constructor(){this._=void 0}}function Z5(t,e,n){return t instanceof To?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof qi?xk(t,e):t instanceof zi?Mk(t,e):function(r,i){const s=Ak(r,i),o=Nk(s)+Nk(r.k);return nw(s)&&nw(r.k)?Ck(o):Tk(r.M,o)}(t,e)}function e9(t,e,n){return t instanceof qi?xk(t,e):t instanceof zi?Mk(t,e):n}function Ak(t,e){return t instanceof Co?nw(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class To extends Xd{}class qi extends Xd{constructor(e){super(),this.elements=e}}function xk(t,e){const n=kk(e);for(const r of t.elements)n.some(i=>nr(i,r))||n.push(r);return{arrayValue:{values:n}}}class zi extends Xd{constructor(e){super(),this.elements=e}}function Mk(t,e){let n=kk(e);for(const r of t.elements)n=n.filter(i=>!nr(i,r));return{arrayValue:{values:n}}}class Co extends Xd{constructor(e,n){super(),this.M=e,this.k=n}}function Nk(t){return Ae(t.integerValue||t.doubleValue)}function kk(t){return Mu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class n9{constructor(e,n){this.version=e,this.transformResults=n}}class Ue{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ue}static exists(e){return new Ue(void 0,e)}static updateTime(e){return new Ue(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zd(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class eh{}function r9(t,e,n){t instanceof Fu?function(r,i,s){const o=r.value.clone(),a=Fk(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Wi?function(r,i,s){if(!Zd(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Fk(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Ok(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function cw(t,e,n){var i;t instanceof Fu?function(r,i,s){if(!Zd(r.precondition,i))return;const o=r.value.clone(),a=Lk(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(Pk(i),o).setHasLocalMutations()}(t,e,n):t instanceof Wi?function(r,i,s){if(!Zd(r.precondition,i))return;const o=Lk(r.fieldTransforms,s,i),a=i.data;a.setAll(Ok(r)),a.setAll(o),i.convertToFoundDocument(Pk(i),a).setHasLocalMutations()}(t,e,n):Zd(t.precondition,i=e)&&i.convertToNoDocument(F.min())}function i9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Ak(r.transform,i||null);null!=s&&(null==n&&(n=Ct.empty()),n.set(r.field,s))}return n||null}function Rk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&yo(n,r,(i,s)=>function t9(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof qi&&r instanceof qi||n instanceof zi&&r instanceof zi?yo(n.elements,r.elements,nr):n instanceof Co&&r instanceof Co?nr(n.k,r.k):n instanceof To&&r instanceof To);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function Pk(t){return t.isFoundDocument()?t.version:F.min()}class Fu extends eh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Wi extends eh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function Ok(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Fk(t,e,n){const r=new Map;V(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,e9(o,a,n[i]))}return r}function Lk(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Z5(s,o,e))}return r}class Lu extends eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class lw extends eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class s9{constructor(e){this.count=e}}var je,te;function Vk(t){switch(t){default:return R();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function Bk(t){if(void 0===t)return Ve("GRPC error has no .code"),v.UNKNOWN;switch(t){case je.OK:return v.OK;case je.CANCELLED:return v.CANCELLED;case je.UNKNOWN:return v.UNKNOWN;case je.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case je.INTERNAL:return v.INTERNAL;case je.UNAVAILABLE:return v.UNAVAILABLE;case je.UNAUTHENTICATED:return v.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case je.NOT_FOUND:return v.NOT_FOUND;case je.ALREADY_EXISTS:return v.ALREADY_EXISTS;case je.PERMISSION_DENIED:return v.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case je.ABORTED:return v.ABORTED;case je.OUT_OF_RANGE:return v.OUT_OF_RANGE;case je.UNIMPLEMENTED:return v.UNIMPLEMENTED;case je.DATA_LOSS:return v.DATA_LOSS;default:return R()}}(te=je||(je={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";class ti{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ui(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return rk(this.inner)}size(){return this.innerSize}}class Ne{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:_t.RED,this.left=null!=i?i:_t.EMPTY,this.right=null!=s?s:_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return _t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw R();const e=this.left.check();if(e!==this.right.check())throw R();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1,_t.EMPTY=new class{constructor(){this.size=0}get key(){throw R()}get value(){throw R()}get color(){throw R()}get left(){throw R()}get right(){throw R()}copy(t,e,n,r,i){return this}insert(t,e,n){return new _t(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ye{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uk(this.data.getIterator())}getIteratorFrom(e){return new Uk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ye)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ye(this.comparator);return n.data=e,n}}class Uk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const o9=new Ne(C.comparator);function In(){return o9}const a9=new Ne(C.comparator);function dw(){return a9}function Vu(){return new ti(t=>t.toString(),(t,e)=>t.isEqual(e))}const u9=new Ne(C.comparator),c9=new ye(C.comparator);function oe(...t){let e=c9;for(const n of t)e=e.add(n);return e}const l9=new ye(Q);function nh(){return l9}class Bu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n)),new Bu(F.min(),r,nh(),In(),oe())}}class Uu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Uu(Ye.EMPTY_BYTE_STRING,n,oe(),oe(),oe())}}class rh{constructor(e,n,r,i){this.O=e,this.removedTargetIds=n,this.key=r,this.F=i}}class jk{constructor(e,n){this.targetId=e,this.$=n}}class $k{constructor(e,n,r=Ye.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Hk{constructor(){this.B=0,this.L=qk(),this.U=Ye.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=oe(),n=oe(),r=oe();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:R()}}),new Uu(this.U,this.q,e,n,r)}J(){this.G=!1,this.L=qk()}Y(e,n){this.G=!0,this.L=this.L.insert(e,n)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class d9{constructor(e){this.nt=e,this.st=new Map,this.it=In(),this.rt=Gk(),this.ot=new ye(Q)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:R()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.$.count,i=this.wt(n);if(i){const s=i.target;if(Kd(s))if(0===r){const o=new C(s.path);this.ct(n,o,me.newNoDocument(o,F.min()))}else V(1===r);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&Kd(a.target)){const u=new C(a.target.path);null!==this.it.get(u)||this.It(o,u)||this.ct(o,u,me.newNoDocument(u,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=oe();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.wt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new Bu(e,n,this.ot,this.it,r);return this.it=In(),this.rt=Gk(),this.ot=new ye(Q),i}at(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new Hk,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new ye(Q),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||b("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new Hk),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function Gk(){return new Ne(C.comparator)}function qk(){return new Ne(C.comparator)}const h9={asc:"ASCENDING",desc:"DESCENDING"},f9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class p9{constructor(e,n){this.databaseId=e,this.N=n}}function ju(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zk(t,e){return t.N?e.toBase64():e.toUint8Array()}function g9(t,e){return ju(t,e.toTimestamp())}function ot(t){return V(!!t),F.fromTimestamp(function(e){const n=Jr(e);return new Be(n.seconds,n.nanos)}(t))}function hw(t,e){return(n=t,new ee(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Wk(t){const e=ee.fromString(t);return V(nR(e)),e}function $u(t,e){return hw(t.databaseId,e.path)}function rr(t,e){const n=Wk(e);if(n.get(1)!==t.databaseId.projectId)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new C(Yk(n))}function fw(t,e){return hw(t.databaseId,e)}function Hu(t){return new ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Yk(t){return V(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Qk(t,e,n){return{name:$u(t,e),fields:n.value.mapValue.fields}}function Xk(t,e){return{documents:[fw(t,e.path)]}}function Zk(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fw(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fw(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const c=u.map(l=>function(d){if("=="===d.op){if(lk(d.value))return{unaryFilter:{field:Ao(d.field),op:"IS_NAN"}};if(ck(d.value))return{unaryFilter:{field:Ao(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(lk(d.value))return{unaryFilter:{field:Ao(d.field),op:"IS_NOT_NAN"}};if(ck(d.value))return{unaryFilter:{field:Ao(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(d.field),op:w9(d.op),value:d.value}}}(l));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ao((l=c).field),direction:I9(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.N||$i(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function eR(t){let e=function Kk(t){const e=Wk(t);return 4===e.length?ee.emptyPath():Yk(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){V(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=tR(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Eo(xo((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,$i(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new ei((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new ei(l.values||[],!l.before)}(n.endAt)),function Ik(t,e,n,r,i,s,o,a){return new Ar(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function tR(t){return t?void 0!==t.unaryFilter?[D9(t)]:void 0!==t.fieldFilter?[E9(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>tR(e)).reduce((e,n)=>e.concat(n)):R():[]}function I9(t){return h9[t]}function w9(t){return f9[t]}function Ao(t){return{fieldPath:t.canonicalString()}}function xo(t){return mt.fromServerFormat(t.fieldPath)}function E9(t){return yt.create(xo(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return R()}}(t.fieldFilter.op),t.fieldFilter.value)}function D9(t){switch(t.unaryFilter.op){case"IS_NAN":const e=xo(t.unaryFilter.field);return yt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=xo(t.unaryFilter.field);return yt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=xo(t.unaryFilter.field);return yt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=xo(t.unaryFilter.field);return yt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return R()}}function b9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nR(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}const uR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&R(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):I.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):I.reject(n)}static resolve(e){return new I((n,r)=>{n(e)})}static reject(e){return new I((n,r)=>{r(e)})}static waitFor(e){return new I((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=I.resolve(!1);for(const r of e)n=n.next(i=>i?I.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Ki(t){return"IndexedDbTransactionError"===t.name}class mw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&r9(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&cw(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&cw(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(F.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(n,r)=>Rk(n,r))&&yo(this.baseMutations,e.baseMutations,(n,r)=>Rk(n,r))}}class yw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){V(e.mutations.length===r.length);let i=u9;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new yw(e,n,r,i)}}class _w{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ni{constructor(e,n,r,i,s=F.min(),o=F.min(),a=Ye.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class dR{constructor(e){this.Jt=e}}function vw(t){const e=eR({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function wk(t,e,n){return new Ar(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class No{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(Ae(e.integerValue));else if("doubleValue"in e){const r=Ae(e.doubleValue);isNaN(r)?this.ne(n,13):(this.ne(n,15),Au(r)?n.se(0):n.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(n,20),"string"==typeof r?n.ie(r):(n.ie(`${r.seconds||""}`),n.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(ji(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(n,45),n.se(r.latitude||0),n.se(r.longitude||0)}else"mapValue"in e?dk(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):R()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const r=e.fields||{};this.ne(n,55);for(const i of Object.keys(r))this.re(i,n),this.te(r[i],n)}he(e,n){const r=e.values||[];this.ne(n,50);for(const i of r)this.te(i,n)}ae(e,n){this.ne(n,37),C.fromName(e).path.forEach(r=>{this.ne(n,60),this.le(r,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}No.fe=new No;class Z9{constructor(){this.qe=new Ew}addToCollectionParentIndex(e,n){return this.qe.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getFieldIndex(e,n){return I.resolve(null)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}updateCollectionGroup(e,n,r){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}}class Ew{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ye(ee.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ye(ee.comparator)).toArray()}}new Uint8Array(0);class Kt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(41943040,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);class Zi{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Zi(0)}static gn(){return new Zi(-1)}}function es(t){return bw.apply(this,arguments)}function bw(){return bw=g(function*(t){if(t.code!==v.FAILED_PRECONDITION||t.message!==uR)throw t;b("LocalStore","Unexpectedly lost primary lease")}),bw.apply(this,arguments)}class lY{constructor(e,n,r){this.fs=e,this.$s=n,this.indexManager=r}Bs(e,n){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Ls(e,n,r))}Ls(e,n,r){return this.fs.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}Us(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}qs(e,n){return this.fs.getEntries(e,n).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,n){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.Us(n,r))}Ks(e,n,r){return C.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.Qs(e,n.path):function ow(t){return null!==t.collectionGroup}(n)?this.js(e,n,r):this.Ws(e,n,r);var i}Qs(e,n){return this.Bs(e,new C(n)).next(r=>{let i=dw();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,n,r){const i=n.collectionGroup;let s=dw();return this.indexManager.getCollectionParents(e,i).next(o=>I.forEach(o,a=>{const u=(c=n,l=a.child(i),new Ar(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.Ws(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}Ws(e,n,r){let i;return this.fs.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.$s.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const a of o.mutations){const u=a.key;let c=i.get(u);null==c&&(c=me.newInvalidDocument(u),i=i.insert(u,c)),cw(a,c,o.localWriteTime),c.isFoundDocument()||(i=i.remove(u))}}).next(()=>(i.forEach((s,o)=>{uw(n,o)||(i=i.remove(s))}),i))}}class Aw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.zs=r,this.Hs=i}static Js(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Aw(e,n.fromCache,r,i)}}class MR{Ys(e){this.Xs=e}Ks(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(F.min())?this.Zs(e,n):this.Xs.qs(e,i).next(s=>{const o=this.ti(n,s);return(Qd(n)||Jd(n))&&this.ei(n.limitType,o,i,r)?this.Zs(e,n):(XI()<=Z.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),aw(n)),this.Xs.Ks(e,n,function gk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=F.fromTimestamp(1e9===r?new Be(n+1,0):new Be(n,r));return new Sr(i,C.empty(),e)}(r,-1)).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}ti(e,n){let r=new ye(bk(e));return n.forEach((i,s)=>{uw(e,s)&&(r=r.add(s))}),r}ei(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Zs(e,n){return XI()<=Z.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",aw(n)),this.Xs.Ks(e,n,Sr.min())}}class dY{constructor(e,n,r,i){this.persistence=e,this.ni=n,this.M=i,this.si=new Ne(Q),this.ii=new ti(s=>Gi(s),Ru),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new lY(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.si))}}function kR(t,e){return xw.apply(this,arguments)}function xw(){return xw=g(function*(t,e){const n=A(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.$s.getAllMutationBatches(r).next(s=>(i=s,n.ui(e),n.$s.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=oe();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.ai.qs(r,u).next(c=>({ci:c,removedBatchIds:o,addedBatchIds:a}))})})}),xw.apply(this,arguments)}function hY(t,e){const n=A(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.oi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=I.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);V(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.$s.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.$s.performConsistencyCheck(r)).next(()=>n.ai.qs(r,i))})}function RR(t){const e=A(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ls.getLastRemoteSnapshotVersion(n))}function fY(t,e){const n=A(t),r=e.snapshotVersion;let i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.ls.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.ls.addMatchingKeys(s,c.addedDocuments,l)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,m;e.targetMismatches.has(l)?h=h.withResumeToken(Ye.EMPTY_BYTE_STRING,F.min()).withLastLimboFreeSnapshotVersion(F.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(l,h),p=h,m=c,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.ls.updateTargetData(s,h))});let u=In();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function PR(t,e,n){let r=oe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=In();return n.forEach((o,a)=>{const u=i.get(o);a.isNoDocument()&&a.version.isEqual(F.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):b("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",a.version)}),s})}(s,o,e.documentUpdates).next(c=>{u=c})),!r.isEqual(F.min())){const c=n.ls.getLastRemoteSnapshotVersion(s).next(l=>n.ls.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>n.ai.Gs(s,u)).next(()=>u)}).then(s=>(n.si=i,s))}function pY(t,e){const n=A(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.$s.getNextMutationBatchAfterBatchId(r,e)))}function Po(t,e){const n=A(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ls.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):n.ls.allocateTargetId(r).next(o=>(i=new ni(e,o,0,r.currentSequenceNumber),n.ls.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.si=n.si.insert(r.targetId,r),n.ii.set(e,r.targetId)),r})}function Oo(t,e,n){return Mw.apply(this,arguments)}function Mw(){return Mw=g(function*(t,e,n){const r=A(t),i=r.si.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ki(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}),Mw.apply(this,arguments)}function ph(t,e,n){const r=A(t);let i=F.min(),s=oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=A(a),d=l.ii.get(c);return void 0!==d?I.resolve(l.si.get(d)):l.ls.getTargetData(u,c)}(r,o,vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ni.Ks(o,e,n?i:F.min(),n?s:oe())).next(a=>(function LR(t,e,n){let r=F.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ri.set(e,r)}(r,function Dk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,hi:s})))}class yY{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,n){return I.resolve(this._i.get(n))}saveBundleMetadata(e,n){var r;return this._i.set(n.id,{id:(r=n).id,version:r.version,createTime:ot(r.createTime)}),I.resolve()}getNamedQuery(e,n){return I.resolve(this.wi.get(n))}saveNamedQuery(e,n){return this.wi.set(n.name,{name:(r=n).name,query:vw(r.bundledQuery),readTime:ot(r.readTime)}),I.resolve();var r}}class _Y{constructor(){this.overlays=new Ne(C.comparator),this.mi=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Xt(e,n,s)}),I.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.mi.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.mi.delete(r)),I.resolve()}getOverlaysForCollection(e,n,r){const i=Vu(),s=n.length+1,o=new C(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return I.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ne((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Vu(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Vu(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return I.resolve(a)}Xt(e,n,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const o=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _w(n,r));let s=this.mi.get(n);void 0===s&&(s=oe(),this.mi.set(n,s)),this.mi.set(n,s.add(r.key))}}class Rw{constructor(){this.gi=new ye(ct.yi),this.pi=new ye(ct.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,n){const r=new ct(e,n);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ei(new ct(e,n))}Ai(e,n){e.forEach(r=>this.removeReference(r,n))}Ri(e){const n=new C(new ee([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.pi.forEachInRange([r,i],o=>{this.Ei(o),s.push(o.key)}),s}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const n=new C(new ee([])),r=new ct(n,e),i=new ct(n,e+1);let s=oe();return this.pi.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.gi.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.Vi=n}static yi(e,n){return C.comparator(e.key,n.key)||Q(e.Vi,n.Vi)}static Ii(e,n){return Q(e.Vi,n.Vi)||C.comparator(e.key,n.key)}}class vY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new ye(ct.yi)}checkEmpty(e){return I.resolve(0===this.$s.length)}addMutationBatch(e,n,r,i){const s=this.vi;this.vi++;const o=new mw(s,n,r,i);this.$s.push(o);for(const a of i)this.Si=this.Si.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,n){return I.resolve(this.Di(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Ci(n+1),s=i<0?0:i;return I.resolve(this.$s.length>s?this.$s[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return I.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.Si.forEachInRange([r,i],o=>{const a=this.Di(o.Vi);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ye(Q);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([s,o],a=>{r=r.add(a.Vi)})}),I.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;C.isDocumentKey(s)||(s=s.child(""));const o=new ct(new C(s),0);let a=new ye(Q);return this.Si.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Vi)),!0)},o),I.resolve(this.xi(a))}xi(e){const n=[];return e.forEach(r=>{const i=this.Di(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){V(0===this.Ni(n.batchId,"removed")),this.$s.shift();let r=this.Si;return I.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,n){const r=new ct(n,0),i=this.Si.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return I.resolve()}Ni(e,n){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const n=this.Ci(e);return n<0||n>=this.$s.length?null:this.$s[n]}}class IY{constructor(e){this.ki=e,this.docs=new Ne(C.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ki(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():me.newInvalidDocument(n))}getEntries(e,n){let r=In();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():me.newInvalidDocument(i))}),I.resolve(r)}getAllFromCollection(e,n,r){let i=In();const s=new C(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||j5(U5(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return I.resolve(i)}getAllFromCollectionGroup(e,n,r,i){R()}Mi(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wY(this)}getSize(e){return I.resolve(this.size)}}class wY extends class oY{constructor(){this.changes=new ti(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,me.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?I.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.qn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.qn.addEntry(e,i)):this.qn.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this.qn.getEntry(e,n)}getAllFromCache(e,n){return this.qn.getEntries(e,n)}}class EY{constructor(e){this.persistence=e,this.Oi=new ti(n=>Gi(n),Ru),this.lastRemoteSnapshotVersion=F.min(),this.highestTargetId=0,this.Fi=0,this.$i=new Rw,this.targetCount=0,this.Bi=Zi.mn()}forEachTarget(e,n){return this.Oi.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fi&&(this.Fi=n),I.resolve()}In(e){this.Oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Bi=new Zi(n),this.highestTargetId=n),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,n){return this.In(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.In(n),I.resolve()}removeTargetData(e,n){return this.Oi.delete(n.target),this.$i.Ri(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Oi.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){const r=this.Oi.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.$i.Ti(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.$i.Ai(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.$i.Ri(n),I.resolve()}getMatchingKeysForTargetId(e,n){const r=this.$i.Pi(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.$i.containsKey(n))}}class DY{constructor(e,n){this.Li={},this.overlays={},this.ts=new un(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new EY(this),this.indexManager=new Z9,this.fs=new IY(r=>this.referenceDelegate.Ui(r)),this.M=new dR(n),this.ds=new yY(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _Y,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Li[e.toKey()];return r||(r=new vY(n,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const i=new bY(this.ts.next());return this.referenceDelegate.qi(),r(i).next(s=>this.referenceDelegate.Gi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ki(e,n){return I.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,n)))}}class bY extends class H9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Pw{constructor(e){this.persistence=e,this.Qi=new Rw,this.ji=null}static Wi(e){return new Pw(e)}get zi(){if(this.ji)return this.ji;throw R()}addReference(e,n,r){return this.Qi.addReference(r,n),this.zi.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.Qi.removeReference(r,n),this.zi.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.zi.add(n.toString()),I.resolve()}removeTarget(e,n){this.Qi.Ri(n.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.zi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}qi(){this.ji=new Set}Gi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.zi,r=>{const i=C.fromPath(r);return this.Hi(e,i).next(s=>{s||n.removeEntry(i,F.min())})}).next(()=>(this.ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hi(e,n).next(r=>{r?this.zi.delete(n.toString()):this.zi.add(n.toString())})}Ui(e){return 0}Hi(e,n){return I.or([()=>I.resolve(this.Qi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ki(e,n)])}}class Lw{constructor(){this.activeTargetIds=nh()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UR{constructor(){this.Fr=new Lw,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,r){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Lw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TY{Br(e){}shutdown(){}}class jR{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const CY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class SY{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class AY extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,r,i,s){const o=this.oo(e,n);b("RestConnection","Sending: ",o,r);const a={};return this.uo(a,i,s),this.ao(e,o,a,r).then(u=>(b("RestConnection","Received: ",u),u),u=>{throw Gd("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}co(e,n,r,i,s){return this.ro(e,n,r,i,s)}uo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+mo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}oo(e,n){return`${this.so}/v1/${n}:${CY[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,n,r,i){return new Promise((s,o)=>{const a=new x5;a.listenOnce(C5.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case JI.NO_ERROR:const c=a.getResponseJson();b("Connection","XHR received:",JSON.stringify(c)),s(c);break;case JI.TIMEOUT:b("Connection",'RPC "'+e+'" timed out'),o(new D(v.DEADLINE_EXCEEDED,"Request time out"));break;case JI.HTTP_ERROR:const l=a.getStatus();if(b("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(p)>=0?p:v.UNKNOWN}(d.status);o(new D(h,d.message))}else o(new D(v.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new D(v.UNAVAILABLE,"Connection failed."));break;default:R()}}finally{b("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}ho(e,n,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=b5(),o=T5(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new A5({})),this.uo(a.initMessageHeaders,n,r),XA()||ZA()||function Oq(){return tt().indexOf("Electron/")>=0}()||ex()||function Fq(){return tt().indexOf("MSAppHost/")>=0}()||Ol()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");b("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new SY({jr:p=>{d?b("Connection","Not sending because WebChannel is closed:",p):(l||(b("Connection","Opening WebChannel transport."),c.open(),l=!0),b("Connection","WebChannel sending:",p),c.send(p))},Wr:()=>c.close()}),f=(p,m,_)=>{p.listen(m,w=>{try{_(w)}catch(y){setTimeout(()=>{throw y},0)}})};return f(c,Hd.EventType.OPEN,()=>{d||b("Connection","WebChannel transport opened.")}),f(c,Hd.EventType.CLOSE,()=>{d||(d=!0,b("Connection","WebChannel transport closed"),h.eo())}),f(c,Hd.EventType.ERROR,p=>{d||(d=!0,Gd("Connection","WebChannel transport errored:",p),h.eo(new D(v.UNAVAILABLE,"The operation could not be completed")))}),f(c,Hd.EventType.MESSAGE,p=>{var m;if(!d){const _=p.data[0];V(!!_);const w=_,y=w.error||(null===(m=w[0])||void 0===m?void 0:m.error);if(y){b("Connection","WebChannel received error:",y);const S=y.status;let k=function(B){const Je=je[B];if(void 0!==Je)return Bk(Je)}(S),P=y.message;void 0===k&&(k=v.INTERNAL,P="Unknown error status: "+S+" with message "+y.message),d=!0,h.eo(new D(k,P)),c.close()}else b("Connection","WebChannel received:",_),h.no(_)}}),f(o,S5.STAT_EVENT,p=>{p.stat===QN.PROXY?b("Connection","Detected buffering proxy"):p.stat===QN.NOPROXY&&b("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Zr()},0),h}}function yh(){return"undefined"!=typeof document?document:null}function Xu(t){return new p9(t,!0)}class Bw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Jn=e,this.timerId=n,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class HR{constructor(e,n,r,i,s,o,a,u){this.Jn=e,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new Bw(e,n)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return g(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return g(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,n){var r=this;return g(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(Ve(n.toString()),Ve("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):n&&n.code===v.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(n)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===n&&this.Uo(r,i)},r=>{e(()=>{const i=new D(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,n){const r=this.Lo(this.Po);this.stream=this.Go(e,n),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io(g(function*(){e.state=0,e.start()}))}qo(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.Jn.enqueueAndForget(()=>this.Po===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xY extends HR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.M=s}Go(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=function y9(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:R(),i=e.targetChange.targetIds||[],s=function(u,c){return u.N?(V(void 0===c||"string"==typeof c),Ye.fromBase64String(c||"")):(V(void 0===c||c instanceof Uint8Array),Ye.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?v.UNKNOWN:Bk(u.code);return new D(c,u.message||"")}(o);n=new $k(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=rr(t,r.document.name),s=ot(r.document.updateTime),o=new Ct({mapValue:{fields:r.document.fields}}),a=me.newFoundDocument(i,s,o);n=new rh(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=rr(t,r.document),s=r.readTime?ot(r.readTime):F.min(),o=me.newNoDocument(i,s);n=new rh([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=rr(t,r.document);n=new rh([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return R();{const r=e.filter,s=new s9(r.count||0);n=new jk(r.targetId,s)}}var u;return n}(this.M,e),r=function(i){if(!("targetChange"in i))return F.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?F.min():s.readTime?ot(s.readTime):F.min()}(e);return this.listener.Ko(n,r)}Qo(e){const n={};n.database=Hu(this.M),n.addTarget=function(i,s){let o;const a=s.target;return o=Kd(a)?{documents:Xk(i,a)}:{query:Zk(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=zk(i,s.resumeToken):s.snapshotVersion.compareTo(F.min())>0&&(o.readTime=ju(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=function v9(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return R()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Oo(n)}jo(e){const n={};n.database=Hu(this.M),n.removeTarget=e,this.Oo(n)}}class MY extends HR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.M=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(V(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=function _9(t,e){return t&&t.length>0?(V(void 0!==e),t.map(n=>function(r,i){let s=ot(r.updateTime?r.updateTime:i);return s.isEqual(F.min())&&(s=ot(i)),new n9(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ot(e.commitTime);return this.listener.Jo(r,n)}return V(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Hu(this.M),this.Oo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Gu(t,e){let n;if(e instanceof Fu)n={update:Qk(t,e.key,e.value)};else if(e instanceof Lu)n={delete:$u(t,e.key)};else if(e instanceof Wi)n={update:Qk(t,e.key,e.data),updateMask:b9(e.fieldMask)};else{if(!(e instanceof lw))return R();n={verify:$u(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof To)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof qi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof zi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Co)return{fieldPath:s.field.canonicalString(),increment:o.k};throw R()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:g9(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:R()),n;var i}(this.M,r))};this.Oo(n)}}class NY extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=r,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}co(e,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.co(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class kY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ve(n),this.su=!1):b("OnlineStateTracker",n)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class RY{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(a=>{r.enqueueAndForget(g(function*(){var u;oi(o)&&(b("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=A(c);l.lu.add(4),yield Fo(l),l._u.set("Unknown"),l.lu.delete(4),yield Zu(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this._u=new kY(r,i)}}function Zu(t){return Uw.apply(this,arguments)}function Uw(){return Uw=g(function*(t){if(oi(t))for(const e of t.fu)yield e(!0)}),Uw.apply(this,arguments)}function Fo(t){return jw.apply(this,arguments)}function jw(){return jw=g(function*(t){for(const e of t.fu)yield e(!1)}),jw.apply(this,arguments)}function _h(t,e){const n=A(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),Gw(n)?Hw(n):Vo(n).Co()&&$w(n,e))}function ec(t,e){const n=A(t),r=Vo(n);n.hu.delete(e),r.Co()&&GR(n,e),0===n.hu.size&&(r.Co()?r.ko():oi(n)&&n._u.set("Unknown"))}function $w(t,e){t.wu.Z(e.targetId),Vo(t).Qo(e)}function GR(t,e){t.wu.Z(e),Vo(t).jo(e)}function Hw(t){t.wu=new d9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.hu.get(e)||null}),Vo(t).start(),t._u.iu()}function Gw(t){return oi(t)&&!Vo(t).Do()&&t.hu.size>0}function oi(t){return 0===A(t).lu.size}function qR(t){t.wu=void 0}function PY(t){return qw.apply(this,arguments)}function qw(){return qw=g(function*(t){t.hu.forEach((e,n)=>{$w(t,e)})}),qw.apply(this,arguments)}function OY(t,e){return zw.apply(this,arguments)}function zw(){return zw=g(function*(t,e){qR(t),Gw(t)?(t._u.uu(e),Hw(t)):t._u.set("Unknown")}),zw.apply(this,arguments)}function FY(t,e,n){return Ww.apply(this,arguments)}function Ww(){return Ww=g(function*(t,e,n){if(t._u.set("Online"),e instanceof $k&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.hu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.hu.delete(a),i.wu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield vh(t,r)}else if(e instanceof rh?t.wu.ut(e):e instanceof jk?t.wu._t(e):t.wu.ht(e),!n.isEqual(F.min()))try{const r=yield RR(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.wu.yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.hu.get(u);c&&i.hu.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.hu.get(a);if(!u)return;i.hu.set(a,u.withResumeToken(Ye.EMPTY_BYTE_STRING,u.snapshotVersion)),GR(i,a);const c=new ni(u.target,a,1,u.sequenceNumber);$w(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield vh(t,r)}var r}),Ww.apply(this,arguments)}function vh(t,e,n){return Kw.apply(this,arguments)}function Kw(){return Kw=g(function*(t,e,n){if(!Ki(e))throw e;t.lu.add(1),yield Fo(t),t._u.set("Offline"),n||(n=()=>RR(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.lu.delete(1),yield Zu(t)}))}),Kw.apply(this,arguments)}function zR(t,e){return e().catch(n=>vh(t,n,e))}function Lo(t){return Yw.apply(this,arguments)}function Yw(){return Yw=g(function*(t){const e=A(t),n=ai(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;LY(e);)try{const i=yield pY(e.localStore,r);if(null===i){0===e.cu.length&&n.ko();break}r=i.batchId,VY(e,i)}catch(i){yield vh(e,i)}WR(e)&&KR(e)}),Yw.apply(this,arguments)}function LY(t){return oi(t)&&t.cu.length<10}function VY(t,e){t.cu.push(e);const n=ai(t);n.Co()&&n.zo&&n.Ho(e.mutations)}function WR(t){return oi(t)&&!ai(t).Do()&&t.cu.length>0}function KR(t){ai(t).start()}function BY(t){return Qw.apply(this,arguments)}function Qw(){return Qw=g(function*(t){ai(t).Xo()}),Qw.apply(this,arguments)}function UY(t){return Jw.apply(this,arguments)}function Jw(){return Jw=g(function*(t){const e=ai(t);for(const n of t.cu)e.Ho(n.mutations)}),Jw.apply(this,arguments)}function jY(t,e,n){return Xw.apply(this,arguments)}function Xw(){return Xw=g(function*(t,e,n){const r=t.cu.shift(),i=yw.from(r,e,n);yield zR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Lo(t)}),Xw.apply(this,arguments)}function $Y(t,e){return Zw.apply(this,arguments)}function Zw(){return Zw=g(function*(t,e){var n;e&&ai(t).zo&&(yield(n=g(function*(r,i){if(Vk(s=i.code)&&s!==v.ABORTED){const o=r.cu.shift();ai(r).No(),yield zR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Lo(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),WR(t)&&KR(t)}),Zw.apply(this,arguments)}function YR(t,e){return eE.apply(this,arguments)}function eE(){return eE=g(function*(t,e){const n=A(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const r=oi(n);n.lu.add(3),yield Fo(n),r&&n._u.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),yield Zu(n)}),eE.apply(this,arguments)}function nE(){return nE=g(function*(t,e){const n=A(t);e?(n.lu.delete(2),yield Zu(n)):e||(n.lu.add(2),yield Fo(n),n._u.set("Unknown"))}),nE.apply(this,arguments)}function Vo(t){return t.mu||(t.mu=function(e,n,r){const i=A(e);return i.tu(),new xY(n,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{zr:PY.bind(null,t),Jr:OY.bind(null,t),Ko:FY.bind(null,t)}),t.fu.push(function(){var e=g(function*(n){n?(t.mu.No(),Gw(t)?Hw(t):t._u.set("Unknown")):(yield t.mu.stop(),qR(t))});return function(n){return e.apply(this,arguments)}}())),t.mu}function ai(t){return t.gu||(t.gu=function(e,n,r){const i=A(e);return i.tu(),new MY(n,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{zr:BY.bind(null,t),Jr:$Y.bind(null,t),Yo:UY.bind(null,t),Jo:jY.bind(null,t)}),t.fu.push(function(){var e=g(function*(n){n?(t.gu.No(),yield Lo(t)):(yield t.gu.stop(),t.cu.length>0&&(b("RemoteStore",`Stopping write stream with ${t.cu.length} pending writes`),t.cu=[]))});return function(n){return e.apply(this,arguments)}}())),t.gu}class rE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new st,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new rE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bo(t,e){if(Ve("AsyncQueue",`${e}: ${t}`),Ki(t))return new D(v.UNAVAILABLE,`${e}: ${t}`);throw t}class Uo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||C.comparator(n.key,r.key):(n,r)=>C.comparator(n.key,r.key),this.keyedMap=dw(),this.sortedSet=new Ne(this.comparator)}static emptySet(e){return new Uo(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class QR{constructor(){this.yu=new Ne(C.comparator)}track(e){const n=e.doc.key,r=this.yu.get(n);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(n,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(n):1===e.type&&2===r.type?this.yu=this.yu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):R():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,r)=>{e.push(r)}),e}}class jo{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new jo(e,n,Uo.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class HY{constructor(){this.Iu=void 0,this.listeners=[]}}class GY{constructor(){this.queries=new ti(e=>Ek(e),Pu),this.onlineState="Unknown",this.Tu=new Set}}function sE(){return sE=g(function*(t,e){const n=A(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new HY),i)try{s.Iu=yield n.onListen(r)}catch(o){const a=Bo(o,`Initialization of query '${aw(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Eu(n.onlineState),s.Iu&&e.Au(s.Iu)&&uE(n)}),sE.apply(this,arguments)}function aE(){return aE=g(function*(t,e){const n=A(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),aE.apply(this,arguments)}function qY(t,e){const n=A(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Au(i)&&(r=!0);o.Iu=i}}r&&uE(n)}function zY(t,e,n){const r=A(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function uE(t){t.Tu.forEach(e=>{e.next()})}class cE{constructor(e,n,r){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),n=!0):this.vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}vu(e,n){return!e.fromCache||!(this.options.Du&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class ZR{constructor(e){this.key=e}}class eP{constructor(e){this.key=e}}class tP{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=oe(),this.mutatedKeys=oe(),this.Lu=bk(e),this.Uu=new Uo(this.Lu)}get qu(){return this.Fu}Gu(e,n){const r=n?n.Ku:new QR,i=n?n.Uu:this.Uu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=Qd(this.query)&&i.size===this.query.limit?i.last():null,c=Jd(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=uw(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),_=!0):this.Qu(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.Lu(f,u)>0||c&&this.Lu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||c)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),Qd(this.query)||Jd(this.query))for(;o.size>this.query.limit;){const l=Qd(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Ku:r,ei:a,mutatedKeys:s}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Ku.pu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R()}};return f(d)-f(h)}(c.type,l.type)||this.Lu(c.doc,l.doc)),this.ju(r);const o=n?this.Wu():[],a=0===this.Bu.size&&this.current?1:0,u=a!==this.$u;return this.$u=a,0!==s.length||u?{snapshot:new jo(this.query,e.Uu,i,s,e.mutatedKeys,0===a,u,!1),zu:o}:{zu:o}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new QR,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=oe(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const n=[];return e.forEach(r=>{this.Bu.has(r)||n.push(new eP(r))}),this.Bu.forEach(r=>{e.has(r)||n.push(new ZR(r))}),n}Ju(e){this.Fu=e.hi,this.Bu=oe();const n=this.Gu(e.documents);return this.applyChanges(n,!0)}Yu(){return jo.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class YY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QY{constructor(e){this.key=e,this.Xu=!1}}class JY{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new ti(a=>Ek(a),Pu),this.ea=new Map,this.na=new Set,this.sa=new Ne(C.comparator),this.ia=new Map,this.ra=new Rw,this.oa={},this.ua=new Map,this.aa=Zi.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function XY(t,e){return lE.apply(this,arguments)}function lE(){return lE=g(function*(t,e){const n=RE(t);let r,i;const s=n.ta.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const o=yield Po(n.localStore,vn(e));n.isPrimaryClient&&_h(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield dE(n,e,r,"current"===a)}return i}),lE.apply(this,arguments)}function dE(t,e,n,r){return hE.apply(this,arguments)}function hE(){return hE=g(function*(t,e,n,r){t.ha=(l,d,h)=>{return(f=g(function*(p,m,_,w){let y=m.view.Gu(_);y.ei&&(y=yield ph(p.localStore,m.query,!1).then(({documents:P})=>m.view.Gu(P,y)));const S=w&&w.targetChanges.get(m.targetId),k=m.view.applyChanges(y,p.isPrimaryClient,S);return EE(p,m.targetId,k.zu),k.snapshot}),function(p,m,_,w){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield ph(t.localStore,e,!0),s=new tP(e,i.hi),o=s.Gu(i.documents),a=Uu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);EE(t,n,u.zu);const c=new YY(e,n,s);return t.ta.set(e,c),t.ea.has(n)?t.ea.get(n).push(e):t.ea.set(n,[e]),u.snapshot}),hE.apply(this,arguments)}function ZY(t,e){return fE.apply(this,arguments)}function fE(){return fE=g(function*(t,e){const n=A(t),r=n.ta.get(e),i=n.ea.get(r.targetId);if(i.length>1)return n.ea.set(r.targetId,i.filter(s=>!Pu(s,e))),void n.ta.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Oo(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ec(n.remoteStore,r.targetId),$o(n,r.targetId)}).catch(es))):($o(n,r.targetId),yield Oo(n.localStore,r.targetId,!0))}),fE.apply(this,arguments)}function pE(){return pE=g(function*(t,e,n){const r=PE(t);try{const i=yield function(s,o){const a=A(s),u=Be.now(),c=o.reduce((d,h)=>d.add(h.key),oe());let l;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.ai.qs(d,c).next(h=>{l=h;const f=[];for(const p of o){const m=i9(p,l.get(p.key));null!=m&&f.push(new Wi(p.key,m,pk(m.value.mapValue),Ue.exists(!0)))}return a.$s.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(l),{batchId:d.batchId,changes:l}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.oa[s.currentUser.toKey()];u||(u=new Ne(Q)),u=u.insert(o,a),s.oa[s.currentUser.toKey()]=u}(r,i.batchId,n),yield xr(r,i.changes),yield Lo(r.remoteStore)}catch(i){const s=Bo(i,"Failed to persist write");n.reject(s)}}),pE.apply(this,arguments)}function nP(t,e){return gE.apply(this,arguments)}function gE(){return gE=g(function*(t,e){const n=A(t);try{const r=yield fY(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ia.get(s);o&&(V(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Xu=!0:i.modifiedDocuments.size>0?V(o.Xu):i.removedDocuments.size>0&&(V(o.Xu),o.Xu=!1))}),yield xr(n,r,e)}catch(r){yield es(r)}}),gE.apply(this,arguments)}function rP(t,e,n){const r=A(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ta.forEach((s,o)=>{const a=o.view.Eu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=A(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Eu(o)&&(u=!0)}),u&&uE(a)}(r.eventManager,e),i.length&&r.Zu.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function tQ(t,e,n){return mE.apply(this,arguments)}function mE(){return mE=g(function*(t,e,n){const r=A(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ia.get(e),s=i&&i.key;if(s){let o=new Ne(C.comparator);o=o.insert(s,me.newNoDocument(s,F.min()));const a=oe().add(s),u=new Bu(F.min(),new Map,new ye(Q),o,a);yield nP(r,u),r.sa=r.sa.remove(s),r.ia.delete(e),DE(r)}else yield Oo(r.localStore,e,!1).then(()=>$o(r,e,n)).catch(es)}),mE.apply(this,arguments)}function nQ(t,e){return yE.apply(this,arguments)}function yE(){return yE=g(function*(t,e){const n=A(t),r=e.batch.batchId;try{const i=yield hY(n.localStore,e);wE(n,r,null),IE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield xr(n,i)}catch(i){yield es(i)}}),yE.apply(this,arguments)}function rQ(t,e,n){return _E.apply(this,arguments)}function _E(){return _E=g(function*(t,e,n){const r=A(t);try{const i=yield function(s,o){const a=A(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.$s.lookupMutationBatch(u,o).next(l=>(V(null!==l),c=l.keys(),a.$s.removeMutationBatch(u,l))).next(()=>a.$s.performConsistencyCheck(u)).next(()=>a.ai.qs(u,c))})}(r.localStore,e);wE(r,e,n),IE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield xr(r,i)}catch(i){yield es(i)}}),_E.apply(this,arguments)}function IE(t,e){(t.ua.get(e)||[]).forEach(n=>{n.resolve()}),t.ua.delete(e)}function wE(t,e,n){const r=A(t);let i=r.oa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.oa[r.currentUser.toKey()]=i}}function $o(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ea.get(e))t.ta.delete(r),n&&t.Zu.la(r,n);t.ea.delete(e),t.isPrimaryClient&&t.ra.Ri(e).forEach(r=>{t.ra.containsKey(r)||iP(t,r)})}function iP(t,e){t.na.delete(e.path.canonicalString());const n=t.sa.get(e);null!==n&&(ec(t.remoteStore,n),t.sa=t.sa.remove(e),t.ia.delete(n),DE(t))}function EE(t,e,n){for(const r of n)r instanceof ZR?(t.ra.addReference(r.key,e),sQ(t,r)):r instanceof eP?(b("SyncEngine","Document no longer in limbo: "+r.key),t.ra.removeReference(r.key,e),t.ra.containsKey(r.key)||iP(t,r.key)):R()}function sQ(t,e){const n=e.key,r=n.path.canonicalString();t.sa.get(n)||t.na.has(r)||(b("SyncEngine","New document in limbo: "+n),t.na.add(r),DE(t))}function DE(t){for(;t.na.size>0&&t.sa.size<t.maxConcurrentLimboResolutions;){const e=t.na.values().next().value;t.na.delete(e);const n=new C(ee.fromString(e)),r=t.aa.next();t.ia.set(r,new QY(n)),t.sa=t.sa.insert(n,r),_h(t.remoteStore,new ni(vn(Do(n.path)),r,2,un.A))}}function xr(t,e,n){return bE.apply(this,arguments)}function bE(){return bE=g(function*(t,e,n){const r=A(t),i=[],s=[],o=[];var a;r.ta.isEmpty()||(r.ta.forEach((a,u)=>{o.push(r.ha(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=Aw.Js(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Zu.Ko(i),yield(a=g(function*(u,c){const l=A(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>I.forEach(c,h=>I.forEach(h.zs,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>I.forEach(h.Hs,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ki(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.si.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.si=l.si.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),bE.apply(this,arguments)}function oQ(t,e){return TE.apply(this,arguments)}function TE(){return TE=g(function*(t,e){const n=A(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());const r=yield kR(n.localStore,e);n.currentUser=e,(i=n).ua.forEach(o=>{o.forEach(a=>{a.reject(new D(v.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ua.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xr(n,r.ci)}var i}),TE.apply(this,arguments)}function aQ(t,e){const n=A(t),r=n.ia.get(e);if(r&&r.Xu)return oe().add(r.key);{let i=oe();const s=n.ea.get(e);if(!s)return i;for(const o of s){const a=n.ta.get(o);i=i.unionWith(a.view.qu)}return i}}function RE(t){const e=A(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tQ.bind(null,e),e.Zu.Ko=qY.bind(null,e.eventManager),e.Zu.la=zY.bind(null,e.eventManager),e}function PE(t){const e=A(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rQ.bind(null,e),e}class mQ{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.M=Xu(e.databaseInfo.databaseId),n.sharedClientState=n.da(e),n.persistence=n._a(e),yield n.persistence.start(),n.gcScheduler=n.wa(e),n.localStore=n.ma(e)})()}wa(e){return null}ma(e){return function NR(t,e,n,r){return new dY(t,e,n,r)}(this.persistence,new MR,e.initialUser,this.M)}_a(e){return new DY(Pw.Wi,this.M)}da(e){return new UR}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class OE{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>rP(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=oQ.bind(null,r.syncEngine),yield function tE(t,e){return nE.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new GY}createDatastore(e){const n=Xu(e.databaseInfo.databaseId),r=new AY(e.databaseInfo);return new NY(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>rP(this.syncEngine,a,0),o=jR.vt()?new jR:new TY,new RY(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new JY(r,i,s,o,a,u);return c&&(l.ca=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=A(n);b("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Fo(r),r.du.shutdown(),r._u.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Ih{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class EQ{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=ek.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){b("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(b("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new st;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Bo(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function uP(t,e){return FE.apply(this,arguments)}function FE(){return FE=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield kR(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),FE.apply(this,arguments)}function cP(t,e){return LE.apply(this,arguments)}function LE(){return LE=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield VE(t);b("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>YR(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>YR(e.remoteStore,s)),t.onlineComponents=e}),LE.apply(this,arguments)}function VE(t){return BE.apply(this,arguments)}function BE(){return BE=g(function*(t){return t.offlineComponents||(b("FirestoreClient","Using default OfflineComponentProvider"),yield uP(t,new mQ)),t.offlineComponents}),BE.apply(this,arguments)}function wh(t){return UE.apply(this,arguments)}function UE(){return UE=g(function*(t){return t.onlineComponents||(b("FirestoreClient","Using default OnlineComponentProvider"),yield cP(t,new OE)),t.onlineComponents}),UE.apply(this,arguments)}function Ho(t){return HE.apply(this,arguments)}function HE(){return HE=g(function*(t){const e=yield wh(t),n=e.eventManager;return n.onListen=XY.bind(null,e.syncEngine),n.onUnlisten=ZY.bind(null,e.syncEngine),n}),HE.apply(this,arguments)}const pP=new Map;function GE(t,e,n){if(!n)throw new D(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gP(t){if(!C.isDocumentKey(t))throw new D(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Eh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":R()}function ne(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Eh(t);throw new D(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class _P{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function NQ(t,e,n,r){if(!0===e&&!0===r)throw new D(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tc{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _P({}),this._settingsFrozen=!1,e instanceof Xr?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new D(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xr(i.options.projectId)}(e))}get app(){if(!this._app)throw new D(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _P(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new M5;switch(n.type){case"gapi":const r=n.client;return V(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new P5(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new D(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=pP.get(e);n&&(b("ComponentProvider","Removing Datastore"),pP.delete(e),n.terminate())}(this),Promise.resolve()}}class ke{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ke(this.firestore,e,this._key)}}class St{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new St(this.firestore,e,this._query)}}class ir extends St{constructor(e,n,r){super(e,n,Do(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ke(this.firestore,null,new C(e))}withConverter(e){return new ir(this.firestore,e,this._path)}}function qE(t,e,...n){if(t=Ot(t),1===arguments.length&&(e=ek.R()),GE("doc","path",e),t instanceof tc){const r=ee.fromString(e,...n);return gP(r),new ke(t,null,new C(r))}{if(!(t instanceof ke||t instanceof ir))throw new D(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ee.fromString(e,...n));return gP(r),new ke(t.firestore,t instanceof ir?t.converter:null,new C(r))}}class RQ{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new Bw(this,"async_queue_retry"),this.Ua=()=>{const n=yh();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=yh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const n=yh();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const n=new st;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return g(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(n){if(!Ki(n))throw n;b("AsyncQueue","Operation failed with retryable error: "+n)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const n=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,Ve("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=n,n}enqueueAfterDelay(e,n,r){this.qa(),this.La.indexOf(e)>-1&&(n=0);const i=rE.createAndSchedule(this,e,n,r,s=>this.Qa(s));return this.Oa.push(i),i}qa(){this.Fa&&R()}verifyOperationInProgress(){}ja(){var e=this;return g(function*(){let n;do{n=e.Na,yield n}while(n!==e.Na)})()}Wa(e){for(const n of this.Oa)if(n.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Oa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const n=this.Oa.indexOf(e);this.Oa.splice(n,1)}}function zE(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class we extends tc{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new RQ,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||vP(this),this._firestoreClient.terminate()}}function OQ(t=om()){return eo(t,"firestore").getImmediate()}function Qe(t){return t._firestoreClient||vP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vP(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new B5(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new EQ(t._authCredentials,t._appCheckCredentials,t._queue,r)}class Go{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ns(Ye.fromBase64String(e))}catch(n){throw new D(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ns(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class EP{constructor(e){this._methodName=e}}class WE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}}const FQ=/^__.*__$/;class LQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}function bP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R()}}class Dh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Ja(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new Dh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Xa({path:r,tc:!1});return i.ec(e),i}nc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Xa({path:r,tc:!1});return i.Ja(),i}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return Th(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(bP(this.Ya)&&FQ.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class VQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=r||Xu(e)}uc(e,n,r,i=!1){return new Dh({Ya:e,methodName:n,oc:r,path:mt.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function qo(t){const e=t._freezeSettings(),n=Xu(t._databaseId);return new VQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KE(t,e,n,r,i,s={}){const o=t.uc(s.merge||s.mergeFields?2:0,e,n,i);QE("Data must be an object, but it was:",o,r);const a=xP(r,o);let u,c;if(s.merge)u=new _o(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=JE(e,d,n);if(!o.contains(h))throw new D(v.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);NP(l,h)||l.push(h)}u=new _o(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new LQ(new Ct(a),u,c)}function rs(t,e){if(MP(t=Ot(t)))return QE("Unsupported field value:",e,t),xP(t,e);if(t instanceof EP)return function(n,r){if(!bP(r.Ya))throw r.ic(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=rs(o,r.sc(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Ot(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Sk(r.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Be.fromDate(n);return{timestampValue:ju(r.M,i)}}if(n instanceof Be){const i=new Be(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ju(r.M,i)}}if(n instanceof WE)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ns)return{bytesValue:zk(r.M,n._byteString)};if(n instanceof ke){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ic(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hw(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ic(`Unsupported field value: ${Eh(n)}`)}(t,e)}function xP(t,e){const n={};return rk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ui(t,(r,i)=>{const s=rs(i,e.Za(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function MP(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof WE||t instanceof ns||t instanceof ke||t instanceof EP)}function QE(t,e,n){if(!MP(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Eh(n);throw e.ic("an object"===r?t+" a custom object":t+" "+r)}var r}function JE(t,e,n){if((e=Ot(e))instanceof Go)return e._internalPath;if("string"==typeof e)return bh(t,e);throw Th("Field path arguments must be of type string or ",t,!1,void 0,n)}const $Q=new RegExp("[~\\*/\\[\\]]");function bh(t,e,n){if(e.search($Q)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Go(...e.split("."))._internalPath}catch(r){throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Th(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(v.INVALID_ARGUMENT,a+t+u)}function NP(t,e){return t.some(n=>n.isEqual(e))}class XE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new HQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ch("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class HQ extends XE{data(){return super.data()}}function Ch(t,e){return"string"==typeof e?bh(t,e):e instanceof Go?e._internalPath:e._delegate._internalPath}class is{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zo extends XE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ch("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sh extends zo{data(e={}){return super.data(e)}}class Wo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new is(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sh(this._firestore,this._userDataWriter,r.key,r,new is(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Sh(r._firestore,r._userDataWriter,o.doc.key,o.doc,new is(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Sh(r._firestore,r._userDataWriter,o.doc.key,o.doc,new is(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:GQ(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function GQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R()}}class ss extends class WQ{convertValue(e,n="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw R()}}convertObject(e,n){const r={};return Ui(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new WE(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ik(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ee.fromString(e);V(nR(r));const i=new Xr(r.get(1),r.get(3)),s=new C(r.popFirst(5));return i.isEqual(n)||Ve(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new ns(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ke(this.firestore,null,n)}}function YQ(t,e,n){t=ne(t,ke);const r=ne(t.firestore,we),i=function ZE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return function rc(t,e){return function(n,r){const i=new st;return n.asyncQueue.enqueueAndForget(g(function*(){return function eQ(t,e,n){return pE.apply(this,arguments)}(yield function $E(t){return wh(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Qe(t),e)}(r,[KE(qo(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ue.none())])}!function(t,e=!0){mo="9.6.10",Ft(new bt("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new we(i,new k5(n.getProvider("auth-internal")),new O5(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Se(JN,"3.4.7",t),Se(JN,"3.4.7","esm2017")}();var XQ={includeMetadataChanges:!1};function tD(t,e){return void 0===e&&(e=XQ),new Ze(function(n){var r=function QQ(t,...e){var n,r,i;t=Ot(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||zE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(zE(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ke)c=ne(t.firestore,we),l=Do(t._key.path),u={next:d=>{e[o]&&e[o](function eD(t,e,n){const r=n.docs.get(e._key),i=new ss(t);return new zo(t,i,e._key,r,new is(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ne(t,St);c=ne(d.firestore,we),l=d._query;const h=new ss(c);u={next:f=>{e[o]&&e[o](new Wo(c,h,d,f))},error:e[o+1],complete:e[o+2]},function kP(t){if(Jd(t)&&0===t.explicitOrderBy.length)throw new D(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new Ih(p),_=new cE(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function iE(t,e){return sE.apply(this,arguments)}(yield Ho(d),_)})),()=>{m.pa(),d.asyncQueue.enqueueAndForget(g(function*(){return function oE(t,e){return aE.apply(this,arguments)}(yield Ho(d),_)}))}}(Qe(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function eJ(t,e){return void 0===e&&(e={}),function ZQ(t){return tD(t,{includeMetadataChanges:!0})}(t).pipe(dc(function(n){return function jP(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(n,e)}))}class xh{constructor(e){return e}}const qP="firestore",iD=new ie("angularfire2.firestore-instances");function uJ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new xh(r)}}const cJ={provide:class oJ{constructor(){return Gy(qP)}},deps:[[new Nt,iD]]},lJ={provide:xh,useFactory:function aJ(t,e){const n=Hy(qP,t,e);return n&&new xh(n)},deps:[[new Nt,iD],oo]};let dJ=(()=>{class t{constructor(){Se("angularfire",zl.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Or({type:t}),t.\u0275inj=ar({providers:[lJ,cJ]}),t})();function hJ(t,...e){return{ngModule:dJ,providers:[{provide:iD,useFactory:uJ(t),multi:!0,deps:[qe,Et,qy,zy,[new Nt,O1],[new Nt,c_],...e]}]}}const fJ=er(eJ,!0),pJ=er(OQ,!0),gJ=er(YQ,!0);let zP=(()=>{class t{constructor(n,r){this.firestore=n,this.auth=r,this.user$=y7(r).pipe(WA(i=>i?fJ(qE(this.firestore,`users/${i.uid}`)).pipe(dc(s=>({uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL,saved:s.saved,isPro:s.isPro}))):function mJ(...t){return Uh(t,ND(t))}(null)))}signUp(n){var r=this;return g(function*(){if(!n.displayName||!n.email||!n.password)throw Error("Insufficient information");const i=yield function b6(t,e,n){return hv.apply(this,arguments)}(r.auth,n.email,n.password);yield E7(i.user,{displayName:n.displayName}),yield r.updateUserDoc(i.user)})()}loginWithGoogle(){var n=this;return g(function*(){const r=yield I7(n.auth,new y6);yield n.updateUserDoc(r.user)})()}login(n){var r=this;return g(function*(){if(!n.email||!n.password)throw Error("Invalid credentials");yield v7(r.auth,n.email,n.password)})()}updateUserDoc(n,r){var i=this;return g(function*(){const s={displayName:n.displayName,email:n.email,photoURL:n.photoURL,uid:n.uid,isPro:!1,saved:[]};r&&r.saved&&(s.saved=r.saved),yield gJ(qE(i.firestore,`users/${n.uid}`),Object.assign({},s),{merge:!0})})()}logout(){var n=this;return g(function*(){yield w7(n.auth)})()}}return t.\u0275fac=function(n){return new(n||t)(re(xh),re(yd))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yJ(t,e){if(1&t&&(Mn(0,"div"),vi(1,"img",1),Nn()),2&t){const n=Ii().ngIf;tn(1),rn("src",n.photoURL,Vf)("alt",n.displayName)}}function _J(t,e){if(1&t&&(Mn(0,"div")(1,"span"),Gs(2),Nn()()),2&t){const n=Ii().ngIf;tn(2),Da(n.displayName)}}function vJ(t,e){if(1&t&&(Mn(0,"div")(1,"span"),Gs(2),Nn()()),2&t){const n=Ii().ngIf;tn(2),Da(n.email)}}function IJ(t,e){1&t&&(Mn(0,"div")(1,"span",2),Gs(2,"PRO"),Nn()())}function wJ(t,e){if(1&t&&(Mn(0,"div")(1,"span"),Gs(2),Nn()()),2&t){const n=Ii().ngIf,r=Ii();tn(2),Da(r.shortName(n.displayName))}}function EJ(t,e){if(1&t&&(Mn(0,"div"),xn(1,yJ,2,2,"div",0),xn(2,_J,3,1,"div",0),xn(3,vJ,3,1,"div",0),xn(4,IJ,3,0,"div",0),xn(5,wJ,3,1,"div",0),Nn()),2&t){const n=Ii();tn(1),rn("ngIf","photoURL"===n.field),tn(1),rn("ngIf","displayName"===n.field),tn(1),rn("ngIf","email"===n.field),tn(1),rn("ngIf","isPro"===n.field),tn(1),rn("ngIf","shortName"===n.field)}}let DJ=(()=>{class t{constructor(n){this.auth=n}shortName(n){const[r,i]=n.split(" ");return i?`${r[0]}. ${i}`:r}}return t.\u0275fac=function(n){return new(n||t)(K(zP))},t.\u0275cmp=us({type:t,selectors:[["app-user-data"]],inputs:{field:"field"},decls:2,vars:3,consts:[[4,"ngIf"],[3,"src","alt"],[1,"pro-badge"]],template:function(n,r){1&n&&(xn(0,EJ,6,5,"div",0),function ES(t,e){const n=X();let r;const i=t+20;n.firstCreatePass?(r=function Lj(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=mi(r.type)),o=Rr(K);try{const a=Rc(!1),u=s();return Rc(a),function J2(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,E(),i,u),u}finally{Rr(o)}}(1,"async")),2&n&&rn("ngIf",DS(1,1,r.auth.user$))},directives:[Al],pipes:[NA],encapsulation:3}),t})(),bJ=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=us({type:t,selectors:[["app-login-form"]],decls:2,vars:0,template:function(n,r){1&n&&(Mn(0,"p"),Gs(1,"login-form works!"),Nn())},styles:[""]}),t})();function TJ(t,e){1&t&&vi(0,"slot")}function CJ(t,e){1&t&&vi(0,"slot",2)}let SJ=(()=>{class t{constructor(n){this.auth=n}ngOnInit(){this.sub=this.auth.user$.subscribe(n=>{this.user=n})}get allowed(){return!!("logged"===this.level&&this.user||"pro"===this.level&&this.user&&this.user.isPro)}ngOnDestroy(){this.sub.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(K(zP))},t.\u0275cmp=us({type:t,selectors:[["app-allow-if"]],inputs:{level:"level"},decls:2,vars:2,consts:[[4,"ngIf"],["name","else",4,"ngIf"],["name","else"]],template:function(n,r){1&n&&(xn(0,TJ,1,0,"slot",0),xn(1,CJ,1,0,"slot",1)),2&n&&(rn("ngIf",r.allowed),tn(1),rn("ngIf",!r.allowed))},directives:[Al],encapsulation:3}),t})();function AJ(t,e){1&t&&vi(0,"i",3)}function xJ(t,e){1&t&&vi(0,"i",4)}let MJ=(()=>{class t{constructor(){this.defaultTheme="light",this.current="light",localStorage.theme?document.body.classList.add(localStorage.theme):localStorage.theme=this.defaultTheme}toggle(){document.body.classList.toggle("dark"),document.body.classList.contains("dark")?(this.current="dark",localStorage.theme="dark"):(this.current="light",localStorage.theme="light")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=us({type:t,selectors:[["app-theme-switcher"]],decls:3,vars:2,consts:[[3,"click"],["class","fa-solid fa-sun",4,"ngIf"],["class","fa-solid fa-moon",4,"ngIf"],[1,"fa-solid","fa-sun"],[1,"fa-solid","fa-moon"]],template:function(n,r){1&n&&(Mn(0,"a",0),Vp("click",function(){return r.toggle()}),xn(1,AJ,1,0,"i",1),xn(2,xJ,1,0,"i",2),Nn()),2&n&&(tn(1),rn("ngIf","dark"===r.current),tn(1),rn("ngIf","light"===r.current))},directives:[Al],styles:["i[_ngcontent-%COMP%]{font-size:1.5rem}i[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),t})(),NJ=(()=>{class t{constructor(n){this.injector=n}ngDoBootstrap(){const n=[[DJ,"user-data"],[bJ,"login-form"],[SJ,"allow-if"],[MJ,"theme-switcher"]];for(const[r,i]of n){const s=Aq(r,{injector:this.injector});customElements.define(i,s)}}}return t.\u0275fac=function(n){return new(n||t)(re(Et))},t.\u0275mod=Or({type:t}),t.\u0275inj=ar({providers:[],imports:[[rq,L8(()=>V8(KA_firebase)),hJ(()=>pJ()),m7(()=>_7())]]}),t})();(function q$(){oA=!1})(),tq().bootstrapModule(NJ).catch(t=>console.error(t))}},Ee=>{Ee(Ee.s=352)}]);
"use strict";(self.webpackChunkelements=self.webpackChunkelements||[]).push([[429],{435:(ie,Ee,de)=>{de(583)},583:()=>{!function(e){const n=e.performance;function i(M){n&&n.mark&&n.mark(M)}function o(M,E){n&&n.measure&&n.measure(M,E)}i("Zone");const c=e.__Zone_symbol_prefix||"__zone_symbol__";function a(M){return c+M}const T=!0===e[a("forceDuplicateZoneCheck")];if(e.Zone){if(T||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}let d=(()=>{class M{constructor(t,r){this._parent=t,this._name=r?r.name||"unnamed":"<root>",this._properties=r&&r.properties||{},this._zoneDelegate=new v(this,this._parent&&this._parent._zoneDelegate,r)}static assertZonePatched(){if(e.Promise!==oe.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=M.current;for(;t.parent;)t=t.parent;return t}static get current(){return U.zone}static get currentTask(){return re}static __load_patch(t,r,k=!1){if(oe.hasOwnProperty(t)){if(!k&&T)throw Error("Already loaded patch: "+t)}else if(!e["__Zone_disable_"+t]){const C="Zone:"+t;i(C),oe[t]=r(e,M,z),o(C,C)}}get parent(){return this._parent}get name(){return this._name}get(t){const r=this.getZoneWith(t);if(r)return r._properties[t]}getZoneWith(t){let r=this;for(;r;){if(r._properties.hasOwnProperty(t))return r;r=r._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,r){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const k=this._zoneDelegate.intercept(this,t,r),C=this;return function(){return C.runGuarded(k,this,arguments,r)}}run(t,r,k,C){U={parent:U,zone:this};try{return this._zoneDelegate.invoke(this,t,r,k,C)}finally{U=U.parent}}runGuarded(t,r=null,k,C){U={parent:U,zone:this};try{try{return this._zoneDelegate.invoke(this,t,r,k,C)}catch($){if(this._zoneDelegate.handleError(this,$))throw $}}finally{U=U.parent}}runTask(t,r,k){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||K).name+"; Execution: "+this.name+")");if(t.state===x&&(t.type===Q||t.type===P))return;const C=t.state!=y;C&&t._transitionTo(y,j),t.runCount++;const $=re;re=t,U={parent:U,zone:this};try{t.type==P&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,r,k)}catch(l){if(this._zoneDelegate.handleError(this,l))throw l}}finally{t.state!==x&&t.state!==h&&(t.type==Q||t.data&&t.data.isPeriodic?C&&t._transitionTo(j,y):(t.runCount=0,this._updateTaskCount(t,-1),C&&t._transitionTo(x,y,x))),U=U.parent,re=$}}scheduleTask(t){if(t.zone&&t.zone!==this){let k=this;for(;k;){if(k===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);k=k.parent}}t._transitionTo(X,x);const r=[];t._zoneDelegates=r,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(k){throw t._transitionTo(h,X,x),this._zoneDelegate.handleError(this,k),k}return t._zoneDelegates===r&&this._updateTaskCount(t,1),t.state==X&&t._transitionTo(j,X),t}scheduleMicroTask(t,r,k,C){return this.scheduleTask(new m(I,t,r,k,C,void 0))}scheduleMacroTask(t,r,k,C,$){return this.scheduleTask(new m(P,t,r,k,C,$))}scheduleEventTask(t,r,k,C,$){return this.scheduleTask(new m(Q,t,r,k,C,$))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||K).name+"; Execution: "+this.name+")");t._transitionTo(G,j,y);try{this._zoneDelegate.cancelTask(this,t)}catch(r){throw t._transitionTo(h,G),this._zoneDelegate.handleError(this,r),r}return this._updateTaskCount(t,-1),t._transitionTo(x,G),t.runCount=0,t}_updateTaskCount(t,r){const k=t._zoneDelegates;-1==r&&(t._zoneDelegates=null);for(let C=0;C<k.length;C++)k[C]._updateTaskCount(t.type,r)}}return M.__symbol__=a,M})();const b={name:"",onHasTask:(M,E,t,r)=>M.hasTask(t,r),onScheduleTask:(M,E,t,r)=>M.scheduleTask(t,r),onInvokeTask:(M,E,t,r,k,C)=>M.invokeTask(t,r,k,C),onCancelTask:(M,E,t,r)=>M.cancelTask(t,r)};class v{constructor(E,t,r){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=E,this._parentDelegate=t,this._forkZS=r&&(r&&r.onFork?r:t._forkZS),this._forkDlgt=r&&(r.onFork?t:t._forkDlgt),this._forkCurrZone=r&&(r.onFork?this.zone:t._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:t._interceptZS),this._interceptDlgt=r&&(r.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:t._invokeZS),this._invokeDlgt=r&&(r.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:t._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:t._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:t._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:t._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const k=r&&r.onHasTask;(k||t&&t._hasTaskZS)&&(this._hasTaskZS=k?r:b,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=E,r.onScheduleTask||(this._scheduleTaskZS=b,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),r.onInvokeTask||(this._invokeTaskZS=b,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),r.onCancelTask||(this._cancelTaskZS=b,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}fork(E,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,E,t):new d(E,t)}intercept(E,t,r){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,E,t,r):t}invoke(E,t,r,k,C){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,E,t,r,k,C):t.apply(r,k)}handleError(E,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,E,t)}scheduleTask(E,t){let r=t;if(this._scheduleTaskZS)this._hasTaskZS&&r._zoneDelegates.push(this._hasTaskDlgtOwner),r=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,E,t),r||(r=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=I)throw new Error("Task is missing scheduleFn.");R(t)}return r}invokeTask(E,t,r,k){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,E,t,r,k):t.callback.apply(r,k)}cancelTask(E,t){let r;if(this._cancelTaskZS)r=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,E,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");r=t.cancelFn(t)}return r}hasTask(E,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,E,t)}catch(r){this.handleError(E,r)}}_updateTaskCount(E,t){const r=this._taskCounts,k=r[E],C=r[E]=k+t;if(C<0)throw new Error("More tasks executed then were scheduled.");0!=k&&0!=C||this.hasTask(this.zone,{microTask:r.microTask>0,macroTask:r.macroTask>0,eventTask:r.eventTask>0,change:E})}}class m{constructor(E,t,r,k,C,$){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=E,this.source=t,this.data=k,this.scheduleFn=C,this.cancelFn=$,!r)throw new Error("callback is not defined");this.callback=r;const l=this;this.invoke=E===Q&&k&&k.useG?m.invokeTask:function(){return m.invokeTask.call(e,l,this,arguments)}}static invokeTask(E,t,r){E||(E=this),ee++;try{return E.runCount++,E.zone.runTask(E,t,r)}finally{1==ee&&_(),ee--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(x,X)}_transitionTo(E,t,r){if(this._state!==t&&this._state!==r)throw new Error(`${this.type} '${this.source}': can not transition to '${E}', expecting state '${t}'${r?" or '"+r+"'":""}, was '${this._state}'.`);this._state=E,E==x&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const L=a("setTimeout"),Z=a("Promise"),N=a("then");let J,B=[],H=!1;function q(M){if(J||e[Z]&&(J=e[Z].resolve(0)),J){let E=J[N];E||(E=J.then),E.call(J,M)}else e[L](M,0)}function R(M){0===ee&&0===B.length&&q(_),M&&B.push(M)}function _(){if(!H){for(H=!0;B.length;){const M=B;B=[];for(let E=0;E<M.length;E++){const t=M[E];try{t.zone.runTask(t,null,null)}catch(r){z.onUnhandledError(r)}}}z.microtaskDrainDone(),H=!1}}const K={name:"NO ZONE"},x="notScheduled",X="scheduling",j="scheduled",y="running",G="canceling",h="unknown",I="microTask",P="macroTask",Q="eventTask",oe={},z={symbol:a,currentZoneFrame:()=>U,onUnhandledError:W,microtaskDrainDone:W,scheduleMicroTask:R,showUncaughtError:()=>!d[a("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:W,patchMethod:()=>W,bindArguments:()=>[],patchThen:()=>W,patchMacroTask:()=>W,patchEventPrototype:()=>W,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>W,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>W,wrapWithCurrentZone:()=>W,filterProperties:()=>[],attachOriginToPatched:()=>W,_redefineProperty:()=>W,patchCallbacks:()=>W,nativeScheduleMicroTask:q};let U={parent:null,zone:new d(null,null)},re=null,ee=0;function W(){}o("Zone","Zone"),e.Zone=d}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const ie=Object.getOwnPropertyDescriptor,Ee=Object.defineProperty,de=Object.getPrototypeOf,ge=Object.create,Ve=Array.prototype.slice,Oe="addEventListener",Se="removeEventListener",Ze=Zone.__symbol__(Oe),Ne=Zone.__symbol__(Se),ce="true",ae="false",ke=Zone.__symbol__("");function Ie(e,n){return Zone.current.wrap(e,n)}function Me(e,n,i,o,c){return Zone.current.scheduleMacroTask(e,n,i,o,c)}const A=Zone.__symbol__,Pe="undefined"!=typeof window,Te=Pe?window:void 0,Y=Pe&&Te||"object"==typeof self&&self||global;function Le(e,n){for(let i=e.length-1;i>=0;i--)"function"==typeof e[i]&&(e[i]=Ie(e[i],n+"_"+i));return e}function Fe(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}const Be="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,we=!("nw"in Y)&&void 0!==Y.process&&"[object process]"==={}.toString.call(Y.process),je=!we&&!Be&&!(!Pe||!Te.HTMLElement),Ue=void 0!==Y.process&&"[object process]"==={}.toString.call(Y.process)&&!Be&&!(!Pe||!Te.HTMLElement),Re={},We=function(e){if(!(e=e||Y.event))return;let n=Re[e.type];n||(n=Re[e.type]=A("ON_PROPERTY"+e.type));const i=this||e.target||Y,o=i[n];let c;if(je&&i===Te&&"error"===e.type){const a=e;c=o&&o.call(this,a.message,a.filename,a.lineno,a.colno,a.error),!0===c&&e.preventDefault()}else c=o&&o.apply(this,arguments),null!=c&&!c&&e.preventDefault();return c};function qe(e,n,i){let o=ie(e,n);if(!o&&i&&ie(i,n)&&(o={enumerable:!0,configurable:!0}),!o||!o.configurable)return;const c=A("on"+n+"patched");if(e.hasOwnProperty(c)&&e[c])return;delete o.writable,delete o.value;const a=o.get,T=o.set,d=n.substr(2);let b=Re[d];b||(b=Re[d]=A("ON_PROPERTY"+d)),o.set=function(v){let m=this;!m&&e===Y&&(m=Y),m&&("function"==typeof m[b]&&m.removeEventListener(d,We),T&&T.call(m,null),m[b]=v,"function"==typeof v&&m.addEventListener(d,We,!1))},o.get=function(){let v=this;if(!v&&e===Y&&(v=Y),!v)return null;const m=v[b];if(m)return m;if(a){let L=a.call(this);if(L)return o.set.call(this,L),"function"==typeof v.removeAttribute&&v.removeAttribute(n),L}return null},Ee(e,n,o),e[c]=!0}function Xe(e,n,i){if(n)for(let o=0;o<n.length;o++)qe(e,"on"+n[o],i);else{const o=[];for(const c in e)"on"==c.substr(0,2)&&o.push(c);for(let c=0;c<o.length;c++)qe(e,o[c],i)}}const ne=A("originalInstance");function ve(e){const n=Y[e];if(!n)return;Y[A(e)]=n,Y[e]=function(){const c=Le(arguments,e);switch(c.length){case 0:this[ne]=new n;break;case 1:this[ne]=new n(c[0]);break;case 2:this[ne]=new n(c[0],c[1]);break;case 3:this[ne]=new n(c[0],c[1],c[2]);break;case 4:this[ne]=new n(c[0],c[1],c[2],c[3]);break;default:throw new Error("Arg list too long.")}},ue(Y[e],n);const i=new n(function(){});let o;for(o in i)"XMLHttpRequest"===e&&"responseBlob"===o||function(c){"function"==typeof i[c]?Y[e].prototype[c]=function(){return this[ne][c].apply(this[ne],arguments)}:Ee(Y[e].prototype,c,{set:function(a){"function"==typeof a?(this[ne][c]=Ie(a,e+"."+c),ue(this[ne][c],a)):this[ne][c]=a},get:function(){return this[ne][c]}})}(o);for(o in n)"prototype"!==o&&n.hasOwnProperty(o)&&(Y[e][o]=n[o])}function le(e,n,i){let o=e;for(;o&&!o.hasOwnProperty(n);)o=de(o);!o&&e[n]&&(o=e);const c=A(n);let a=null;if(o&&(!(a=o[c])||!o.hasOwnProperty(c))&&(a=o[c]=o[n],Fe(o&&ie(o,n)))){const d=i(a,c,n);o[n]=function(){return d(this,arguments)},ue(o[n],a)}return a}function lt(e,n,i){let o=null;function c(a){const T=a.data;return T.args[T.cbIdx]=function(){a.invoke.apply(this,arguments)},o.apply(T.target,T.args),a}o=le(e,n,a=>function(T,d){const b=i(T,d);return b.cbIdx>=0&&"function"==typeof d[b.cbIdx]?Me(b.name,d[b.cbIdx],b,c):a.apply(T,d)})}function ue(e,n){e[A("OriginalDelegate")]=n}let ze=!1,Ae=!1;function ft(){if(ze)return Ae;ze=!0;try{const e=Te.navigator.userAgent;(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/"))&&(Ae=!0)}catch(e){}return Ae}Zone.__load_patch("ZoneAwarePromise",(e,n,i)=>{const o=Object.getOwnPropertyDescriptor,c=Object.defineProperty,T=i.symbol,d=[],b=!0===e[T("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],v=T("Promise"),m=T("then");i.onUnhandledError=l=>{if(i.showUncaughtError()){const u=l&&l.rejection;u?console.error("Unhandled Promise rejection:",u instanceof Error?u.message:u,"; Zone:",l.zone.name,"; Task:",l.task&&l.task.source,"; Value:",u,u instanceof Error?u.stack:void 0):console.error(l)}},i.microtaskDrainDone=()=>{for(;d.length;){const l=d.shift();try{l.zone.runGuarded(()=>{throw l.throwOriginal?l.rejection:l})}catch(u){N(u)}}};const Z=T("unhandledPromiseRejectionHandler");function N(l){i.onUnhandledError(l);try{const u=n[Z];"function"==typeof u&&u.call(this,l)}catch(u){}}function B(l){return l&&l.then}function H(l){return l}function J(l){return t.reject(l)}const q=T("state"),R=T("value"),_=T("finally"),K=T("parentPromiseValue"),x=T("parentPromiseState"),j=null,y=!0,G=!1;function I(l,u){return s=>{try{z(l,u,s)}catch(f){z(l,!1,f)}}}const oe=T("currentTaskTrace");function z(l,u,s){const f=function(){let l=!1;return function(s){return function(){l||(l=!0,s.apply(null,arguments))}}}();if(l===s)throw new TypeError("Promise resolved with itself");if(l[q]===j){let g=null;try{("object"==typeof s||"function"==typeof s)&&(g=s&&s.then)}catch(w){return f(()=>{z(l,!1,w)})(),l}if(u!==G&&s instanceof t&&s.hasOwnProperty(q)&&s.hasOwnProperty(R)&&s[q]!==j)re(s),z(l,s[q],s[R]);else if(u!==G&&"function"==typeof g)try{g.call(s,f(I(l,u)),f(I(l,!1)))}catch(w){f(()=>{z(l,!1,w)})()}else{l[q]=u;const w=l[R];if(l[R]=s,l[_]===_&&u===y&&(l[q]=l[x],l[R]=l[K]),u===G&&s instanceof Error){const p=n.currentTask&&n.currentTask.data&&n.currentTask.data.__creationTrace__;p&&c(s,oe,{configurable:!0,enumerable:!1,writable:!0,value:p})}for(let p=0;p<w.length;)ee(l,w[p++],w[p++],w[p++],w[p++]);if(0==w.length&&u==G){l[q]=0;let p=s;try{throw new Error("Uncaught (in promise): "+function a(l){return l&&l.toString===Object.prototype.toString?(l.constructor&&l.constructor.name||"")+": "+JSON.stringify(l):l?l.toString():Object.prototype.toString.call(l)}(s)+(s&&s.stack?"\n"+s.stack:""))}catch(D){p=D}b&&(p.throwOriginal=!0),p.rejection=s,p.promise=l,p.zone=n.current,p.task=n.currentTask,d.push(p),i.scheduleMicroTask()}}}return l}const U=T("rejectionHandledHandler");function re(l){if(0===l[q]){try{const u=n[U];u&&"function"==typeof u&&u.call(this,{rejection:l[R],promise:l})}catch(u){}l[q]=G;for(let u=0;u<d.length;u++)l===d[u].promise&&d.splice(u,1)}}function ee(l,u,s,f,g){re(l);const w=l[q],p=w?"function"==typeof f?f:H:"function"==typeof g?g:J;u.scheduleMicroTask("Promise.then",()=>{try{const D=l[R],O=!!s&&_===s[_];O&&(s[K]=D,s[x]=w);const S=u.run(p,void 0,O&&p!==J&&p!==H?[]:[D]);z(s,!0,S)}catch(D){z(s,!1,D)}},s)}const M=function(){},E=e.AggregateError;class t{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(u){return z(new this(null),y,u)}static reject(u){return z(new this(null),G,u)}static any(u){if(!u||"function"!=typeof u[Symbol.iterator])return Promise.reject(new E([],"All promises were rejected"));const s=[];let f=0;try{for(let p of u)f++,s.push(t.resolve(p))}catch(p){return Promise.reject(new E([],"All promises were rejected"))}if(0===f)return Promise.reject(new E([],"All promises were rejected"));let g=!1;const w=[];return new t((p,D)=>{for(let O=0;O<s.length;O++)s[O].then(S=>{g||(g=!0,p(S))},S=>{w.push(S),f--,0===f&&(g=!0,D(new E(w,"All promises were rejected")))})})}static race(u){let s,f,g=new this((D,O)=>{s=D,f=O});function w(D){s(D)}function p(D){f(D)}for(let D of u)B(D)||(D=this.resolve(D)),D.then(w,p);return g}static all(u){return t.allWithCallback(u)}static allSettled(u){return(this&&this.prototype instanceof t?this:t).allWithCallback(u,{thenCallback:f=>({status:"fulfilled",value:f}),errorCallback:f=>({status:"rejected",reason:f})})}static allWithCallback(u,s){let f,g,w=new this((S,V)=>{f=S,g=V}),p=2,D=0;const O=[];for(let S of u){B(S)||(S=this.resolve(S));const V=D;try{S.then(F=>{O[V]=s?s.thenCallback(F):F,p--,0===p&&f(O)},F=>{s?(O[V]=s.errorCallback(F),p--,0===p&&f(O)):g(F)})}catch(F){g(F)}p++,D++}return p-=2,0===p&&f(O),w}constructor(u){const s=this;if(!(s instanceof t))throw new Error("Must be an instanceof Promise.");s[q]=j,s[R]=[];try{u&&u(I(s,y),I(s,G))}catch(f){z(s,!1,f)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return t}then(u,s){let f=this.constructor[Symbol.species];(!f||"function"!=typeof f)&&(f=this.constructor||t);const g=new f(M),w=n.current;return this[q]==j?this[R].push(w,g,u,s):ee(this,w,g,u,s),g}catch(u){return this.then(null,u)}finally(u){let s=this.constructor[Symbol.species];(!s||"function"!=typeof s)&&(s=t);const f=new s(M);f[_]=_;const g=n.current;return this[q]==j?this[R].push(g,f,u,u):ee(this,g,f,u,u),f}}t.resolve=t.resolve,t.reject=t.reject,t.race=t.race,t.all=t.all;const r=e[v]=e.Promise;e.Promise=t;const k=T("thenPatched");function C(l){const u=l.prototype,s=o(u,"then");if(s&&(!1===s.writable||!s.configurable))return;const f=u.then;u[m]=f,l.prototype.then=function(g,w){return new t((D,O)=>{f.call(this,D,O)}).then(g,w)},l[k]=!0}return i.patchThen=C,r&&(C(r),le(e,"fetch",l=>function $(l){return function(u,s){let f=l.apply(u,s);if(f instanceof t)return f;let g=f.constructor;return g[k]||C(g),f}}(l))),Promise[n.__symbol__("uncaughtPromiseErrors")]=d,t}),Zone.__load_patch("toString",e=>{const n=Function.prototype.toString,i=A("OriginalDelegate"),o=A("Promise"),c=A("Error"),a=function(){if("function"==typeof this){const v=this[i];if(v)return"function"==typeof v?n.call(v):Object.prototype.toString.call(v);if(this===Promise){const m=e[o];if(m)return n.call(m)}if(this===Error){const m=e[c];if(m)return n.call(m)}}return n.call(this)};a[i]=n,Function.prototype.toString=a;const T=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":T.call(this)}});let ye=!1;if("undefined"!=typeof window)try{const e=Object.defineProperty({},"passive",{get:function(){ye=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){ye=!1}const ht={useG:!0},te={},Ye={},$e=new RegExp("^"+ke+"(\\w+)(true|false)$"),Ke=A("propagationStopped");function Je(e,n){const i=(n?n(e):e)+ae,o=(n?n(e):e)+ce,c=ke+i,a=ke+o;te[e]={},te[e][ae]=c,te[e][ce]=a}function dt(e,n,i,o){const c=o&&o.add||Oe,a=o&&o.rm||Se,T=o&&o.listeners||"eventListeners",d=o&&o.rmAll||"removeAllListeners",b=A(c),v="."+c+":",Z=function(R,_,K){if(R.isRemoved)return;const x=R.callback;let X;"object"==typeof x&&x.handleEvent&&(R.callback=y=>x.handleEvent(y),R.originalDelegate=x);try{R.invoke(R,_,[K])}catch(y){X=y}const j=R.options;return j&&"object"==typeof j&&j.once&&_[a].call(_,K.type,R.originalDelegate?R.originalDelegate:R.callback,j),X};function N(R,_,K){if(!(_=_||e.event))return;const x=R||_.target||e,X=x[te[_.type][K?ce:ae]];if(X){const j=[];if(1===X.length){const y=Z(X[0],x,_);y&&j.push(y)}else{const y=X.slice();for(let G=0;G<y.length&&(!_||!0!==_[Ke]);G++){const h=Z(y[G],x,_);h&&j.push(h)}}if(1===j.length)throw j[0];for(let y=0;y<j.length;y++){const G=j[y];n.nativeScheduleMicroTask(()=>{throw G})}}}const B=function(R){return N(this,R,!1)},H=function(R){return N(this,R,!0)};function J(R,_){if(!R)return!1;let K=!0;_&&void 0!==_.useG&&(K=_.useG);const x=_&&_.vh;let X=!0;_&&void 0!==_.chkDup&&(X=_.chkDup);let j=!1;_&&void 0!==_.rt&&(j=_.rt);let y=R;for(;y&&!y.hasOwnProperty(c);)y=de(y);if(!y&&R[c]&&(y=R),!y||y[b])return!1;const G=_&&_.eventNameToString,h={},I=y[b]=y[c],P=y[A(a)]=y[a],Q=y[A(T)]=y[T],oe=y[A(d)]=y[d];let z;function U(s,f){return!ye&&"object"==typeof s&&s?!!s.capture:ye&&f?"boolean"==typeof s?{capture:s,passive:!0}:s?"object"==typeof s&&!1!==s.passive?Object.assign(Object.assign({},s),{passive:!0}):s:{passive:!0}:s}_&&_.prepend&&(z=y[A(_.prepend)]=y[_.prepend]);const t=K?function(s){if(!h.isExisting)return I.call(h.target,h.eventName,h.capture?H:B,h.options)}:function(s){return I.call(h.target,h.eventName,s.invoke,h.options)},r=K?function(s){if(!s.isRemoved){const f=te[s.eventName];let g;f&&(g=f[s.capture?ce:ae]);const w=g&&s.target[g];if(w)for(let p=0;p<w.length;p++)if(w[p]===s){w.splice(p,1),s.isRemoved=!0,0===w.length&&(s.allRemoved=!0,s.target[g]=null);break}}if(s.allRemoved)return P.call(s.target,s.eventName,s.capture?H:B,s.options)}:function(s){return P.call(s.target,s.eventName,s.invoke,s.options)},C=_&&_.diff?_.diff:function(s,f){const g=typeof f;return"function"===g&&s.callback===f||"object"===g&&s.originalDelegate===f},$=Zone[A("UNPATCHED_EVENTS")],l=e[A("PASSIVE_EVENTS")],u=function(s,f,g,w,p=!1,D=!1){return function(){const O=this||e;let S=arguments[0];_&&_.transferEventName&&(S=_.transferEventName(S));let V=arguments[1];if(!V)return s.apply(this,arguments);if(we&&"uncaughtException"===S)return s.apply(this,arguments);let F=!1;if("function"!=typeof V){if(!V.handleEvent)return s.apply(this,arguments);F=!0}if(x&&!x(s,V,O,arguments))return;const fe=ye&&!!l&&-1!==l.indexOf(S),se=U(arguments[2],fe);if($)for(let _e=0;_e<$.length;_e++)if(S===$[_e])return fe?s.call(O,S,V,se):s.apply(this,arguments);const xe=!!se&&("boolean"==typeof se||se.capture),nt=!(!se||"object"!=typeof se)&&se.once,gt=Zone.current;let Ge=te[S];Ge||(Je(S,G),Ge=te[S]);const rt=Ge[xe?ce:ae];let De,pe=O[rt],ot=!1;if(pe){if(ot=!0,X)for(let _e=0;_e<pe.length;_e++)if(C(pe[_e],V))return}else pe=O[rt]=[];const st=O.constructor.name,it=Ye[st];it&&(De=it[S]),De||(De=st+f+(G?G(S):S)),h.options=se,nt&&(h.options.once=!1),h.target=O,h.capture=xe,h.eventName=S,h.isExisting=ot;const be=K?ht:void 0;be&&(be.taskData=h);const he=gt.scheduleEventTask(De,V,be,g,w);return h.target=null,be&&(be.taskData=null),nt&&(se.once=!0),!ye&&"boolean"==typeof he.options||(he.options=se),he.target=O,he.capture=xe,he.eventName=S,F&&(he.originalDelegate=V),D?pe.unshift(he):pe.push(he),p?O:void 0}};return y[c]=u(I,v,t,r,j),z&&(y.prependListener=u(z,".prependListener:",function(s){return z.call(h.target,h.eventName,s.invoke,h.options)},r,j,!0)),y[a]=function(){const s=this||e;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=arguments[2],w=!!g&&("boolean"==typeof g||g.capture),p=arguments[1];if(!p)return P.apply(this,arguments);if(x&&!x(P,p,s,arguments))return;const D=te[f];let O;D&&(O=D[w?ce:ae]);const S=O&&s[O];if(S)for(let V=0;V<S.length;V++){const F=S[V];if(C(F,p))return S.splice(V,1),F.isRemoved=!0,0===S.length&&(F.allRemoved=!0,s[O]=null,"string"==typeof f)&&(s[ke+"ON_PROPERTY"+f]=null),F.zone.cancelTask(F),j?s:void 0}return P.apply(this,arguments)},y[T]=function(){const s=this||e;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=[],w=Qe(s,G?G(f):f);for(let p=0;p<w.length;p++){const D=w[p];g.push(D.originalDelegate?D.originalDelegate:D.callback)}return g},y[d]=function(){const s=this||e;let f=arguments[0];if(f){_&&_.transferEventName&&(f=_.transferEventName(f));const g=te[f];if(g){const D=s[g[ae]],O=s[g[ce]];if(D){const S=D.slice();for(let V=0;V<S.length;V++){const F=S[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}if(O){const S=O.slice();for(let V=0;V<S.length;V++){const F=S[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}}}else{const g=Object.keys(s);for(let w=0;w<g.length;w++){const D=$e.exec(g[w]);let O=D&&D[1];O&&"removeListener"!==O&&this[d].call(this,O)}this[d].call(this,"removeListener")}if(j)return this},ue(y[c],I),ue(y[a],P),oe&&ue(y[d],oe),Q&&ue(y[T],Q),!0}let q=[];for(let R=0;R<i.length;R++)q[R]=J(i[R],o);return q}function Qe(e,n){if(!n){const a=[];for(let T in e){const d=$e.exec(T);let b=d&&d[1];if(b&&(!n||b===n)){const v=e[T];if(v)for(let m=0;m<v.length;m++)a.push(v[m])}}return a}let i=te[n];i||(Je(n),i=te[n]);const o=e[i[ae]],c=e[i[ce]];return o?c?o.concat(c):o.slice():c?c.slice():[]}function _t(e,n){const i=e.Event;i&&i.prototype&&n.patchMethod(i.prototype,"stopImmediatePropagation",o=>function(c,a){c[Ke]=!0,o&&o.apply(c,a)})}function Et(e,n,i,o,c){const a=Zone.__symbol__(o);if(n[a])return;const T=n[a]=n[o];n[o]=function(d,b,v){return b&&b.prototype&&c.forEach(function(m){const L=`${i}.${o}::`+m,Z=b.prototype;if(Z.hasOwnProperty(m)){const N=e.ObjectGetOwnPropertyDescriptor(Z,m);N&&N.value?(N.value=e.wrapWithCurrentZone(N.value,L),e._redefineProperty(b.prototype,m,N)):Z[m]&&(Z[m]=e.wrapWithCurrentZone(Z[m],L))}else Z[m]&&(Z[m]=e.wrapWithCurrentZone(Z[m],L))}),T.call(n,d,b,v)},e.attachOriginToPatched(n[o],T)}function et(e,n,i){if(!i||0===i.length)return n;const o=i.filter(a=>a.target===e);if(!o||0===o.length)return n;const c=o[0].ignoreProperties;return n.filter(a=>-1===c.indexOf(a))}function tt(e,n,i,o){e&&Xe(e,et(e,n,i),o)}function He(e){return Object.getOwnPropertyNames(e).filter(n=>n.startsWith("on")&&n.length>2).map(n=>n.substring(2))}Zone.__load_patch("util",(e,n,i)=>{const o=He(e);i.patchOnProperties=Xe,i.patchMethod=le,i.bindArguments=Le,i.patchMacroTask=lt;const c=n.__symbol__("BLACK_LISTED_EVENTS"),a=n.__symbol__("UNPATCHED_EVENTS");e[a]&&(e[c]=e[a]),e[c]&&(n[c]=n[a]=e[c]),i.patchEventPrototype=_t,i.patchEventTarget=dt,i.isIEOrEdge=ft,i.ObjectDefineProperty=Ee,i.ObjectGetOwnPropertyDescriptor=ie,i.ObjectCreate=ge,i.ArraySlice=Ve,i.patchClass=ve,i.wrapWithCurrentZone=Ie,i.filterProperties=et,i.attachOriginToPatched=ue,i._redefineProperty=Object.defineProperty,i.patchCallbacks=Et,i.getGlobalObjects=()=>({globalSources:Ye,zoneSymbolEventNames:te,eventNames:o,isBrowser:je,isMix:Ue,isNode:we,TRUE_STR:ce,FALSE_STR:ae,ZONE_SYMBOL_PREFIX:ke,ADD_EVENT_LISTENER_STR:Oe,REMOVE_EVENT_LISTENER_STR:Se})});const Ce=A("zoneTask");function me(e,n,i,o){let c=null,a=null;i+=o;const T={};function d(v){const m=v.data;return m.args[0]=function(){return v.invoke.apply(this,arguments)},m.handleId=c.apply(e,m.args),v}function b(v){return a.call(e,v.data.handleId)}c=le(e,n+=o,v=>function(m,L){if("function"==typeof L[0]){const Z={isPeriodic:"Interval"===o,delay:"Timeout"===o||"Interval"===o?L[1]||0:void 0,args:L},N=L[0];L[0]=function(){try{return N.apply(this,arguments)}finally{Z.isPeriodic||("number"==typeof Z.handleId?delete T[Z.handleId]:Z.handleId&&(Z.handleId[Ce]=null))}};const B=Me(n,L[0],Z,d,b);if(!B)return B;const H=B.data.handleId;return"number"==typeof H?T[H]=B:H&&(H[Ce]=B),H&&H.ref&&H.unref&&"function"==typeof H.ref&&"function"==typeof H.unref&&(B.ref=H.ref.bind(H),B.unref=H.unref.bind(H)),"number"==typeof H||H?H:B}return v.apply(e,L)}),a=le(e,i,v=>function(m,L){const Z=L[0];let N;"number"==typeof Z?N=T[Z]:(N=Z&&Z[Ce],N||(N=Z)),N&&"string"==typeof N.type?"notScheduled"!==N.state&&(N.cancelFn&&N.data.isPeriodic||0===N.runCount)&&("number"==typeof Z?delete T[Z]:Z&&(Z[Ce]=null),N.zone.cancelTask(N)):v.apply(e,L)})}Zone.__load_patch("legacy",e=>{const n=e[Zone.__symbol__("legacyPatch")];n&&n()}),Zone.__load_patch("queueMicrotask",(e,n,i)=>{i.patchMethod(e,"queueMicrotask",o=>function(c,a){n.current.scheduleMicroTask("queueMicrotask",a[0])})}),Zone.__load_patch("timers",e=>{const n="set",i="clear";me(e,n,i,"Timeout"),me(e,n,i,"Interval"),me(e,n,i,"Immediate")}),Zone.__load_patch("requestAnimationFrame",e=>{me(e,"request","cancel","AnimationFrame"),me(e,"mozRequest","mozCancel","AnimationFrame"),me(e,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(e,n)=>{const i=["alert","prompt","confirm"];for(let o=0;o<i.length;o++)le(e,i[o],(a,T,d)=>function(b,v){return n.current.run(a,e,v,d)})}),Zone.__load_patch("EventTarget",(e,n,i)=>{(function pt(e,n){n.patchEventPrototype(e,n)})(e,i),function mt(e,n){if(Zone[n.symbol("patchEventTarget")])return;const{eventNames:i,zoneSymbolEventNames:o,TRUE_STR:c,FALSE_STR:a,ZONE_SYMBOL_PREFIX:T}=n.getGlobalObjects();for(let b=0;b<i.length;b++){const v=i[b],Z=T+(v+a),N=T+(v+c);o[v]={},o[v][a]=Z,o[v][c]=N}const d=e.EventTarget;d&&d.prototype&&n.patchEventTarget(e,n,[d&&d.prototype])}(e,i);const o=e.XMLHttpRequestEventTarget;o&&o.prototype&&i.patchEventTarget(e,i,[o.prototype])}),Zone.__load_patch("MutationObserver",(e,n,i)=>{ve("MutationObserver"),ve("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(e,n,i)=>{ve("IntersectionObserver")}),Zone.__load_patch("FileReader",(e,n,i)=>{ve("FileReader")}),Zone.__load_patch("on_property",(e,n,i)=>{!function Tt(e,n){if(we&&!Ue||Zone[e.symbol("patchEvents")])return;const i=n.__Zone_ignore_on_properties;let o=[];if(je){const c=window;o=o.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const a=function ut(){try{const e=Te.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch(e){}return!1}()?[{target:c,ignoreProperties:["error"]}]:[];tt(c,He(c),i&&i.concat(a),de(c))}o=o.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let c=0;c<o.length;c++){const a=n[o[c]];a&&a.prototype&&tt(a.prototype,He(a.prototype),i)}}(i,e)}),Zone.__load_patch("customElements",(e,n,i)=>{!function yt(e,n){const{isBrowser:i,isMix:o}=n.getGlobalObjects();(i||o)&&e.customElements&&"customElements"in e&&n.patchCallbacks(n,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,i)}),Zone.__load_patch("XHR",(e,n)=>{!function b(v){const m=v.XMLHttpRequest;if(!m)return;const L=m.prototype;let N=L[Ze],B=L[Ne];if(!N){const h=v.XMLHttpRequestEventTarget;if(h){const I=h.prototype;N=I[Ze],B=I[Ne]}}const H="readystatechange",J="scheduled";function q(h){const I=h.data,P=I.target;P[a]=!1,P[d]=!1;const Q=P[c];N||(N=P[Ze],B=P[Ne]),Q&&B.call(P,H,Q);const oe=P[c]=()=>{if(P.readyState===P.DONE)if(!I.aborted&&P[a]&&h.state===J){const U=P[n.__symbol__("loadfalse")];if(0!==P.status&&U&&U.length>0){const re=h.invoke;h.invoke=function(){const ee=P[n.__symbol__("loadfalse")];for(let W=0;W<ee.length;W++)ee[W]===h&&ee.splice(W,1);!I.aborted&&h.state===J&&re.call(h)},U.push(h)}else h.invoke()}else!I.aborted&&!1===P[a]&&(P[d]=!0)};return N.call(P,H,oe),P[i]||(P[i]=h),y.apply(P,I.args),P[a]=!0,h}function R(){}function _(h){const I=h.data;return I.aborted=!0,G.apply(I.target,I.args)}const K=le(L,"open",()=>function(h,I){return h[o]=0==I[2],h[T]=I[1],K.apply(h,I)}),X=A("fetchTaskAborting"),j=A("fetchTaskScheduling"),y=le(L,"send",()=>function(h,I){if(!0===n.current[j]||h[o])return y.apply(h,I);{const P={target:h,url:h[T],isPeriodic:!1,args:I,aborted:!1},Q=Me("XMLHttpRequest.send",R,P,q,_);h&&!0===h[d]&&!P.aborted&&Q.state===J&&Q.invoke()}}),G=le(L,"abort",()=>function(h,I){const P=function Z(h){return h[i]}(h);if(P&&"string"==typeof P.type){if(null==P.cancelFn||P.data&&P.data.aborted)return;P.zone.cancelTask(P)}else if(!0===n.current[X])return G.apply(h,I)})}(e);const i=A("xhrTask"),o=A("xhrSync"),c=A("xhrListener"),a=A("xhrScheduled"),T=A("xhrURL"),d=A("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&function at(e,n){const i=e.constructor.name;for(let o=0;o<n.length;o++){const c=n[o],a=e[c];if(a){if(!Fe(ie(e,c)))continue;e[c]=(d=>{const b=function(){return d.apply(this,Le(arguments,i+"."+c))};return ue(b,d),b})(a)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(e,n)=>{function i(o){return function(c){Qe(e,o).forEach(T=>{const d=e.PromiseRejectionEvent;if(d){const b=new d(o,{promise:c.promise,reason:c.rejection});T.invoke(b)}})}}e.PromiseRejectionEvent&&(n[A("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),n[A("rejectionHandledHandler")]=i("rejectionhandled"))})}},ie=>{ie(ie.s=435)}]);
(()=>{"use strict";var e,_={},b={};function n(e){var a=b[e];if(void 0!==a)return a.exports;var r=b[e]={exports:{}};return _[e](r,r.exports,n),r.exports}n.m=_,e=[],n.O=(a,r,u,l)=>{if(!r){var c=1/0;for(f=0;f<e.length;f++){for(var[r,u,l]=e[f],o=!0,t=0;t<r.length;t++)(!1&l||c>=l)&&Object.keys(n.O).every(i=>n.O[i](r[t]))?r.splice(t--,1):(o=!1,l<c&&(c=l));if(o){e.splice(f--,1);var s=u();void 0!==s&&(a=s)}}return a}l=l||0;for(var f=e.length;f>0&&e[f-1][2]>l;f--)e[f]=e[f-1];e[f]=[r,u,l]},n.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return n.d(a,{a}),a},n.d=(e,a)=>{for(var r in a)n.o(a,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},n.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={666:0};n.O.j=u=>0===e[u];var a=(u,l)=>{var t,s,[f,c,o]=l,v=0;if(f.some(h=>0!==e[h])){for(t in c)n.o(c,t)&&(n.m[t]=c[t]);if(o)var d=o(n)}for(u&&u(l);v<f.length;v++)n.o(e,s=f[v])&&e[s]&&e[s][0](),e[s]=0;return n.O(d)},r=self.webpackChunkelements=self.webpackChunkelements||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))})()})();
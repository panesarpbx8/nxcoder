"use strict";(self.webpackChunknxcoder=self.webpackChunknxcoder||[]).push([[179],{324:()=>{function be(t){return"function"==typeof t}function Mc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const xc=Mc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function As(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class kn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(be(r))try{r()}catch(s){e=s instanceof xc?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{yb(s)}catch(o){e=null!=e?e:[],o instanceof xc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new xc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)yb(e);else{if(e instanceof kn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&As(n,e)}remove(e){const{_finalizers:n}=this;n&&As(n,e),e instanceof kn&&e._removeParent(this)}}kn.EMPTY=(()=>{const t=new kn;return t.closed=!0,t})();const gb=kn.EMPTY;function mb(t){return t instanceof kn||t&&"closed"in t&&be(t.remove)&&be(t.add)&&be(t.unsubscribe)}function yb(t){be(t)?t():t.unsubscribe()}const Di={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Nc={setTimeout(t,e,...n){const{delegate:r}=Nc;return(null==r?void 0:r.setTimeout)?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Nc;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function _b(t){Nc.setTimeout(()=>{const{onUnhandledError:e}=Di;if(!e)throw t;e(t)})}function vb(){}const iL=hf("C",void 0,void 0);function hf(t,e,n){return{kind:t,value:e,error:n}}let bi=null;function kc(t){if(Di.useDeprecatedSynchronousErrorHandling){const e=!bi;if(e&&(bi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=bi;if(bi=null,n)throw r}}else t()}class ff extends kn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,mb(e)&&e.add(this)):this.destination=dL}static create(e,n,r){return new Rc(e,n,r)}next(e){this.isStopped?gf(function oL(t){return hf("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?gf(function sL(t){return hf("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?gf(iL,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const uL=Function.prototype.bind;function pf(t,e){return uL.call(t,e)}class cL{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Pc(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Pc(r)}else Pc(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Pc(n)}}}class Rc extends ff{constructor(e,n,r){let i;if(super(),be(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let s;this&&Di.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&pf(e.next,s),error:e.error&&pf(e.error,s),complete:e.complete&&pf(e.complete,s)}):i=e}this.destination=new cL(i)}}function Pc(t){Di.useDeprecatedSynchronousErrorHandling?function aL(t){Di.useDeprecatedSynchronousErrorHandling&&bi&&(bi.errorThrown=!0,bi.error=t)}(t):_b(t)}function gf(t,e){const{onStoppedNotification:n}=Di;n&&Nc.setTimeout(()=>n(t,e))}const dL={closed:!0,next:vb,error:function lL(t){throw t},complete:vb},mf="function"==typeof Symbol&&Symbol.observable||"@@observable";function yf(t){return t}let Qe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function fL(t){return t&&t instanceof ff||function hL(t){return t&&be(t.next)&&be(t.error)&&be(t.complete)}(t)&&mb(t)}(n)?n:new Rc(n,r,i);return kc(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Eb(r))((i,s)=>{const o=new Rc({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[mf](){return this}pipe(...n){return function wb(t){return 0===t.length?yf:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=Eb(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Eb(t){var e;return null!==(e=null!=t?t:Di.Promise)&&void 0!==e?e:Promise}const pL=Mc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Oc=(()=>{class t extends Qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Ib(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new pL}next(n){kc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){kc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){kc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?gb:(this.currentObservers=null,s.push(n),new kn(()=>{this.currentObservers=null,As(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Qe;return n.source=this,n}}return t.create=(e,n)=>new Ib(e,n),t})();class Ib extends Oc{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:gb}}function Hr(t){return e=>{if(function gL(t){return be(null==t?void 0:t.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _r(t,e,n,r,i){return new mL(t,e,n,r,i)}class mL extends ff{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ss(t,e){return Hr((n,r)=>{let i=0;n.subscribe(_r(r,s=>{r.next(t.call(e,s,i++))}))})}function vf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ci(t){return this instanceof Ci?(this.v=t,this):new Ci(t)}function vL(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ci?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function wL(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Cb(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const Tb=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Ab(t){return be(null==t?void 0:t.then)}function Sb(t){return be(t[mf])}function Mb(t){return Symbol.asyncIterator&&be(null==t?void 0:t[Symbol.asyncIterator])}function xb(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Nb=function IL(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function kb(t){return be(null==t?void 0:t[Nb])}function Rb(t){return vL(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ci(n.read());if(i)return yield Ci(void 0);yield yield Ci(r)}}finally{n.releaseLock()}})}function Pb(t){return be(null==t?void 0:t.getReader)}function Gr(t){if(t instanceof Qe)return t;if(null!=t){if(Sb(t))return function DL(t){return new Qe(e=>{const n=t[mf]();if(be(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Tb(t))return function bL(t){return new Qe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Ab(t))return function CL(t){return new Qe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,_b)})}(t);if(Mb(t))return Ob(t);if(kb(t))return function TL(t){return new Qe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Pb(t))return function AL(t){return Ob(Rb(t))}(t)}throw xb(t)}function Ob(t){return new Qe(e=>{(function SL(t,e){var n,r,i,s;return function yL(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=wL(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function qr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Fb(t,e,n=1/0){return be(e)?Fb((r,i)=>Ss((s,o)=>e(r,s,i,o))(Gr(t(r,i))),n):("number"==typeof e&&(n=e),Hr((r,i)=>function ML(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let _=!1;Gr(n(m,l++)).subscribe(_r(e,E=>{null==i||i(E),s?f(E):e.next(E)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){const E=u.shift();o?qr(e,o,()=>p(E)):p(E)}h()}catch(E){e.error(E)}}))};return t.subscribe(_r(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}const wf=new Qe(t=>t.complete());function Ef(t){return t[t.length-1]}function Lb(t){return function kL(t){return t&&be(t.schedule)}(Ef(t))?t.pop():void 0}function Fc(t,e=0){return Hr((n,r)=>{n.subscribe(_r(r,i=>qr(r,t,()=>r.next(i),e),()=>qr(r,t,()=>r.complete(),e),i=>qr(r,t,()=>r.error(i),e)))})}function Lc(t,e=0){return Hr((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Vb(t,e){if(!t)throw new Error("Iterable cannot be null");return new Qe(n=>{qr(n,e,()=>{const r=t[Symbol.asyncIterator]();qr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Vc(t,e){return e?function UL(t,e){if(null!=t){if(Sb(t))return function OL(t,e){return Gr(t).pipe(Lc(e),Fc(e))}(t,e);if(Tb(t))return function LL(t,e){return new Qe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Ab(t))return function FL(t,e){return Gr(t).pipe(Lc(e),Fc(e))}(t,e);if(Mb(t))return Vb(t,e);if(kb(t))return function VL(t,e){return new Qe(n=>{let r;return qr(n,e,()=>{r=t[Nb](),qr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>be(null==r?void 0:r.return)&&r.return()})}(t,e);if(Pb(t))return function BL(t,e){return Vb(Rb(t),e)}(t,e)}throw xb(t)}(t,e):Gr(t)}function Bb(...t){const e=Lb(t),n=function PL(t,e){return"number"==typeof Ef(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Gr(r[0]):function xL(t=1/0){return Fb(yf,t)}(n)(Vc(r,e)):wf}function If(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(function jL(t){return t<=0?()=>wf:Hr((e,n)=>{let r=0;e.subscribe(_r(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}(1)).subscribe(()=>t())}function fe(t){for(let e in t)if(t[e]===fe)return e;throw Error("Could not find renamed property on target object.")}function Df(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function le(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(le).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function bf(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const HL=fe({__forward_ref__:fe});function ge(t){return t.__forward_ref__=ge,t.toString=function(){return le(this())},t}function z(t){return Ub(t)?t():t}function Ub(t){return"function"==typeof t&&t.hasOwnProperty(HL)&&t.__forward_ref__===ge}class ee extends Error{constructor(e,n){super(function Cf(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function $(t){return"string"==typeof t?t:null==t?"":String(t)}function Vt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$(t)}function Bc(t,e){const n=e?` in ${e}`:"";throw new ee(-201,`No provider for ${Vt(t)} found${n}`)}function un(t,e){null==t&&function ve(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function me(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Tf(t){return jb(t,Uc)||jb(t,Hb)}function jb(t,e){return t.hasOwnProperty(e)?t[e]:null}function $b(t){return t&&(t.hasOwnProperty(Af)||t.hasOwnProperty(QL))?t[Af]:null}const Uc=fe({\u0275prov:fe}),Af=fe({\u0275inj:fe}),Hb=fe({ngInjectableDef:fe}),QL=fe({ngInjectorDef:fe});var q=(()=>((q=q||{})[q.Default=0]="Default",q[q.Host=1]="Host",q[q.Self=2]="Self",q[q.SkipSelf=4]="SkipSelf",q[q.Optional=8]="Optional",q))();let Sf;function Wr(t){const e=Sf;return Sf=t,e}function Gb(t,e,n){const r=Tf(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&q.Optional?null:void 0!==e?e:void Bc(le(t),"Injector")}function zr(t){return{toString:t}.toString()}var Rn=(()=>((Rn=Rn||{})[Rn.OnPush=0]="OnPush",Rn[Rn.Default=1]="Default",Rn))(),Qn=(()=>{return(t=Qn||(Qn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Qn;var t})();const XL="undefined"!=typeof globalThis&&globalThis,ZL="undefined"!=typeof window&&window,eV="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,he=XL||"undefined"!=typeof global&&global||ZL||eV,Ms={},pe=[],jc=fe({\u0275cmp:fe}),Mf=fe({\u0275dir:fe}),xf=fe({\u0275pipe:fe}),qb=fe({\u0275mod:fe}),wr=fe({\u0275fac:fe}),ga=fe({__NG_ELEMENT_ID__:fe});let tV=0;function Jn(t){return zr(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Rn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||pe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Qn.Emulated,id:"c",styles:t.styles||pe,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=tV++,r.inputs=Yb(t.inputs,n),r.outputs=Yb(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Wb):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(zb):null,r})}function Wb(t){return Tt(t)||function Kr(t){return t[Mf]||null}(t)}function zb(t){return function Ti(t){return t[xf]||null}(t)}const Kb={};function Pn(t){return zr(()=>{const e={type:t.type,bootstrap:t.bootstrap||pe,declarations:t.declarations||pe,imports:t.imports||pe,exports:t.exports||pe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Kb[t.id]=t.type),e})}function Yb(t,e){if(null==t)return Ms;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const H=Jn;function Zt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Tt(t){return t[jc]||null}function wn(t,e){const n=t[qb]||null;if(!n&&!0===e)throw new Error(`Type ${le(t)} does not have '\u0275mod' property.`);return n}const K=11;function Xn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Fn(t){return Array.isArray(t)&&!0===t[1]}function Rf(t){return 0!=(8&t.flags)}function qc(t){return 2==(2&t.flags)}function Wc(t){return 1==(1&t.flags)}function Ln(t){return null!==t.template}function aV(t){return 0!=(512&t[2])}function xi(t,e){return t.hasOwnProperty(wr)?t[wr]:null}class Jb{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Er(){return Xb}function Xb(t){return t.type.prototype.ngOnChanges&&(t.setInput=dV),lV}function lV(){const t=e0(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Ms)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function dV(t,e,n,r){const i=e0(t)||function hV(t,e){return t[Zb]=e}(t,{previous:Ms,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Jb(u&&u.currentValue,e,o===Ms),t[r]=e}Er.ngInherit=!0;const Zb="__ngSimpleChanges__";function e0(t){return t[Zb]||null}let Vf;function xe(t){return!!t.listen}const t0={createRenderer:(t,e)=>function Bf(){return void 0!==Vf?Vf:"undefined"!=typeof document?document:void 0}()};function je(t){for(;Array.isArray(t);)t=t[0];return t}function zc(t,e){return je(e[t])}function Dn(t,e){return je(e[t.index])}function Uf(t,e){return t.data[e]}function ln(t,e){const n=e[t];return Xn(n)?n:n[0]}function jf(t){return 128==(128&t[2])}function Yr(t,e){return null==e?null:t[e]}function r0(t){t[18]=0}function $f(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const U={lFrame:h0(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function s0(){return U.bindingsEnabled}function I(){return U.lFrame.lView}function te(){return U.lFrame.tView}function Hf(t){return U.lFrame.contextLView=t,t[8]}function Je(){let t=o0();for(;null!==t&&64===t.type;)t=t.parent;return t}function o0(){return U.lFrame.currentTNode}function Zn(t,e){const n=U.lFrame;n.currentTNode=t,n.isParent=e}function Gf(){return U.lFrame.isParent}function Kc(){return U.isInCheckNoChangesMode}function Yc(t){U.isInCheckNoChangesMode=t}function Os(){return U.lFrame.bindingIndex++}function MV(t,e){const n=U.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wf(e)}function Wf(t){U.lFrame.currentDirectiveIndex=t}function Kf(t){U.lFrame.currentQueryIndex=t}function NV(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function l0(t,e,n){if(n&q.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&q.Host||(i=NV(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=U.lFrame=d0();return r.currentTNode=e,r.lView=t,!0}function Qc(t){const e=d0(),n=t[1];U.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function d0(){const t=U.lFrame,e=null===t?null:t.child;return null===e?h0(t):e}function h0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function f0(){const t=U.lFrame;return U.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const p0=f0;function Jc(){const t=f0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ut(){return U.lFrame.selectedIndex}function Qr(t){U.lFrame.selectedIndex=t}function Xc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Zc(t,e,n){y0(t,e,3,n)}function el(t,e,n,r){(3&t[2])===n&&y0(t,e,n,r)}function Yf(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function y0(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(VV(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function VV(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class wa{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function tl(t,e,n){const r=xe(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Jf(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function _0(t){return 3===t||4===t||6===t}function Jf(t){return 64===t.charCodeAt(0)}function nl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||v0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function v0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function w0(t){return-1!==t}function Fs(t){return 32767&t}function Ls(t,e){let n=function HV(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Xf=!0;function rl(t){const e=Xf;return Xf=t,e}let GV=0;function Ia(t,e){const n=ep(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Zf(r.data,t),Zf(e,null),Zf(r.blueprint,null));const i=il(t,e),s=t.injectorIndex;if(w0(i)){const o=Fs(i),a=Ls(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Zf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ep(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function il(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function sl(t,e,n){!function qV(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ga)&&(r=n[ga]),null==r&&(r=n[ga]=GV++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function D0(t,e,n){if(n&q.Optional)return t;Bc(e,"NodeInjector")}function b0(t,e,n,r){if(n&q.Optional&&void 0===r&&(r=null),0==(n&(q.Self|q.Host))){const i=t[9],s=Wr(void 0);try{return i?i.get(e,r,n&q.Optional):Gb(e,r,n&q.Optional)}finally{Wr(s)}}return D0(r,e,n)}function C0(t,e,n,r=q.Default,i){if(null!==t){const s=function YV(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ga)?t[ga]:void 0;return"number"==typeof e?e>=0?255&e:zV:e}(n);if("function"==typeof s){if(!l0(e,t,r))return r&q.Host?D0(i,n,r):b0(e,n,r,i);try{const o=s(r);if(null!=o||r&q.Optional)return o;Bc(n)}finally{p0()}}else if("number"==typeof s){let o=null,a=ep(t,e),u=-1,c=r&q.Host?e[16][6]:null;for((-1===a||r&q.SkipSelf)&&(u=-1===a?il(t,e):e[a+8],-1!==u&&S0(r,!1)?(o=e[1],a=Fs(u),e=Ls(u,e)):a=-1);-1!==a;){const l=e[1];if(A0(s,a,l.data)){const d=KV(a,e,n,o,r,c);if(d!==T0)return d}u=e[a+8],-1!==u&&S0(r,e[1].data[a+8]===c)&&A0(s,a,e)?(o=l,a=Fs(u),e=Ls(u,e)):a=-1}}}return b0(e,n,r,i)}const T0={};function zV(){return new Vs(Je(),I())}function KV(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function ol(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Ln(f)&&f.type===n)return u}return null}(a,o,n,null==r?qc(a)&&Xf:r!=o&&0!=(3&a.type),i&q.Host&&s===a);return null!==l?Da(e,o,l,a):T0}function Da(t,e,n,r){let i=t[n];const s=e.data;if(function BV(t){return t instanceof wa}(i)){const o=i;o.resolving&&function GL(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ee(-200,`Circular dependency in DI detected for ${t}${n}`)}(Vt(s[n]));const a=rl(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Wr(o.injectImpl):null;l0(t,r,q.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function LV(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Xb(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Wr(u),rl(a),o.resolving=!1,p0()}}return i}function A0(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function S0(t,e){return!(t&q.Self||t&q.Host&&e)}class Vs{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return C0(this._tNode,this._lView,e,r,n)}}function tp(t){return Ub(t)?()=>{const e=tp(z(t));return e&&e()}:xi(t)}const Us="__parameters__";function $s(t,e,n){return zr(()=>{const r=function rp(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Us)?u[Us]:Object.defineProperty(u,Us,{value:[]})[Us];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class X{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=me({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function er(t,e){t.forEach(n=>Array.isArray(n)?er(n,e):e(n))}function x0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function al(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dn(t,e,n){let r=Hs(t,e);return r>=0?t[1|r]=n:(r=~r,function ZV(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function sp(t,e){const n=Hs(t,e);if(n>=0)return t[1|n]}function Hs(t,e){return function R0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Aa={},ap="__NG_DI_FLAG__",cl="ngTempTokenPath",o2=/\n/gm,O0="__source",u2=fe({provide:String,useValue:fe});let Sa;function F0(t){const e=Sa;return Sa=t,e}function c2(t,e=q.Default){if(void 0===Sa)throw new ee(203,"");return null===Sa?Gb(t,void 0,e):Sa.get(t,e&q.Optional?null:void 0,e)}function oe(t,e=q.Default){return(function JL(){return Sf}()||c2)(z(t),e)}const l2=oe;function up(t){const e=[];for(let n=0;n<t.length;n++){const r=z(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ee(900,"");let i,s=q.Default;for(let o=0;o<r.length;o++){const a=r[o],u=d2(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(oe(i,s))}else e.push(oe(r))}return e}function Ma(t,e){return t[ap]=e,t.prototype[ap]=e,t}function d2(t){return t[ap]}const jt=Ma($s("Optional"),8);class q0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Xr(t){return t instanceof q0?t.changingThisBreaksApplicationSecurity:t}const R2=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,P2=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var $e=(()=>(($e=$e||{})[$e.NONE=0]="NONE",$e[$e.HTML=1]="HTML",$e[$e.STYLE=2]="STYLE",$e[$e.SCRIPT=3]="SCRIPT",$e[$e.URL=4]="URL",$e[$e.RESOURCE_URL=5]="RESOURCE_URL",$e))();function yp(t){const e=function Ra(){const t=I();return t&&t[12]}();return e?e.sanitize($e.URL,t)||"":function Na(t,e){const n=function M2(t){return t instanceof q0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?Xr(t):function pl(t){return(t=String(t)).match(R2)||t.match(P2)?t:"unsafe:"+t}($(t))}const tC="__ngContext__";function Mt(t,e){t[tC]=e}function vp(t){const e=function Pa(t){return t[tC]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ep(t){return t.ngOriginalError}function rB(t,...e){t.error(...e)}class Oa{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function nB(t){return t&&t.ngErrorLogger||rB}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ep(e);for(;n&&Ep(n);)n=Ep(n);return n||null}}const fB=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(he))();function nr(t){return t instanceof Function?t():t}var hn=(()=>((hn=hn||{})[hn.Important=1]="Important",hn[hn.DashCase=2]="DashCase",hn))();function Dp(t,e){return undefined(t,e)}function Fa(t){const e=t[3];return Fn(e)?e[3]:e}function bp(t){return lC(t[13])}function Cp(t){return lC(t[4])}function lC(t){for(;null!==t&&!Fn(t);)t=t[4];return t}function zs(t,e,n,r,i){if(null!=r){let s,o=!1;Fn(r)?s=r:Xn(r)&&(o=!0,r=r[0]);const a=je(r);0===t&&null!==n?null==i?mC(e,n,a):Ni(e,n,a,i||null,!0):1===t&&null!==n?Ni(e,n,a,i||null,!0):2===t?function DC(t,e,n){const r=ml(t,e);r&&function AB(t,e,n,r){xe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function xB(t,e,n,r,i){const s=n[7];s!==je(n)&&zs(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];La(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Ap(t,e,n){if(xe(t))return t.createElement(e,n);{const r=null!==n?function mV(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function hC(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,$f(i,-1)),n.splice(r,1)}function Sp(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&hC(i,r),e>0&&(t[n-1][4]=r[4]);const s=al(t,10+e);!function vB(t,e){La(t,e,e[K],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function fC(t,e){if(!(256&e[2])){const n=e[K];xe(n)&&n.destroyNode&&La(t,e,n,3,null,null),function IB(t){let e=t[13];if(!e)return Mp(t[1],t);for(;e;){let n=null;if(Xn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Xn(e)&&Mp(e[1],e),e=e[3];null===e&&(e=t),Xn(e)&&Mp(e[1],e),n=e&&e[4]}e=n}}(e)}}function Mp(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function TB(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof wa)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function CB(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):je(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&xe(e[K])&&e[K].destroy();const n=e[17];if(null!==n&&Fn(e[3])){n!==e[3]&&hC(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function pC(t,e,n){return function gC(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Qn.None||i===Qn.Emulated)return null}return Dn(r,n)}(t,e.parent,n)}function Ni(t,e,n,r,i){xe(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function mC(t,e,n){xe(t)?t.appendChild(e,n):e.appendChild(n)}function yC(t,e,n,r,i){null!==r?Ni(t,e,n,r,i):mC(t,e,n)}function ml(t,e){return xe(t)?t.parentNode(e):e.parentNode}let wC=function vC(t,e,n){return 40&t.type?Dn(t,n):null};function yl(t,e,n,r){const i=pC(t,r,e),s=e[K],a=function _C(t,e,n){return wC(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)yC(s,i,n[u],a,!1);else yC(s,i,n,a,!1)}function _l(t,e){if(null!==e){const n=e.type;if(3&n)return Dn(e,t);if(4&n)return Np(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return _l(t,r);{const i=t[e.index];return Fn(i)?Np(-1,i):je(i)}}if(32&n)return Dp(e,t)()||je(t[e.index]);{const r=IC(t,e);return null!==r?Array.isArray(r)?r[0]:_l(Fa(t[16]),r):_l(t,e.next)}}return null}function IC(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Np(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return _l(r,i)}return e[7]}function kp(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Mt(je(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)kp(t,e,n.child,r,i,s,!1),zs(e,t,i,a,s);else if(32&u){const c=Dp(n,r);let l;for(;l=c();)zs(e,t,i,l,s);zs(e,t,i,a,s)}else 16&u?bC(t,e,r,n,i,s):zs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function La(t,e,n,r,i,s){kp(n,r,t.firstChild,e,i,s,!1)}function bC(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)zs(e,t,i,u[c],s);else kp(t,e,u,o[3],i,s,!0)}function CC(t,e,n){xe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Rp(t,e,n){xe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function TC(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const AC="ng-template";function kB(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==TC(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function SC(t){return 4===t.type&&t.value!==AC}function RB(t,e,n){return e===(4!==t.type||n?t.value:AC)}function PB(t,e,n){let r=4;const i=t.attrs||[],s=function LB(t){for(let e=0;e<t.length;e++)if(_0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!RB(t,u,n)||""===u&&1===e.length){if(Vn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!kB(t.attrs,c,n)){if(Vn(r))return!1;o=!0}continue}const d=OB(8&r?"class":u,i,SC(t),n);if(-1===d){if(Vn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==TC(f,c,0)||2&r&&c!==h){if(Vn(r))return!1;o=!0}}}}else{if(!o&&!Vn(r)&&!Vn(u))return!1;if(o&&Vn(u))continue;o=!1,r=u|1&r}}return Vn(r)||o}function Vn(t){return 0==(1&t)}function OB(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function VB(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function MC(t,e,n=!1){for(let r=0;r<e.length;r++)if(PB(t,e[r],n))return!0;return!1}function xC(t,e){return t?":not("+e.trim()+")":e}function UB(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Vn(o)&&(e+=xC(s,i),i=""),r=o,s=s||!Vn(r);n++}return""!==i&&(e+=xC(s,i)),e}const G={};function we(t){NC(te(),I(),Ut()+t,Kc())}function NC(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Zc(e,s,n)}else{const s=t.preOrderHooks;null!==s&&el(e,s,0,n)}Qr(n)}function vl(t,e){return t<<17|e<<2}function Bn(t){return t>>17&32767}function Pp(t){return 2|t}function br(t){return(131068&t)>>2}function Op(t,e){return-131069&t|e<<2}function Fp(t){return 1|t}function $C(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Kf(i),o.contentQueries(2,e[s],s)}}}function Va(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,r0(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[K]=a||t&&t[K],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ks(t,e,n,r,i){let s=t.data[e];if(null===s)s=function qp(t,e,n,r,i){const s=o0(),o=Gf(),u=t.data[e]=function iU(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function SV(){return U.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function va(){const t=U.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Zn(s,!0),s}function Ys(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ba(t,e,n){Qc(e);try{const r=t.viewQuery;null!==r&&eg(1,r,n);const i=t.template;null!==i&&HC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&$C(t,e),t.staticViewQueries&&eg(2,t.viewQuery,n);const s=t.components;null!==s&&function tU(t,e){for(let n=0;n<e.length;n++)IU(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Jc()}}function Qs(t,e,n,r){const i=e[2];if(256==(256&i))return;Qc(e);const s=Kc();try{r0(e),function a0(t){return U.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&HC(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&Zc(e,c,null)}else{const c=t.preOrderHooks;null!==c&&el(e,c,0,null),Yf(e,0)}if(function wU(t){for(let e=bp(t);null!==e;e=Cp(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&$f(s,1),i[2]|=1024}}}(e),function vU(t){for(let e=bp(t);null!==e;e=Cp(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];jf(r)&&Qs(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&$C(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&Zc(e,c)}else{const c=t.contentHooks;null!==c&&el(e,c,1),Yf(e,1)}!function ZB(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Qr(~i);else{const s=i,o=n[++r],a=n[++r];MV(o,s),a(2,e[s])}}}finally{Qr(-1)}}(t,e);const a=t.components;null!==a&&function eU(t,e){for(let n=0;n<e.length;n++)EU(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&eg(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&Zc(e,c)}else{const c=t.viewHooks;null!==c&&el(e,c,2),Yf(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,$f(e[3],-1))}finally{Jc()}}function nU(t,e,n,r){const i=e[10],s=!Kc(),o=function n0(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&Ba(t,e,r),Qs(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function HC(t,e,n,r,i){const s=Ut(),o=2&r;try{Qr(-1),o&&e.length>20&&NC(t,e,20,Kc()),n(r,i)}finally{Qr(s)}}function Wp(t,e,n){!s0()||(function dU(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ia(n,e),Mt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ln(u);c&&mU(e,n,u);const l=Da(e,t,a,n);Mt(l,e),null!==o&&yU(0,a-i,l,u,0,o),c&&(ln(n.index,e)[8]=l)}}(t,e,n,Dn(n,e)),128==(128&n.flags)&&function hU(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function xV(){return U.lFrame.currentDirectiveIndex}();try{Qr(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];Wf(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&XC(c,l)}}finally{Qr(-1),Wf(a)}}(t,e,n))}function zp(t,e,n=Dn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function qC(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Il(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Il(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function rU(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:G);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function YC(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Kp(t,e,n,r){let i=!1;if(s0()){const s=function fU(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];MC(n,o.selectors,!1)&&(i||(i=[]),sl(Ia(n,e),t,o.type),Ln(o)?(ZC(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,eT(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=Ys(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=nl(n.mergedAttrs,d.hostAttrs),tT(t,n,e,c,d),gU(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function sU(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||SC(e)?null:_U(d,s);o.push(h),a=YC(d,c,a),u=YC(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function pU(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new ee(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=nl(n.mergedAttrs,n.attrs),i}function JC(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function lU(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function XC(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ZC(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function gU(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ln(e)&&(n[""]=t)}}function eT(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function tT(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=xi(i.type)),o=new wa(s,Ln(i),null);t.blueprint[r]=o,n[r]=o,JC(t,e,0,r,Ys(t,n,i.hostVars,G),i)}function mU(t,e,n){const r=Dn(e,t),i=qC(n),s=t[10],o=Dl(t,Va(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function yU(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function _U(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function nT(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function EU(t,e){const n=ln(e,t);if(jf(n)){const r=n[1];80&n[2]?Qs(r,n,r.template,n[8]):n[5]>0&&Qp(n)}}function Qp(t){for(let r=bp(t);null!==r;r=Cp(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Qs(o,s,o.template,s[8])}else s[5]>0&&Qp(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ln(n[r],t);jf(i)&&i[5]>0&&Qp(i)}}function IU(t,e){const n=ln(e,t),r=n[1];(function DU(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Ba(r,n,n[8])}function Dl(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Jp(t){for(;t;){t[2]|=64;const e=Fa(t);if(aV(t)&&!e)return t;t=e}return null}function Zp(t,e,n){const r=e[10];r.begin&&r.begin();try{Qs(t,e,t.template,n)}catch(i){throw aT(e,i),i}finally{r.end&&r.end()}}function rT(t){!function Xp(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=vp(n),i=r[1];nU(i,r,i.template,n)}}(t[8])}function eg(t,e,n){Kf(0),e(t,n)}const AU=(()=>Promise.resolve(null))();function iT(t){return t[7]||(t[7]=[])}function sT(t){return t.cleanup||(t.cleanup=[])}function aT(t,e){const n=t[9],r=n?n.get(Oa,null):null;r&&r.handleError(e)}function uT(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Cr(t,e,n){const r=zc(e,t);!function dC(t,e,n){xe(t)?t.setValue(e,n):e.textContent=n}(t[K],r,n)}function bl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=bf(i,a):2==s&&(r=bf(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const tg=new X("INJECTOR",-1);class cT{get(e,n=Aa){if(n===Aa){const r=new Error(`NullInjectorError: No provider for ${le(e)}!`);throw r.name="NullInjectorError",r}return n}}const ng=new X("Set Injector scope."),Ua={},xU={};let rg;function lT(){return void 0===rg&&(rg=new cT),rg}function dT(t,e=null,n=null,r){const i=hT(t,e,n,r);return i._resolveInjectorDefTypes(),i}function hT(t,e=null,n=null,r){return new NU(t,n,e||lT(),r)}class NU{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&er(n,a=>this.processProvider(a,e,n)),er([e],a=>this.processInjectorType(a,[],s)),this.records.set(tg,Js(void 0,this));const o=this.records.get(ng);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:le(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Aa,r=q.Default){this.assertNotDestroyed();const i=F0(this),s=Wr(void 0);try{if(!(r&q.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function BU(t){return"function"==typeof t||"object"==typeof t&&t instanceof X}(e)&&Tf(e);a=u&&this.injectableDefInScope(u)?Js(ig(e),Ua):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&q.Self?lT():this.parent).get(e,n=r&q.Optional&&n===Aa?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[cl]=o[cl]||[]).unshift(le(e)),i)throw o;return function h2(t,e,n,r){const i=t[cl];throw e[O0]&&i.unshift(e[O0]),t.message=function f2(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=le(e);if(Array.isArray(e))i=e.map(le).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):le(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(o2,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[cl]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Wr(s),F0(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(le(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processInjectorType(e,n,r){if(!(e=z(e)))return!1;let i=$b(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=$b(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{er(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];er(f,p=>this.processProvider(p,h,f||pe))}}this.injectorDefTypes.add(o);const u=xi(o)||(()=>new o);this.records.set(o,Js(u,Ua));const c=i.providers;if(null!=c&&!a){const l=e;er(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=Xs(e=z(e))?e:z(e&&e.provide);const s=function RU(t,e,n){return pT(t)?Js(void 0,t.useValue):Js(fT(t),Ua)}(e);if(Xs(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Js(void 0,Ua,!0),o.factory=()=>up(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===Ua&&(n.value=xU,n.value=n.factory()),"object"==typeof n.value&&n.value&&function VU(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=z(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function ig(t){const e=Tf(t),n=null!==e?e.factory:xi(t);if(null!==n)return n;if(t instanceof X)throw new ee(204,!1);if(t instanceof Function)return function kU(t){const e=t.length;if(e>0)throw function Ta(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new ee(204,!1);const n=function KL(t){const e=t&&(t[Uc]||t[Hb]);if(e){const n=function YL(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ee(204,!1)}function fT(t,e,n){let r;if(Xs(t)){const i=z(t);return xi(i)||ig(i)}if(pT(t))r=()=>z(t.useValue);else if(function OU(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...up(t.deps||[]));else if(function PU(t){return!(!t||!t.useExisting)}(t))r=()=>oe(z(t.useExisting));else{const i=z(t&&(t.useClass||t.provide));if(!function LU(t){return!!t.deps}(t))return xi(i)||ig(i);r=()=>new i(...up(t.deps))}return r}function Js(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function pT(t){return null!==t&&"object"==typeof t&&u2 in t}function Xs(t){return"function"==typeof t}let mt=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return dT({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return dT({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=Aa,t.NULL=new cT,t.\u0275prov=me({token:t,providedIn:"any",factory:()=>oe(tg)}),t.__NG_ELEMENT_ID__=-1,t})();function zU(t,e){Xc(vp(t)[1],Je())}function de(t){let e=function TT(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ln(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,"");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=ag(t.inputs),o.declaredInputs=ag(t.declaredInputs),o.outputs=ag(t.outputs);const a=i.hostBindings;a&&JU(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&YU(t,u),c&&QU(t,c),Df(t.inputs,i.inputs),Df(t.declaredInputs,i.declaredInputs),Df(t.outputs,i.outputs),Ln(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===de&&(n=!1)}}e=Object.getPrototypeOf(e)}!function KU(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=nl(i.hostAttrs,n=nl(n,i.hostAttrs))}}(r)}function ag(t){return t===Ms?{}:t===pe?[]:t}function YU(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function QU(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function JU(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function xt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Nt(t,e,n,r,i,s,o,a){const u=I(),c=te(),l=t+20,d=c.firstCreatePass?function ij(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ks(e,t,4,o||null,Yr(c,a));Kp(e,n,l,Yr(c,u)),Xc(e,l);const d=l.tViews=Il(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Zn(d,!1);const h=u[K].createComment("");yl(c,u,h,d),Mt(h,u),Dl(u,u[l]=nT(h,u,h,d)),Wc(d)&&Wp(c,u,d),null!=o&&zp(u,d,a)}function T(t,e=q.Default){const n=I();return null===n?oe(t,e):C0(Je(),n,z(t),e)}function Fe(t,e,n){const r=I();return xt(r,Os(),e)&&function fn(t,e,n,r,i,s,o,a){const u=Dn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(uT(t,n,l,r,i),qc(e)&&function aU(t,e){const n=ln(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function oU(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,xe(s)?s.setProperty(u,r,i):Jf(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(te(),function Ne(){const t=U.lFrame;return Uf(t.tView,t.selectedIndex)}(),r,t,e,r[K],n,!1),Fe}function fg(t,e,n,r,i){const o=i?"class":"style";uT(t,n,e.inputs[o],o,r)}function ae(t,e,n,r){const i=I(),s=te(),o=20+t,a=i[K],u=i[o]=Ap(a,e,function FV(){return U.lFrame.currentNamespace}()),c=s.firstCreatePass?function Aj(t,e,n,r,i,s,o){const a=e.consts,c=Ks(e,t,2,i,Yr(a,s));return Kp(e,n,c,Yr(a,o)),null!==c.attrs&&bl(c,c.attrs,!1),null!==c.mergedAttrs&&bl(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Zn(c,!0);const l=c.mergedAttrs;null!==l&&tl(a,u,l);const d=c.classes;null!==d&&Rp(a,u,d);const h=c.styles;return null!==h&&CC(a,u,h),64!=(64&c.flags)&&yl(s,i,u,c),0===function IV(){return U.lFrame.elementDepthCount}()&&Mt(u,i),function DV(){U.lFrame.elementDepthCount++}(),Wc(c)&&(Wp(s,i,c),function GC(t,e,n){if(Rf(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&zp(i,c),ae}function ue(){let t=Je();Gf()?function qf(){U.lFrame.isParent=!1}():(t=t.parent,Zn(t,!1));const e=t;!function bV(){U.lFrame.elementDepthCount--}();const n=te();return n.firstCreatePass&&(Xc(n,t),Rf(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function jV(t){return 0!=(16&t.flags)}(e)&&fg(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function $V(t){return 0!=(32&t.flags)}(e)&&fg(n,e,I(),e.stylesWithoutHost,!1),ue}function jn(t,e,n,r){return ae(t,e,n,r),ue(),jn}function mg(){return I()}function Sl(t){return!!t&&"function"==typeof t.then}function zT(t){return!!t&&"function"==typeof t.subscribe}const KT=zT;function Ze(t,e,n,r){const i=I(),s=te(),o=Je();return function QT(t,e,n,r,i,s,o,a){const u=Wc(r),l=t.firstCreatePass&&sT(t),d=e[8],h=iT(e);let f=!0;if(3&r.type||a){const _=Dn(r,e),E=a?a(_):_,y=h.length,C=a?P=>a(je(P[r.index])):r.index;if(xe(n)){let P=null;if(!a&&u&&(P=function Mj(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1;else{s=yg(r,e,d,s,!1);const O=n.listen(E,i,s);h.push(s,O),l&&l.push(i,C,y,y+1)}}else s=yg(r,e,d,s,!0),E.addEventListener(i,s,o),h.push(s),l&&l.push(i,C,y,o)}else s=yg(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const _=m.length;if(_)for(let E=0;E<_;E+=2){const Q=e[m[E]][m[E+1]].subscribe(s),De=h.length;h.push(s,Q),l&&l.push(i,r.index,De,-(De+1))}}}(s,i,i[K],o,t,e,!!n,r),Ze}function JT(t,e,n,r){try{return!1!==n(r)}catch(i){return aT(t,i),!1}}function yg(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?ln(t.index,e):e;0==(32&e[2])&&Jp(a);let u=JT(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=JT(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Tn(t=1){return function kV(t){return(U.lFrame.contextLView=function RV(t,e){for(;t>0;)e=e[15],t--;return e}(t,U.lFrame.contextLView))[8]}(t)}function aA(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Bn(s):br(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];Oj(t[a],e)&&(u=!0,t[a+1]=r?Fp(l):Pp(l)),a=r?Bn(l):br(l)}u&&(t[n+1]=r?Pp(s):Fp(s))}function Oj(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Hs(t,e)>=0}function vg(t,e,n){return $n(t,e,n,!1),vg}function Ml(t,e){return $n(t,e,null,!0),Ml}function $n(t,e,n,r){const i=I(),s=te(),o=function Dr(t){const e=U.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function gA(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Ut()],o=function pA(t,e){return e>=t.expandoStartIndex}(t,n);(function vA(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function Gj(t,e,n,r){const i=function zf(t){const e=U.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ha(n=wg(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=wg(i,t,e,n,r),null===s){let u=function qj(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==br(r))return t[Bn(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=wg(null,t,e,u[1],r),u=Ha(u,e.attrs,r),function Wj(t,e,n,r){t[Bn(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function zj(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Ha(r,t[s].hostAttrs,n);return Ha(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function Rj(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Bn(o),u=br(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||Hs(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=Bn(t[a+1]);t[r+1]=vl(h,a),0!==h&&(t[h+1]=Op(t[h+1],r)),t[a+1]=function HB(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=vl(a,0),0!==a&&(t[a+1]=Op(t[a+1],r)),a=r;else t[r+1]=vl(u,0),0===a?a=r:t[u+1]=Op(t[u+1],r),u=r;c&&(t[r+1]=Pp(t[r+1])),aA(t,l,r,!0),aA(t,l,r,!1),function Pj(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Hs(s,e)>=0&&(n[r+1]=Fp(n[r+1]))}(e,l,t,r,s),o=vl(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==G&&xt(i,o,e)&&function yA(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];xl(function PC(t){return 1==(1&t)}(c)?_A(u,e,n,i,br(c),o):void 0)||(xl(s)||function RC(t){return 2==(2&t)}(c)&&(s=_A(u,null,n,i,a,o)),function NB(t,e,n,r,i){const s=xe(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:hn.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=hn.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,zc(Ut(),n),i,s))}(s,s.data[Ut()],i,i[K],t,i[o+1]=function Qj(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=le(Xr(t)))),t}(e,n),r,o)}function wg(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ha(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ha(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),dn(t,o,!!n||e[++s]))}return void 0===t?null:t}function _A(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===G&&(h=d?pe:void 0);let f=d?sp(h,r):l===r?h:void 0;if(c&&!xl(f)&&(f=sp(u,r)),xl(f)&&(a=f,o))return a;const p=t[i+1];i=o?Bn(p):br(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=sp(u,r))}return a}function xl(t){return void 0!==t}function Le(t,e=""){const n=I(),r=te(),i=t+20,s=r.firstCreatePass?Ks(r,i,1,e,null):r.data[i],o=n[i]=function Tp(t,e){return xe(t)?t.createText(e):t.createTextNode(e)}(n[K],e);yl(r,n,o,s),Zn(s,!1)}function Ri(t){return ho("",t,""),Ri}function ho(t,e,n){const r=I(),i=function to(t,e,n,r){return xt(t,Os(),n)?e+$(n)+r:G}(r,t,e,n);return i!==G&&Cr(r,Ut(),i),ho}const Nl="en-US";let jA=Nl;function Dg(t,e,n,r,i){if(t=z(t),Array.isArray(t))for(let s=0;s<t.length;s++)Dg(t[s],e,n,r,i);else{const s=te(),o=I();let a=Xs(t)?t:z(t.provide),u=fT(t);const c=Je(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Xs(t)||!t.multi){const f=new wa(u,i,T),p=Cg(a,e,i?l:l+h,d);-1===p?(sl(Ia(c,o),s,a),bg(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Cg(a,e,l+h,d),p=Cg(a,e,l,l+h),m=f>=0&&n[f],_=p>=0&&n[p];if(i&&!_||!i&&!m){sl(Ia(c,o),s,a);const E=function gH(t,e,n,r,i){const s=new wa(t,n,T);return s.multi=[],s.index=e,s.componentProviders=0,dS(s,i,r&&!n),s}(i?pH:fH,n.length,i,r,u);!i&&_&&(n[p].providerFactory=E),bg(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(E),o.push(E)}else bg(s,t,f>-1?f:p,dS(n[i?p:f],u,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function bg(t,e,n,r){const i=Xs(e),s=function FU(t){return!!t.useClass}(e);if(i||s){const u=(s?z(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function dS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Cg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fH(t,e,n,r){return Tg(this.multi,[])}function pH(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Da(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),Tg(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Tg(i,s);return s}function Tg(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Te(t,e=[]){return n=>{n.providersResolver=(r,i)=>function hH(t,e,n){const r=te();if(r.firstCreatePass){const i=Ln(t);Dg(n,r.data,r.blueprint,i,!0),Dg(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class hS{}class _H{resolveComponentFactory(e){throw function yH(t){const e=Error(`No component factory found for ${le(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let go=(()=>{class t{}return t.NULL=new _H,t})();function vH(){return mo(Je(),I())}function mo(t,e){return new Gn(Dn(t,e))}let Gn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=vH,t})();class pS{}let Oi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function IH(){const t=I(),n=ln(Je().index,t);return function EH(t){return t[K]}(Xn(n)?n:t)}(),t})(),DH=(()=>{class t{}return t.\u0275prov=me({token:t,providedIn:"root",factory:()=>null}),t})();class yo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const gS=new yo("13.2.7"),Ag={};function Fl(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(je(s)),Fn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Fl(u[1],u,c,r)}const o=n.type;if(8&o)Fl(t,e,n.child,r);else if(32&o){const a=Dp(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=IC(e,n);if(Array.isArray(a))r.push(...a);else{const u=Fa(e[16]);Fl(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ka{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Fl(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Fn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Sp(e,r),al(n,r))}this._attachedToViewContainer=!1}fC(this._lView[1],this._lView)}onDestroy(e){!function KC(t,e,n,r){const i=iT(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&sT(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Jp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Zp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function CU(t,e,n){Yc(!0);try{Zp(t,e,n)}finally{Yc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ee(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function EB(t,e){La(t,e,e[K],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,"");this._appRef=e}}class bH extends Ka{constructor(e){super(e),this._view=e}detectChanges(){rT(this._view)}checkNoChanges(){!function TU(t){Yc(!0);try{rT(t)}finally{Yc(!1)}}(this._view)}get context(){return null}}class mS extends go{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Tt(e);return new Sg(n,this.ngModule)}}function yS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Sg extends hS{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function jB(t){return t.map(UB).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return yS(this.componentDef.inputs)}get outputs(){return yS(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function TH(t,e){return{get:(n,r,i)=>{const s=t.get(n,Ag,i);return s!==Ag||r===Ag?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(pS,t0),a=s.get(DH,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function zC(t,e,n){if(xe(t))return t.selectRootElement(e,n===Qn.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Ap(o.createRenderer(null,this.componentDef),c,function CH(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,h=function CT(t,e){return{components:[],scheduler:t||fB,clean:AU,playerHandler:e||null,flags:0}}(),f=Il(0,null,null,1,0,null,null,null,null,null),p=Va(null,f,h,d,null,null,o,u,a,s);let m,_;Qc(p);try{const E=function DT(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=Ks(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(bl(u,c,!0),null!==t&&(tl(i,t,c),null!==u.classes&&Rp(i,t,u.classes),null!==u.styles&&CC(i,t,u.styles)));const l=r.createRenderer(t,e),d=Va(n,qC(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(sl(Ia(u,n),o,e.type),ZC(o,u),eT(u,n.length,1)),Dl(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)tl(u,l,["ng-version",gS.full]);else{const{attrs:y,classes:C}=function $B(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Vn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&tl(u,l,y),C&&C.length>0&&Rp(u,l,C.join(" "))}if(_=Uf(f,20),void 0!==n){const y=_.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const P=n[C];y.push(null!=P?Array.from(P):null)}}m=function bT(t,e,n,r,i){const s=n[1],o=function cU(t,e,n){const r=Je();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),tT(t,r,e,Ys(t,e,1,null),n));const i=Da(e,t,r.directiveStart,r);Mt(i,e);const s=Dn(r,e);return s&&Mt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=Je();e.contentQueries(1,o,u.directiveStart)}const a=Je();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Qr(a.index),JC(n[1],a,0,a.directiveStart,a.directiveEnd,e),XC(e,o)),o}(E,this.componentDef,p,h,[zU]),Ba(f,p,null)}finally{Jc()}return new SH(this.componentType,m,mo(_,p),p,_)}}class SH extends class mH{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new bH(i),this.componentType=e}get injector(){return new Vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class _o{}const vo=new Map;class wS extends _o{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new mS(this);const r=wn(e);this._bootstrapComponents=nr(r.bootstrap),this._r3Injector=hT(e,n,[{provide:_o,useValue:this},{provide:go,useValue:this.componentFactoryResolver}],le(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=mt.THROW_IF_NOT_FOUND,r=q.Default){return e===mt||e===_o||e===tg?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Mg extends class xH{}{constructor(e){super(),this.moduleType=e,null!==wn(e)&&function NH(t){const e=new Set;!function n(r){const i=wn(r,!0),s=i.id;null!==s&&(function _S(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${le(e)} vs ${le(e.name)}`)}(s,vo.get(s),r),vo.set(s,r));const o=nr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new wS(this.moduleType,e)}}function ES(t,e,n,r,i,s){const o=e+n;return xt(t,o,i)?function ir(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function Ya(t,e){const n=t[e];return n===G?void 0:n}(t,o+1)}function xg(t,e){const n=te();let r;const i=t+20;n.firstCreatePass?(r=function $H(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=xi(r.type)),o=Wr(T);try{const a=rl(!1),u=s();return rl(a),function sj(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,I(),i,u),u}finally{Wr(o)}}function Ng(t,e,n){const r=t+20,i=I(),s=function Ps(t,e){return t[e]}(i,r);return function Qa(t,e){return t[1].data[e].pure}(i,r)?ES(i,function Bt(){const t=U.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,s.transform,n,s):s.transform(n)}function kg(t){return e=>{setTimeout(t,void 0,e)}}const kt=class zH extends Oc{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=kg(u),a&&(a=kg(a)),c&&(c=kg(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof kn&&e.add(l),l}};Symbol;let Ar=(()=>{class t{}return t.__NG_ELEMENT_ID__=JH,t})();const YH=Ar,QH=class extends YH{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=Va(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),Ba(n,r,e),new Ka(r)}};function JH(){return function Ll(t,e){return 4&t.type?new QH(e,t,mo(t,e)):null}(Je(),I())}let ar=(()=>{class t{}return t.__NG_ELEMENT_ID__=XH,t})();function XH(){return function SS(t,e){let n;const r=e[t.index];if(Fn(r))n=r;else{let i;if(8&t.type)i=je(r);else{const s=e[K];i=s.createComment("");const o=Dn(t,e);Ni(s,ml(s,o),i,function SB(t,e){return xe(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=nT(r,e,i,t),Dl(e,n)}return new TS(n,t,e)}(Je(),I())}const ZH=ar,TS=class extends ZH{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return mo(this._hostTNode,this._hostLView)}get injector(){return new Vs(this._hostTNode,this._hostLView)}get parentInjector(){const e=il(this._hostTNode,this._hostLView);if(w0(e)){const n=Ls(e,this._hostLView),r=Fs(e);return new Vs(n[1].data[r+8],n)}return new Vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=AS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function Ca(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new Sg(Tt(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(_o,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function EV(t){return Fn(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new TS(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function DB(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],x0(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function bB(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=Np(s,o),u=r[K],c=ml(u,o[7]);return null!==c&&function wB(t,e,n,r,i,s){r[0]=i,r[6]=e,La(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),x0(Pg(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=AS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Sp(this._lContainer,n);r&&(al(Pg(this._lContainer),n),fC(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Sp(this._lContainer,n);return r&&null!=al(Pg(this._lContainer),n)?new Ka(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function AS(t){return t[8]}function Pg(t){return t[8]||(t[8]=[])}function Ul(...t){}const QS=new X("Application Initializer");let qg=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Ul,this.reject=Ul,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Sl(s))n.push(s);else if(KT(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(oe(QS,8))},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Xa=new X("AppId",{providedIn:"root",factory:function JS(){return`${Wg()}${Wg()}${Wg()}`}});function Wg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const XS=new X("Platform Initializer"),Za=new X("Platform ID"),MG=new X("appBootstrapListener");let xG=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})();const ti=new X("LocaleId",{providedIn:"root",factory:()=>l2(ti,q.Optional|q.SkipSelf)||function NG(){return"undefined"!=typeof $localize&&$localize.locale||Nl}()}),OG=(()=>Promise.resolve(0))();function zg(t){"undefined"==typeof Zone?OG.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class tt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kt(!1),this.onMicrotaskEmpty=new kt(!1),this.onStable=new kt(!1),this.onError=new kt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function FG(){let t=he.requestAnimationFrame,e=he.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function BG(t){const e=()=>{!function VG(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(he,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Yg(t),t.isCheckStableRunning=!0,Kg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Yg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return ZS(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),eM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return ZS(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),eM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Yg(t),Kg(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(tt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,LG,Ul,Ul);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const LG={};function Kg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ZS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function eM(t){t._nesting--,Kg(t)}class UG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kt,this.onMicrotaskEmpty=new kt,this.onStable=new kt,this.onError=new kt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let Qg=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tt.assertNotInAngularZone(),zg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zg(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(oe(tt))},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})(),tM=(()=>{class t{constructor(){this._applications=new Map,Jg.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Jg.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})();class jG{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let qn,Jg=new jG;const nM=new X("AllowMultipleToken");function rM(t,e,n=[]){const r=`Platform: ${e}`,i=new X(r);return(s=[])=>{let o=iM();if(!o||o.injector.get(nM,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:ng,useValue:"platform"});!function qG(t){if(qn&&!qn.destroyed&&!qn.injector.get(nM,!1))throw new ee(400,"");qn=t.get(sM);const e=t.get(XS,null);e&&e.forEach(n=>n())}(mt.create({providers:a,name:r}))}return function WG(t){const e=iM();if(!e)throw new ee(401,"");return e}()}}function iM(){return qn&&!qn.destroyed?qn:null}let sM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function zG(t,e){let n;return n="noop"===t?new UG:("zone.js"===t?void 0:t)||new tt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:tt,useValue:a}];return a.run(()=>{const c=mt.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(Oa,null);if(!d)throw new ee(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{Zg(this._modules,l),h.unsubscribe()})}),function KG(t,e,n){try{const r=n();return Sl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(qg);return h.runInitializers(),h.donePromise.then(()=>(function E$(t){un(t,"Expected localeId to be defined"),"string"==typeof t&&(jA=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(ti,Nl)||Nl),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=oM({},r);return function HG(t,e,n){const r=new Mg(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Xg);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new ee(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(oe(mt))},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})();function oM(t,e){return Array.isArray(e)?e.reduce(oM,t):Object.assign(Object.assign({},t),e)}let Xg=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Qe(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new Qe(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{tt.assertNotInAngularZone(),zg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{tt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=Bb(a,u.pipe(function $L(t={}){const{connector:e=(()=>new Oc),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return Hr((m,_)=>{c++,!d&&!l&&h();const E=u=null!=u?u:e();_.add(()=>{c--,0===c&&!d&&!l&&(a=If(p,i))}),E.subscribe(_),o||(o=new Rc({next:y=>E.next(y),error:y=>{d=!0,h(),a=If(f,n,y),E.error(y)},complete:()=>{l=!0,h(),a=If(f,r),E.complete()}}),Vc(m).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new ee(405,"");let i;i=n instanceof hS?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function GG(t){return t.isBoundToModule}(i)?void 0:this._injector.get(_o),a=i.create(mt.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(Qg,null),l=c&&a.injector.get(tM);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),Zg(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new ee(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Zg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(MG,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(oe(tt),oe(mt),oe(Oa),oe(go),oe(qg))},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let uM=!0,em=(()=>{class t{}return t.__NG_ELEMENT_ID__=JG,t})();function JG(t){return function XG(t,e,n){if(qc(t)&&!n){const r=ln(t.index,e);return new Ka(r,r)}return 47&t.type?new Ka(e[16],e):null}(Je(),I(),16==(16&t))}const dq=rM(null,"core",[{provide:Za,useValue:"unknown"},{provide:sM,deps:[mt]},{provide:tM,deps:[]},{provide:xG,deps:[]}]);let hq=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(oe(Xg))},t.\u0275mod=Pn({type:t}),t.\u0275inj=vn({}),t})(),Gl=null;function Li(){return Gl}const ur=new X("DocumentToken");let Eo=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new o3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){xM("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){xM("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(T(ar),T(Ar))},t.\u0275dir=H({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class o3{constructor(){this.$implicit=null,this.ngIf=null}}function xM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${le(e)}'.`)}class h3{createSubscription(e,n){return e.subscribe({next:n,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class f3{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}onDestroy(e){}}const p3=new f3,g3=new h3;let mm=(()=>{class t{constructor(n){this._ref=n,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Sl(n))return p3;if(zT(n))return g3;throw function zn(t,e){return new ee(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(n){return new(n||t)(T(em,16))},t.\u0275pipe=Zt({name:"async",type:t,pure:!1}),t})(),k3=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=vn({}),t})();class vm extends class V3 extends class gq{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function pq(t){Gl||(Gl=t)}(new vm)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function B3(){return ru=ru||document.querySelector("base"),ru?ru.getAttribute("href"):null}();return null==n?null:function U3(t){ed=ed||document.createElement("a"),ed.setAttribute("href",t);const e=ed.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ru=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function t3(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ed,ru=null;const OM=new X("TRANSITION_ID"),$3=[{provide:QS,useFactory:function j3(t,e,n){return()=>{n.get(qg).donePromise.then(()=>{const r=Li(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[OM,ur,mt],multi:!0}];class wm{static init(){!function $G(t){Jg=t}(new wm)}addToWindow(e){he.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},he.getAllAngularTestabilities=()=>e.getAllTestabilities(),he.getAllAngularRootElements=()=>e.getAllRootElements(),he.frameworkStabilizers||(he.frameworkStabilizers=[]),he.frameworkStabilizers.push(r=>{const i=he.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Li().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let H3=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})();const td=new X("EventManagerPlugins");let nd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(oe(td),oe(tt))},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})();class FM{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Li().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let LM=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})(),iu=(()=>{class t extends LM{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(VM),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(VM))}}return t.\u0275fac=function(n){return new(n||t)(oe(ur))},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})();function VM(t){Li().remove(t)}const Em={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Im=/%COMP%/g;function rd(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?rd(t,i,n):(i=i.replace(Im,t),n.push(i))}return n}function jM(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Dm=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new bm(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Qn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Y3(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Qn.ShadowDom:return new Q3(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=rd(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(oe(nd),oe(iu),oe(Xa))},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})();class bm{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Em[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Em[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Em[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(hn.DashCase|hn.Important)?e.style.setProperty(n,r,i&hn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&hn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,jM(r)):this.eventManager.addEventListener(e,n,jM(r))}}class Y3 extends bm{constructor(e,n,r,i){super(e),this.component=r;const s=rd(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function W3(t){return"_ngcontent-%COMP%".replace(Im,t)}(i+"-"+r.id),this.hostAttr=function z3(t){return"_nghost-%COMP%".replace(Im,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class Q3 extends bm{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=rd(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let J3=(()=>{class t extends FM{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(oe(ur))},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})();const HM=["alt","control","meta","shift"],Z3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GM={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},eW={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let tW=(()=>{class t extends FM{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Li().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(HM.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function nW(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&GM.hasOwnProperty(e)&&(e=GM[e]))}return Z3[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),HM.forEach(s=>{s!=i&&eW[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(oe(ur))},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})();const oW=rM(dq,"browser",[{provide:Za,useValue:"browser"},{provide:XS,useValue:function rW(){vm.makeCurrent(),wm.init()},multi:!0},{provide:ur,useFactory:function sW(){return function yV(t){Vf=t}(document),document},deps:[]}]),aW=[{provide:ng,useValue:"root"},{provide:Oa,useFactory:function iW(){return new Oa},deps:[]},{provide:td,useClass:J3,multi:!0,deps:[ur,tt,Za]},{provide:td,useClass:tW,multi:!0,deps:[ur]},{provide:Dm,useClass:Dm,deps:[nd,iu,Xa]},{provide:pS,useExisting:Dm},{provide:LM,useExisting:iu},{provide:iu,useClass:iu,deps:[ur]},{provide:Qg,useClass:Qg,deps:[tt]},{provide:nd,useClass:nd,deps:[td,tt]},{provide:class L3{},useClass:H3,deps:[]}];let uW=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Xa,useValue:n.appId},{provide:OM,useExisting:Xa},$3]}}}return t.\u0275fac=function(n){return new(n||t)(oe(t,12))},t.\u0275mod=Pn({type:t}),t.\u0275inj=vn({providers:aW,imports:[k3,hq]}),t})();"undefined"!=typeof window&&window;const Tm={now:()=>(Tm.delegate||Date).now(),delegate:void 0};class vW extends Oc{constructor(e=1/0,n=1/0,r=Tm){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}function zM(t,e){return Hr((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(_r(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;Gr(t(u,l)).subscribe(i=_r(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}const id={schedule(t,e){const n=setTimeout(t,e);return()=>clearTimeout(n)},scheduleBeforeRender(t){if("undefined"==typeof window)return id.schedule(t,0);if(void 0===window.requestAnimationFrame)return id.schedule(t,16);const e=window.requestAnimationFrame(t);return()=>window.cancelAnimationFrame(e)}};let Am;function SW(t,e,n){let r=n;return function EW(t){return!!t&&t.nodeType===Node.ELEMENT_NODE}(t)&&e.some((i,s)=>!("*"===i||!function DW(t,e){if(!Am){const n=Element.prototype;Am=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}return t.nodeType===Node.ELEMENT_NODE&&Am.call(t,e)}(t,i)||(r=s,0))),r}class xW{constructor(e,n){this.componentFactory=n.get(go).resolveComponentFactory(e)}create(e){return new NW(this.componentFactory,e)}}class NW{constructor(e,n){this.componentFactory=e,this.injector=n,this.eventEmitters=new vW(1),this.events=this.eventEmitters.pipe(zM(r=>Bb(...r))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:r})=>r)),this.ngZone=this.injector.get(tt),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=id.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,n){this.runInZone(()=>{null!==this.componentRef?function bW(t,e){return t===e||t!=t&&e!=e}(n,this.getInputValue(e))&&(void 0!==n||!this.unchangedInputs.has(e))||(this.recordInputChange(e,n),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=n,this.scheduleDetectChanges()):this.initialInputValues.set(e,n)})}initializeComponent(e){const n=mt.create({providers:[],parent:this.injector}),r=function AW(t,e){const n=t.childNodes,r=e.map(()=>[]);let i=-1;e.some((s,o)=>"*"===s&&(i=o,!0));for(let s=0,o=n.length;s<o;++s){const a=n[s],u=SW(a,e,i);-1!==u&&r[u].push(a)}return r}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(n,r,e),this.viewChangeDetectorRef=this.componentRef.injector.get(em),this.implementsOnChanges=function IW(t){return"function"==typeof t}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(Xg).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))}),this.initialInputValues.clear()}initializeOutputs(e){const n=this.componentFactory.outputs.map(({propName:r,templateName:i})=>e.instance[r].pipe(Ss(o=>({name:i,value:o}))));this.eventEmitters.next(n)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const n=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(n)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=id.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,n){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const r=this.inputChanges[e];if(r)return void(r.currentValue=n);const i=this.unchangedInputs.has(e),s=i?void 0:this.getInputValue(e);this.inputChanges[e]=new Jb(s,n,i)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class kW extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function RW(t,e){const n=function TW(t,e){return e.get(go).resolveComponentFactory(t).inputs}(t,e.injector),r=e.strategyFactory||new xW(t,e.injector),i=function CW(t){const e={};return t.forEach(({propName:n,templateName:r})=>{e[function wW(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(r)]=n}),e}(n);class s extends kW{constructor(a){super(),this.injector=a}get ngElementStrategy(){if(!this._ngElementStrategy){const a=this._ngElementStrategy=r.create(this.injector||e.injector);n.forEach(({propName:u})=>{if(!this.hasOwnProperty(u))return;const c=this[u];delete this[u],a.setInputValue(u,c)})}return this._ngElementStrategy}attributeChangedCallback(a,u,c,l){this.ngElementStrategy.setInputValue(i[a],c)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{const u=new CustomEvent(a.name,{detail:a.value});this.dispatchEvent(u)})}}return s.observedAttributes=Object.keys(i),n.forEach(({propName:o})=>{Object.defineProperty(s.prototype,o,{get(){return this.ngElementStrategy.getInputValue(o)},set(a){this.ngElementStrategy.setInputValue(o,a)},configurable:!0,enumerable:!0})}),s}const KM_firebase={apiKey:"AIzaSyCShVs_21ZN-KpiDGJBGvm6RivRpENCvGc",authDomain:"nxcoder-app.firebaseapp.com",projectId:"nxcoder-app",storageBucket:"nxcoder-app.appspot.com",messagingSenderId:"905119792725",appId:"1:905119792725:web:db8a9d1c9355acc6609edc",measurementId:"G-0S12ZX2FQW"};function YM(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){YM(s,r,i,o,a,"next",u)}function a(u){YM(s,r,i,o,a,"throw",u)}o(void 0)})}}const QM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Mm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},sd=function(t){return function(t){const e=QM(t);return Mm.encodeByteArray(e,!0)}(t).replace(/\./g,"")};class Nm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function ut(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function XM(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function od(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function ZM(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ex(){const t=ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Vi(){return"object"==typeof indexedDB}function su(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function km(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class cr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lr.prototype.create)}}class lr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function HW(t,e){return t.replace(GW,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new cr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const GW=/\{\$([^}]+)}/g;function ud(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(nx(s)&&nx(o)){if(!ud(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nx(t){return null!==t&&"object"==typeof t}function ou(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function au(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function uu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class zW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function KW(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Rm),void 0===i.error&&(i.error=Rm),void 0===i.complete&&(i.complete=Rm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rm(){}function Om(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function qt(t){return t&&t._delegate?t._delegate:t}function cu(t,e){return new Promise((n,r)=>{t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var s;r(`${e}: ${null===(s=i.target.error)||void 0===s?void 0:s.message}`)}})}class rx{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,n="readonly"){return new ix(this._db.transaction.call(this._db,e,n))}createObjectStore(e,n){return new sx(this._db.createObjectStore(e,n))}close(){this._db.close()}}class ix{constructor(e){this._transaction=e,this.complete=new Promise((n,r)=>{this._transaction.oncomplete=function(){n()},this._transaction.onerror=()=>{r(this._transaction.error)},this._transaction.onabort=()=>{r(this._transaction.error)}})}objectStore(e){return new sx(this._transaction.objectStore(e))}}class sx{constructor(e){this._store=e}index(e){return new ox(this._store.index(e))}createIndex(e,n,r){return new ox(this._store.createIndex(e,n,r))}get(e){return cu(this._store.get(e),"Error reading from IndexedDB")}put(e,n){return cu(this._store.put(e,n),"Error writing to IndexedDB")}delete(e){return cu(this._store.delete(e),"Error deleting from IndexedDB")}clear(){return cu(this._store.clear(),"Error clearing IndexedDB object store")}}class ox{constructor(e){this._index=e}get(e){return cu(this._index.get(e),"Error reading from IndexedDB")}}function cd(t,e,n){return new Promise((r,i)=>{try{const s=indexedDB.open(t,e);s.onsuccess=o=>{r(new rx(o.target.result))},s.onerror=o=>{var a;i(`Error opening indexedDB: ${null===(a=o.target.error)||void 0===a?void 0:a.message}`)},s.onupgradeneeded=o=>{n(new rx(s.result),o.oldVersion,o.newVersion,new ix(s.transaction))}}catch(s){i(`Error opening indexedDB: ${s.message}`)}})}function Fm(t){return Lm.apply(this,arguments)}function Lm(){return(Lm=g(function*(t){return new Promise((e,n)=>{try{const r=indexedDB.deleteDatabase(t);r.onsuccess=()=>{e()},r.onerror=i=>{var s;n(`Error deleting indexedDB database "${t}": ${null===(s=i.target.error)||void 0===s?void 0:s.message}`)}}catch(r){n(`Error deleting indexedDB database "${t}": ${r.message}`)}})})).apply(this,arguments)}class Rt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bi="[DEFAULT]";class ez{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nm;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function nz(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Bi?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ez(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Vm=[];var ne=(()=>{return(t=ne||(ne={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ne;var t})();const ax={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},iz=ne.INFO,sz={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},oz=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=sz[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Io{constructor(e){this.name=e,this._logLevel=iz,this._logHandler=oz,this._userLogHandler=null,Vm.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ax[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}class az{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function uz(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Bm="@firebase/app",Um=new Io("@firebase/app"),jm="[DEFAULT]",Pz={[Bm]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ui=new Map,ld=new Map;function Oz(t,e){try{t.container.addComponent(e)}catch(n){Um.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wt(t){const e=t.name;if(ld.has(e))return Um.debug(`There were multiple attempts to register component ${e}.`),!1;ld.set(e,t);for(const n of Ui.values())Oz(n,t);return!0}function Do(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const ri=new lr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Lz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}const bo="9.6.11";function Vz(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:jm,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw ri.create("bad-app-name",{appName:String(r)});const i=Ui.get(r);if(i){if(ud(t,i.options)&&ud(n,i.config))return i;throw ri.create("duplicate-app",{appName:r})}const s=new rz(r);for(const a of ld.values())s.addComponent(a);const o=new Lz(t,n,s);return Ui.set(r,o),o}function $m(t=jm){const e=Ui.get(t);if(!e)throw ri.create("no-app",{appName:t});return e}function cx(){return Array.from(Ui.values())}function Re(t,e,n){var r;let i=null!==(r=Pz[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Um.warn(a.join(" "))}Wt(new Rt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const lu="firebase-heartbeat-store";let Gm=null;function lx(){return Gm||(Gm=cd("firebase-heartbeat-database",1,(t,e)=>{0===e&&t.createObjectStore(lu)}).catch(t=>{throw ri.create("storage-open",{originalErrorMessage:t.message})})),Gm}function qm(){return(qm=g(function*(t){try{return(yield lx()).transaction(lu).objectStore(lu).get(hx(t))}catch(e){throw ri.create("storage-get",{originalErrorMessage:e.message})}})).apply(this,arguments)}function dx(t,e){return Wm.apply(this,arguments)}function Wm(){return(Wm=g(function*(t,e){try{const r=(yield lx()).transaction(lu,"readwrite");return yield r.objectStore(lu).put(e,hx(t)),r.complete}catch(n){throw ri.create("storage-set",{originalErrorMessage:n.message})}})).apply(this,arguments)}function hx(t){return`${t.name}!${t.options.appId}`}class Gz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Wz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=fx();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=fx(),{heartbeatsToSend:r,unsentEntries:i}=function qz(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),px(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),px(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=sd(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function fx(){return(new Date).toISOString().substring(0,10)}class Wz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Vi()&&su().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function jz(t){return qm.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return dx(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return dx(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function px(t){return sd(JSON.stringify({version:2,heartbeats:t})).length}!function zz(t){Wt(new Rt("platform-logger",e=>new az(e),"PRIVATE")),Wt(new Rt("heartbeat",e=>new Gz(e),"PRIVATE")),Re(Bm,"0.7.21",t),Re(Bm,"0.7.21","esm2017"),Re("fire-js","")}(""),Re("firebase","9.6.11","app");const gx="@firebase/installations",yx="w:0.5.8",_x="FIS_v2",Mr=new lr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function vx(t){return t instanceof cr&&t.code.includes("request-failed")}function Km({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function wx(t){return{token:t.token,requestStatus:2,expiresIn:t4(t.expiresIn),creationTime:Date.now()}}function Ym(t,e){return Qm.apply(this,arguments)}function Qm(){return(Qm=g(function*(t,e){const r=(yield e.json()).error;return Mr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Ex({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ix(t,{refreshToken:e}){const n=Ex(t);return n.append("Authorization",function n4(t){return`${_x} ${t}`}(e)),n}function Jm(t){return Xm.apply(this,arguments)}function Xm(){return(Xm=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function t4(t){return Number(t.replace("s","000"))}function r4(t,e){return Zm.apply(this,arguments)}function Zm(){return(Zm=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Km(t),i=Ex(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:_x,appId:t.appId,sdkVersion:yx})},u=yield Jm(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:wx(c.authToken)}}throw yield Ym("Create Installation",u)})).apply(this,arguments)}function Dx(t){return new Promise(e=>{setTimeout(e,t)})}const s4=/^[cdef][\w-]{21}$/;function o4(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function a4(t){return function i4(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return s4.test(n)?n:""}catch(t){return""}}function Co(t){return`${t.appName}!${t.appId}`}const To=new Map;function bx(t,e){const n=Co(t);Cx(n,e),function l4(t,e){const n=function Tx(){return!ji&&"BroadcastChannel"in self&&(ji=new BroadcastChannel("[Firebase] FID Change"),ji.onmessage=t=>{Cx(t.data.key,t.data.fid)}),ji}();n&&n.postMessage({key:t,fid:e}),function Ax(){0===To.size&&ji&&(ji.close(),ji=null)}()}(n,e)}function Cx(t,e){const n=To.get(t);if(n)for(const r of n)r(e)}let ji=null;const $i="firebase-installations-store";let ty=null;function ny(){return ty||(ty=cd("firebase-installations-database",1,(t,e)=>{0===e&&t.createObjectStore($i)})),ty}function dd(t,e){return ry.apply(this,arguments)}function ry(){return(ry=g(function*(t,e){const n=Co(t),i=(yield ny()).transaction($i,"readwrite"),s=i.objectStore($i),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&bx(t,e.fid),e})).apply(this,arguments)}function iy(t){return sy.apply(this,arguments)}function sy(){return(sy=g(function*(t){const e=Co(t),r=(yield ny()).transaction($i,"readwrite");yield r.objectStore($i).delete(e),yield r.complete})).apply(this,arguments)}function du(t,e){return oy.apply(this,arguments)}function oy(){return(oy=g(function*(t,e){const n=Co(t),i=(yield ny()).transaction($i,"readwrite"),s=i.objectStore($i),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&bx(t,a.fid),a})).apply(this,arguments)}function ay(t){return uy.apply(this,arguments)}function uy(){return(uy=g(function*(t){let e;const n=yield du(t.appConfig,r=>{const i=f4(r),s=p4(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function f4(t){return Mx(t||{fid:o4(),registrationStatus:0})}function p4(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Mr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function g4(t,e){return cy.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:m4(t)}:{installationEntry:e}}function cy(){return(cy=g(function*(t,e){try{const n=yield r4(t,e);return dd(t.appConfig,n)}catch(n){throw vx(n)&&409===n.customData.serverCode?yield iy(t.appConfig):yield dd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function m4(t){return ly.apply(this,arguments)}function ly(){return(ly=g(function*(t){let e=yield Sx(t.appConfig);for(;1===e.registrationStatus;)yield Dx(100),e=yield Sx(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield ay(t);return r||n}return e})).apply(this,arguments)}function Sx(t){return du(t,e=>{if(!e)throw Mr.create("installation-not-found");return Mx(e)})}function Mx(t){return function y4(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function _4(t,e){return dy.apply(this,arguments)}function dy(){return(dy=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=v4(t,n),i=Ix(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:yx,appId:t.appId}})},u=yield Jm(()=>fetch(r,a));if(u.ok)return wx(yield u.json());throw yield Ym("Generate Auth Token",u)})).apply(this,arguments)}function v4(t,{fid:e}){return`${Km(t)}/${e}/authTokens:generate`}function hy(t){return fy.apply(this,arguments)}function fy(){return(fy=g(function*(t,e=!1){let n;const r=yield du(t.appConfig,s=>{if(!Nx(s))throw Mr.create("not-registered");const o=s.authToken;if(!e&&I4(o))return s;if(1===o.requestStatus)return n=w4(t,e),s;{if(!navigator.onLine)throw Mr.create("app-offline");const a=b4(s);return n=E4(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function w4(t,e){return py.apply(this,arguments)}function py(){return(py=g(function*(t,e){let n=yield xx(t.appConfig);for(;1===n.authToken.requestStatus;)yield Dx(100),n=yield xx(t.appConfig);const r=n.authToken;return 0===r.requestStatus?hy(t,e):r})).apply(this,arguments)}function xx(t){return du(t,e=>{if(!Nx(e))throw Mr.create("not-registered");return function C4(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function E4(t,e){return gy.apply(this,arguments)}function gy(){return(gy=g(function*(t,e){try{const n=yield _4(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield dd(t.appConfig,r),n}catch(n){if(!vx(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield dd(t.appConfig,r)}else yield iy(t.appConfig);throw n}})).apply(this,arguments)}function Nx(t){return void 0!==t&&2===t.registrationStatus}function I4(t){return 2===t.requestStatus&&!function D4(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function b4(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function my(){return(my=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield ay(e);return r?r.catch(console.error):hy(e).catch(console.error),n.fid})).apply(this,arguments)}function yy(){return(yy=g(function*(t,e=!1){const n=t;return yield S4(n),(yield hy(n,e)).token})).apply(this,arguments)}function S4(t){return _y.apply(this,arguments)}function _y(){return(_y=g(function*(t){const{registrationPromise:e}=yield ay(t);e&&(yield e)})).apply(this,arguments)}function Ey(t){return Mr.create("missing-app-config-values",{valueName:t})}const kx="installations",R4=t=>{const e=t.getProvider("app").getImmediate(),n=function N4(t){if(!t||!t.options)throw Ey("App Configuration");if(!t.name)throw Ey("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ey(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Do(e,"heartbeat"),_delete:()=>Promise.resolve()}},P4=t=>{const n=Do(t.getProvider("app").getImmediate(),kx).getImmediate();return{getId:()=>function T4(t){return my.apply(this,arguments)}(n),getToken:i=>function A4(t){return yy.apply(this,arguments)}(n,i)}};(function O4(){Wt(new Rt(kx,R4,"PUBLIC")),Wt(new Rt("installations-internal",P4,"PRIVATE"))})(),Re(gx,"0.5.8"),Re(gx,"0.5.8","esm2017");const Iy="@firebase/remote-config",nn=new lr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class W4{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function z4(t=navigator){return t.languages&&t.languages[0]||t.language}class K4{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:z4()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((E,y)=>{e.signal.addEventListener(()=>{const C=new Error("The operation was aborted.");C.name="AbortError",y(C)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(E){let y="fetch-client-network";throw"AbortError"===E.name&&(y="fetch-timeout"),nn.create(y,{originalErrorMessage:E.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,_;if(200===h.status){let E;try{E=yield h.json()}catch(y){throw nn.create("fetch-client-parse",{originalErrorMessage:y.message})}m=E.entries,_=E.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(m={}),304!==f&&200!==f)throw nn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class J4{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function Y4(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Q4(t){if(!(t instanceof cr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Om(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class e8{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fd(t,e){const n=t.target.error||void 0;return nn.create(e,{originalErrorMessage:n&&n.message})}const Hi="app_namespace_store";class i8{constructor(e,n,r,i=function r8(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(fd(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Hi,{keyPath:"compositeKey"})}}catch(n){e(nn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Hi],"readonly").objectStore(Hi),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(fd(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(nn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Hi],"readwrite").objectStore(Hi),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(fd(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(nn.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Hi],"readwrite").objectStore(Hi),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(fd(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(nn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class s8{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function a8(){return Ay.apply(this,arguments)}function Ay(){return(Ay=g(function*(){if(!Vi())return!1;try{return yield su()}catch(t){return!1}})).apply(this,arguments)}!function o8(){Wt(new Rt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw nn.create("registration-window");if(!Vi())throw nn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw nn.create("registration-project-id");if(!o)throw nn.create("registration-api-key");if(!a)throw nn.create("registration-app-id");const u=new i8(a,r.name,n=n||"firebase"),c=new s8(u),l=new Io(Iy);l.logLevel=ne.ERROR;const d=new K4(i,bo,n,s,o,a),h=new J4(d,u),f=new W4(h,u,c,l),p=new e8(r,f,c,u,l);return function H4(t){const e=qt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Re(Iy,"0.3.7"),Re(Iy,"0.3.7","esm2017")}();const u8="/firebase-messaging-sw.js",c8="/firebase-cloud-messaging-push-scope",Fx="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Lx="google.c.a.c_id",d8="google.c.a.c_l",h8="google.c.a.ts",f8="google.c.a.e";var Ao=(()=>{return(t=Ao||(Ao={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Ao;var t})();function xr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function p8(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Sy="fcm_token_details_db",Vx="fcm_token_object_Store";function m8(t){return My.apply(this,arguments)}function My(){return My=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Sy))return null;let e=null;return(yield cd(Sy,5,function(){var r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(Vx))return;const c=a.objectStore(Vx),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:xr(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:xr(d.auth),p256dh:xr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:xr(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:xr(d.auth),p256dh:xr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:xr(d.vapidKey)}}}});return function(i,s,o,a){return r.apply(this,arguments)}}())).close(),yield Fm(Sy),yield Fm("fcm_vapid_details_db"),yield Fm("undefined"),y8(e)?e:null}),My.apply(this,arguments)}function y8(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Gi="firebase-messaging-store";let xy=null;function Ny(){return xy||(xy=cd("firebase-messaging-database",1,(t,e)=>{0===e&&t.createObjectStore(Gi)})),xy}function Bx(t){return ky.apply(this,arguments)}function ky(){return(ky=g(function*(t){const e=Fy(t),r=yield(yield Ny()).transaction(Gi).objectStore(Gi).get(e);if(r)return r;{const i=yield m8(t.appConfig.senderId);if(i)return yield Ry(t,i),i}})).apply(this,arguments)}function Ry(t,e){return Py.apply(this,arguments)}function Py(){return(Py=g(function*(t,e){const n=Fy(t),i=(yield Ny()).transaction(Gi,"readwrite");return yield i.objectStore(Gi).put(e,n),yield i.complete,e})).apply(this,arguments)}function w8(t){return Oy.apply(this,arguments)}function Oy(){return(Oy=g(function*(t){const e=Fy(t),r=(yield Ny()).transaction(Gi,"readwrite");yield r.objectStore(Gi).delete(e),yield r.complete})).apply(this,arguments)}function Fy({appConfig:t}){return t.appId}const yt=new lr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function I8(t,e){return Ly.apply(this,arguments)}function Ly(){return(Ly=g(function*(t,e){const n=yield jy(t),r=jx(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Uy(t.appConfig),i)).json()}catch(o){throw yt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw yt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw yt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function D8(t,e){return Vy.apply(this,arguments)}function Vy(){return(Vy=g(function*(t,e){const n=yield jy(t),r=jx(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Uy(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw yt.create("token-update-failed",{errorInfo:o})}if(s.error)throw yt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw yt.create("token-update-no-token");return s.token})).apply(this,arguments)}function Ux(t,e){return By.apply(this,arguments)}function By(){return(By=g(function*(t,e){const r={method:"DELETE",headers:yield jy(t)};try{const s=yield(yield fetch(`${Uy(t.appConfig)}/${e}`,r)).json();if(s.error)throw yt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw yt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function Uy({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function jy(t){return $y.apply(this,arguments)}function $y(){return($y=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function jx({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Fx&&(i.web.applicationPubKey=r),i}const b8=6048e5;function C8(t){return Hy.apply(this,arguments)}function Hy(){return(Hy=g(function*(t){const e=yield A8(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:xr(e.getKey("auth")),p256dh:xr(e.getKey("p256dh"))},r=yield Bx(t.firebaseDependencies);if(r){if(S8(r.subscriptionOptions,n))return Date.now()>=r.createTime+b8?T8(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield Ux(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Hx(t.firebaseDependencies,n)}return Hx(t.firebaseDependencies,n)})).apply(this,arguments)}function $x(t){return Gy.apply(this,arguments)}function Gy(){return(Gy=g(function*(t){const e=yield Bx(t.firebaseDependencies);e&&(yield Ux(t.firebaseDependencies,e.token),yield w8(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function T8(t,e){return qy.apply(this,arguments)}function qy(){return(qy=g(function*(t,e){try{const n=yield D8(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Ry(t.firebaseDependencies,r),n}catch(n){throw yield $x(t),n}})).apply(this,arguments)}function Hx(t,e){return Wy.apply(this,arguments)}function Wy(){return(Wy=g(function*(t,e){const r={token:yield I8(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Ry(t,r),r.token})).apply(this,arguments)}function A8(t,e){return zy.apply(this,arguments)}function zy(){return(zy=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:p8(e)})})).apply(this,arguments)}function S8(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function Gx(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function M8(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function x8(t,e){!e.data||(t.data=e.data)}(e,t),function N8(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function k8(t){return"object"==typeof t&&!!t&&Lx in t}function qx(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Ky(t){return yt.create("missing-app-config-values",{valueName:t})}qx("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qx("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class P8{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function R8(t){if(!t||!t.options)throw Ky("App Configuration Object");if(!t.name)throw Ky("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Ky(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Wx(t){return Yy.apply(this,arguments)}function Yy(){return(Yy=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(u8,{scope:c8}),t.swRegistration.update().catch(()=>{})}catch(e){throw yt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function O8(t,e){return Qy.apply(this,arguments)}function Qy(){return(Qy=g(function*(t,e){if(!e&&!t.swRegistration&&(yield Wx(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw yt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function F8(t,e){return Jy.apply(this,arguments)}function Jy(){return(Jy=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Fx)})).apply(this,arguments)}function Xy(){return(Xy=g(function*(t,e){if(!navigator)throw yt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yt.create("permission-blocked");return yield F8(t,null==e?void 0:e.vapidKey),yield O8(t,null==e?void 0:e.serviceWorkerRegistration),C8(t)})).apply(this,arguments)}function L8(t,e,n){return Zy.apply(this,arguments)}function Zy(){return(Zy=g(function*(t,e,n){const r=V8(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Lx],message_name:n[d8],message_time:n[h8],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function V8(t){switch(t){case Ao.NOTIFICATION_CLICKED:return"notification_open";case Ao.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function e_(){return(e_=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Ao.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(Gx(n)):t.onMessageHandler.next(Gx(n)));const r=n.data;k8(r)&&"1"===r[f8]&&(yield L8(t,n.messageType,r))})).apply(this,arguments)}const Kx="@firebase/messaging",U8=t=>{const e=new P8(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function B8(t,e){return e_.apply(this,arguments)}(e,n)),e},j8=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function zx(t,e){return Xy.apply(this,arguments)}(e,r)}};function Qx(){return t_.apply(this,arguments)}function t_(){return(t_=g(function*(){try{yield su()}catch(t){return!1}return"undefined"!=typeof window&&Vi()&&km()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $8(){Wt(new Rt("messaging",U8,"PUBLIC")),Wt(new Rt("messaging-internal",j8,"PRIVATE")),Re(Kx,"0.9.12"),Re(Kx,"0.9.12","esm2017")}();const pd="analytics",q8="firebase_id",K8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jx="https://www.googletagmanager.com/gtag/js",_t=new Io("@firebase/analytics");function Xx(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Y8(t,e){const n=document.createElement("script");n.src=`${Jx}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function J8(t,e,n,r,i,s){return i_.apply(this,arguments)}function i_(){return(i_=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield Xx(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){_t.error(a)}t("config",i,s)})).apply(this,arguments)}function X8(t,e,n,r,i){return s_.apply(this,arguments)}function s_(){return(s_=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield Xx(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){_t.error(s)}})).apply(this,arguments)}function t6(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Jx))return e;return null}const pn=new lr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Zx=new class s6{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function o6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function a6(t){return o_.apply(this,arguments)}function o_(){return(o_=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:o6(r)},s=K8.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw pn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function u6(t){return a_.apply(this,arguments)}function a_(){return(a_=g(function*(t,e=Zx,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw pn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw pn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new d6;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:6e4),e1({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function e1(t,e,n){return u_.apply(this,arguments)}function u_(){return(u_=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Zx){const{appId:s,measurementId:o}=t;try{yield c6(r,e)}catch(a){if(o)return _t.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield a6(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!l6(a)){if(i.deleteThrottleMetadata(s),o)return _t.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?Om(n,i.intervalMillis,30):Om(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),_t.debug(`Calling attemptFetch again in ${u} millis`),e1(t,c,r,i)}})).apply(this,arguments)}function c6(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function l6(t){if(!(t instanceof cr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class d6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function h6(){return c_.apply(this,arguments)}function c_(){return(c_=g(function*(){if(!Vi())return _t.warn(pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield su()}catch(t){return _t.warn(pn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function l_(){return(l_=g(function*(t,e,n,r,i,s,o){var a;const u=u6(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&_t.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>_t.error(f)),e.push(u);const c=h6().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);t6()||Y8(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[q8]=d),i("config",l.measurementId,h),l.measurementId})).apply(this,arguments)}class p6{constructor(e){this.app=e}_delete(){return delete Nr[this.app.options.appId],Promise.resolve()}}let Nr={},t1=[];const n1={};let i1,hu,gd="dataLayer",d_=!1;function m6(t,e,n){!function g6(){const t=[];if(od()&&t.push("This is a browser extension environment."),km()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=pn.create("invalid-analytics-context",{errorInfo:e});_t.warn(n.message)}}();const r=t.options.appId;if(!r)throw pn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw pn.create("no-api-key");_t.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Nr[r])throw pn.create("already-exists",{id:r});if(!d_){!function Q8(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(gd);const{wrappedGtag:s,gtagCore:o}=function e6(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Z8(t,e,n,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield X8(t,e,n,a,u):"config"===o?yield J8(t,e,n,r,a,u):t("set",a)}catch(c){_t.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Nr,t1,n1,gd,"gtag");hu=s,i1=o,d_=!0}return Nr[r]=function f6(t,e,n,r,i,s,o){return l_.apply(this,arguments)}(t,t1,n1,e,i1,gd,n),new p6(t)}function h_(){return(h_=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function D6(){return y_.apply(this,arguments)}function y_(){return(y_=g(function*(){if(od()||!km()||!Vi())return!1;try{return yield su()}catch(t){return!1}})).apply(this,arguments)}const s1="@firebase/analytics";!function C6(){Wt(new Rt(pd,(e,{options:n})=>m6(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Wt(new Rt("analytics-internal",function t(e){try{const n=e.getProvider(pd).getImmediate();return{logEvent:(r,i,s)=>function b6(t,e,n,r){t=qt(t),function y6(t,e,n,r,i){return h_.apply(this,arguments)}(hu,Nr[t.app.options.appId],e,n,r).catch(i=>_t.error(i))}(n,r,i,s)}}catch(n){throw pn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Re(s1,"0.7.8"),Re(s1,"0.7.8","esm2017")}();class T6 extends kn{constructor(e,n){super()}schedule(e,n=0){return this}}const md={setInterval(t,e,...n){const{delegate:r}=md;return(null==r?void 0:r.setInterval)?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=md;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class a1 extends T6{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return md.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;md.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,As(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}class fu{constructor(e,n=fu.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}fu.now=Tm.now;class u1 extends fu{constructor(e,n=fu.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const M6=new class S6 extends u1{}(class A6 extends a1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),x6=new u1(a1),yd=new yo("7.3.0"),__="__angularfire_symbol__analyticsIsSupportedValue",v_="__angularfire_symbol__analyticsIsSupported",w_="__angularfire_symbol__remoteConfigIsSupportedValue",E_="__angularfire_symbol__remoteConfigIsSupported",I_="__angularfire_symbol__messagingIsSupportedValue",D_="__angularfire_symbol__messagingIsSupported";function C_(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[v_]||(globalThis[v_]=D6().then(t=>globalThis[__]=t).catch(()=>globalThis[__]=!1)),globalThis[D_]||(globalThis[D_]=Qx().then(t=>globalThis[I_]=t).catch(()=>globalThis[I_]=!1)),globalThis[E_]||(globalThis[E_]=a8().then(t=>globalThis[w_]=t).catch(()=>globalThis[w_]=!1));const T_=(t,e)=>{const n=e?[e]:cx(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function So(){}class c1{constructor(e,n=M6){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class k6{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",So,{},So,So)),n.pipe(function N6(t,e,n){const r=be(t)||e||n?{next:t,error:e,complete:n}:t;return r?Hr((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(_r(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):yf}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let A_=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new c1(Zone.current)),this.insideAngular=n.run(()=>new c1(Zone.current,x6)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(oe(tt))},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function qi(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function R6(t){return qi().ngZone.runOutsideAngular(()=>t())}function Wi(t){return qi().ngZone.run(()=>t())}function P6(t){return qi(),function O6(t){return function(n){return(n=n.lift(new k6(t.ngZone))).pipe(Lc(t.outsideAngular),Fc(t.insideAngular))}}(qi())(t)}const F6=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Wi(()=>t.apply(void 0,r))},dr=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Wi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",So,{},So,So)))),r[s]=F6(r[s],n));const i=R6(()=>t.apply(this,r));if(!e){if(i instanceof Qe){const s=qi();return i.pipe(Lc(s.outsideAngular),Fc(s.insideAngular))}return Wi(()=>i)}return i instanceof Qe?i.pipe(P6):i instanceof Promise?Wi(()=>new Promise((s,o)=>i.then(a=>Wi(()=>s(a)),a=>Wi(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Wi(()=>i)};class Mo{constructor(e){return e}}class S_{constructor(){return cx()}}const M_=new X("angularfire2._apps"),V6={provide:Mo,useFactory:function L6(t){return t&&1===t.length?t[0]:new Mo($m())},deps:[[new jt,M_]]},B6={provide:S_,deps:[[new jt,M_]]};function U6(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Mo(r)}}let j6=(()=>{class t{constructor(n){Re("angularfire",yd.full,"core"),Re("angularfire",yd.full,"app"),Re("angular",gS.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(oe(Za))},t.\u0275mod=Pn({type:t}),t.\u0275inj=vn({providers:[V6,B6]}),t})();function $6(t,...e){return{ngModule:j6,providers:[{provide:M_,useFactory:U6(t),multi:!0,deps:[tt,mt,A_,...e]}]}}const H6=dr(Vz,!0),l1=new Map,G6={activated:!1,tokenObservers:[]},q6={initialized:!1,enabled:!1};function ct(t){return l1.get(t)||G6}function Kn(t,e){l1.set(t,e)}function _d(){return q6}class Q6{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new Nm,yield function J6(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Nm,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const zt=new lr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function h1(t){if(!ct(t).activated)throw zt.create("use-before-activation",{appName:t.name})}function k_(t,e){return R_.apply(this,arguments)}function R_(){return(R_=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw zt.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw zt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw zt.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw zt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function n5(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const pu="firebase-app-check-store";let Ed=null;function p1(){return Ed||(Ed=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(zt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(pu,{keyPath:"compositeKey"})}}catch(n){e(zt.create("storage-open",{originalErrorMessage:n.message}))}}),Ed)}function P_(){return(P_=g(function*(t,e){const r=(yield p1()).transaction(pu,"readwrite"),s=r.objectStore(pu).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(zt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const gu=new Io("@firebase/app-check");function _1(t,e){return Vi()?function o5(t,e){return function g1(t,e){return P_.apply(this,arguments)}(function y1(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{gu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function v1(){return _d().enabled}function w1(){return V_.apply(this,arguments)}function V_(){return(V_=g(function*(){const t=_d();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const h5={error:"UNKNOWN_ERROR"};function f5(t){return Mm.encodeString(JSON.stringify(t),!1)}function Id(t){return B_.apply(this,arguments)}function B_(){return(B_=g(function*(t,e=!1){const n=t.app;h1(n);const r=ct(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&Dd(u)&&(i=u)}if(!e&&i&&Dd(i))return{token:i.token};let a,o=!1;if(v1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=k_(n5(n,yield w1()),t.heartbeatServiceProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield _1(n,u),Kn(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?gu.warn(u.message):gu.error(u),s=u}return i?(a={token:i.token},Kn(n,Object.assign(Object.assign({},r),{token:i})),yield _1(n,i)):a=g5(s),o&&I1(n,a),a})).apply(this,arguments)}function j_(t,e){const n=ct(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Kn(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function E1(t){const{app:e}=t,n=ct(e);let r=n.tokenRefresher;r||(r=function p5(t){const{app:e}=t;return new Q6(g(function*(){let r;if(r=ct(e).token?yield Id(t,!0):yield Id(t),r.error)throw r.error}),()=>!0,()=>{const n=ct(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),Kn(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function I1(t,e){const n=ct(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Dd(t){return t.expireTimeMillis-Date.now()>0}function g5(t){return{token:f5(h5),error:t}}class m5{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=ct(this.app);for(const n of e)j_(this.app,n.next);return Promise.resolve()}}const x1="app-check-internal";!function x5(){Wt(new Rt("app-check",t=>function y5(t,e){return new m5(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(x1).initialize()})),Wt(new Rt(x1,t=>function _5(t){return{getToken:e=>Id(t,e),addTokenListener:e=>function U_(t,e,n,r){const{app:i}=t,s=ct(i),o={next:n,error:r,type:e};if(Kn(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Dd(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),E1(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>E1(t))}(t,"INTERNAL",e),removeTokenListener:e=>j_(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Re("@firebase/app-check","0.5.6")}();class q_{constructor(){return T_("app-check")}}"undefined"!=typeof window&&window;const O5=function k1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},R1=new lr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),P1=new Io("@firebase/auth");function Cd(t,...e){P1.logLevel<=ne.ERROR&&P1.error(`Auth (${bo}): ${t}`,...e)}function rn(t,...e){throw z_(t,...e)}function gn(t,...e){return z_(t,...e)}function O1(t,e,n){const r=Object.assign(Object.assign({},O5()),{[e]:n});return new lr("auth","Firebase",r).create(e,{appName:t.name})}function xo(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&rn(t,"argument-error"),O1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function z_(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return R1.create(t,...e)}function A(t,e,...n){if(!t)throw z_(e,...n)}function hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cd(e),new Error(e)}function kr(t,e){t||hr(e)}const F1=new Map;function Rr(t){kr(t instanceof Function,"Expected a class definition");let e=F1.get(t);return e?(kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F1.set(t,e),e)}function mu(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function L1(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,kr(n>e,"Short delay should be less than long delay!"),this.isMobile=XM()||ZM()}get(){return function V5(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function K_(){return"http:"===L1()||"https:"===L1()}()||od()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Y_(t,e){kr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class V1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const U5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},j5=new yu(3e4,6e4);function rt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function lt(t,e,n,r){return Q_.apply(this,arguments)}function Q_(){return(Q_=g(function*(t,e,n,r,i={}){return B1(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=ou(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),V1.fetch()(U1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function B1(t,e,n){return J_.apply(this,arguments)}function J_(){return(J_=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},U5),e);try{const i=new $5(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Td(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Td(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Td(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw O1(t,l,c);rn(t,l)}}catch(i){if(i instanceof cr)throw i;rn(t,"network-request-failed")}})).apply(this,arguments)}function Pr(t,e,n,r){return X_.apply(this,arguments)}function X_(){return(X_=g(function*(t,e,n,r,i={}){const s=yield lt(t,e,n,r,i);return"mfaPendingCredential"in s&&rn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function U1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Y_(t.config,i):`${t.config.apiScheme}://${i}`}class $5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gn(this.auth,"network-request-failed")),j5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Td(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gn(t,e,r);return i.customData._tokenResponse=n,i}function Z_(){return(Z_=g(function*(t,e){return lt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function q5(t,e){return tv.apply(this,arguments)}function tv(){return(tv=g(function*(t,e){return lt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function _u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function nv(){return(nv=g(function*(t,e=!1){const n=qt(t),r=yield n.getIdToken(e),i=Ad(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_u(rv(i.auth_time)),issuedAtTime:_u(rv(i.iat)),expirationTime:_u(rv(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function rv(t){return 1e3*Number(t)}function Ad(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Cd("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return Mm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(Cd("Failed to decode base64 JWT payload"),null)}catch(i){return Cd("Caught error parsing JWT payload as JSON",i),null}}function Or(t,e){return iv.apply(this,arguments)}function iv(){return(iv=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof cr&&K5(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function K5({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class Y5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class j1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function vu(t){return sv.apply(this,arguments)}function sv(){return(sv=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Or(t,q5(n,{idToken:r}));A(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?X5(s.providerUserInfo):[],a=J5(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new j1(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function ov(){return(ov=g(function*(t){const e=qt(t);yield vu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function J5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function X5(t){return t.map(e=>{var{providerId:n}=e,r=vf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function av(){return(av=g(function*(t,e){const n=yield B1(t,{},g(function*(){const r=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=U1(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",V1.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class wu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(void 0!==e.idToken,"internal-error"),A(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function z5(t){const e=Ad(t);return A(e,"internal-error"),A(void 0!==e.exp,"internal-error"),A(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Z5(t,e){return av.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new wu;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wu,this.toJSON())}_performRefresh(){return hr("not implemented")}}function ii(t,e){A("string"==typeof t||void 0===t,"internal-error",{appName:e})}class zi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=vf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new j1(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Or(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function W5(t){return nv.apply(this,arguments)}(this,e)}reload(){return function Q5(t){return ov.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new zi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield vu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Or(e,function H5(t,e){return Z_.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,E=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:C,emailVerified:P,isAnonymous:O,providerData:Q,stsTokenManager:De}=n;A(C&&De,e,"internal-error");const _n=wu.fromJSON(this.name,De);A("string"==typeof C,e,"internal-error"),ii(d,e.name),ii(h,e.name),A("boolean"==typeof P,e,"internal-error"),A("boolean"==typeof O,e,"internal-error"),ii(f,e.name),ii(p,e.name),ii(m,e.name),ii(_,e.name),ii(E,e.name),ii(y,e.name);const Ts=new zi({uid:C,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:_n,createdAt:E,lastLoginAt:y});return Q&&Array.isArray(Q)&&(Ts.providerData=Q.map(Sc=>Object.assign({},Sc))),_&&(Ts._redirectEventId=_),Ts}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new wu;i.updateFromServerResponse(n);const s=new zi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield vu(s),s})()}}const $1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Sd(t,e,n){return`firebase:${t}:${e}:${n}`}class No{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Sd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?zi._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new No(Rr($1),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Rr($1);const o=Sd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=zi._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new No(s,e,r)):new No(s,e,r)})()}}function H1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(W1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(G1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(K1(e))return"Blackberry";if(Y1(e))return"Webos";if(uv(e))return"Safari";if((e.includes("chrome/")||q1(e))&&!e.includes("edge/"))return"Chrome";if(z1(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function G1(t=ut()){return/firefox\//i.test(t)}function uv(t=ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q1(t=ut()){return/crios\//i.test(t)}function W1(t=ut()){return/iemobile/i.test(t)}function z1(t=ut()){return/android/i.test(t)}function K1(t=ut()){return/blackberry/i.test(t)}function Y1(t=ut()){return/webos/i.test(t)}function Md(t=ut()){return/iphone|ipad|ipod/i.test(t)}function Q1(t=ut()){return Md(t)||z1(t)||Y1(t)||K1(t)||/windows phone/i.test(t)||W1(t)}function J1(t,e=[]){let n;switch(t){case"Browser":n=H1(ut());break;case"Worker":n=`${H1(ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${r}`}class r7{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X1(this),this.idTokenSubscription=new X1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield No.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield vu(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function B5(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?qt(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return g(function*(){if(!n._deleted)return e&&A(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(g(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Rr(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Rr(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield No.create(n,[Rr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=J1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function sn(t){return qt(t)}class X1{constructor(e){this.auth=e,this.observer=null,this.addObserver=function WW(t,e){const n=new zW(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class cv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,n){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}function dv(){return(dv=g(function*(t,e){return lt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function fv(){return(fv=g(function*(t,e){return Pr(t,"POST","/v1/accounts:signInWithPassword",rt(t,e))})).apply(this,arguments)}function vv(){return(vv=g(function*(t,e){return Pr(t,"POST","/v1/accounts:signInWithEmailLink",rt(t,e))})).apply(this,arguments)}function wv(){return(wv=g(function*(t,e){return Pr(t,"POST","/v1/accounts:signInWithEmailLink",rt(t,e))})).apply(this,arguments)}class Eu extends cv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Eu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Eu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if((null==n?void 0:n.email)&&(null==n?void 0:n.password)){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){switch(n.signInMethod){case"password":return function a7(t,e){return fv.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function h7(t,e){return vv.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:rn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return function nN(t,e){return dv.apply(this,arguments)}(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function f7(t,e){return wv.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:rn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Fr(t,e){return Ev.apply(this,arguments)}function Ev(){return(Ev=g(function*(t,e){return Pr(t,"POST","/v1/accounts:signInWithIdp",rt(t,e))})).apply(this,arguments)}class ko extends cv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=vf(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ko(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Fr(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fr(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ou(n)}return e}}class Du{constructor(e){var n,r,i,s,o,a;const u=au(uu(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function w7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);A(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function E7(t){const e=au(uu(t)).link,n=e?au(uu(e)).deep_link_id:null,r=au(uu(t)).deep_link_id;return(r?au(uu(r)).link:null)||r||n||e||t}(e);try{return new Du(n)}catch(r){return null}}}let rN=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Eu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Du.parseLink(r);return A(i,"argument-error"),Eu._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class si{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iN extends si{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let I7=(()=>{class t extends iN{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return ko._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch(s){return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();function sN(t,e){return Av.apply(this,arguments)}function Av(){return(Av=g(function*(t,e){return Pr(t,"POST","/v1/accounts:signUp",rt(t,e))})).apply(this,arguments)}class Mn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield zi._fromIdTokenResponse(e,r,i),o=oN(r);return new Mn({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=oN(r);return new Mn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function oN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class kd extends cr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kd.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kd(e,n,r,i)}}function aN(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?kd._fromErrorAndOperation(t,s,e,r):s})}function xv(t,e){return Nv.apply(this,arguments)}function Nv(){return(Nv=g(function*(t,e,n=!1){const r=yield Or(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Mn._forOperation(t,"link",r)})).apply(this,arguments)}function Rv(){return(Rv=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Or(t,aN(r,i,e,t),n);A(s.idToken,r,"internal-error");const o=Ad(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(t.uid===a,r,"user-mismatch"),Mn._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&rn(r,"user-mismatch"),s}})).apply(this,arguments)}function lN(t,e){return Pv.apply(this,arguments)}function Pv(){return(Pv=g(function*(t,e,n=!1){const r="signIn",i=yield aN(t,r,e),s=yield Mn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Fv(){return(Fv=g(function*(t,e){return lN(sn(t),e)})).apply(this,arguments)}function Kv(){return(Kv=g(function*(t,e,n){const r=sn(t),i=yield sN(r,{returnSecureToken:!0,email:e,password:n}),s=yield Mn._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function x7(t,e,n){return function Ov(t,e){return Fv.apply(this,arguments)}(qt(t),rN.credential(e,n))}function k7(t,e){return tw.apply(this,arguments)}function tw(){return(tw=g(function*(t,e){return lt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function R7(t,e){return nw.apply(this,arguments)}function nw(){return(nw=g(function*(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const r=qt(t),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=yield Or(r,k7(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>"password"===u);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function U7(t){return qt(t).signOut()}const Od="__sak";class hN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Od,"1"),this.storage.removeItem(Od),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const z7=(()=>{class t extends hN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function G7(){const t=ut();return uv(t)||Md(t)}()&&function n7(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=Q1(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function t7(){return ex()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),fN=(()=>{class t extends hN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Y7=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function K7(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Fd(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Q7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=Fd("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function it(){return window}function cw(){return void 0!==it().WorkerGlobalScope&&"function"==typeof it().importScripts}function lw(){return(lw=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const pN="firebaseLocalStorageDb",Ld="firebaseLocalStorage",gN="fbase_key";class Cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vd(t,e){return t.transaction([Ld],e?"readwrite":"readonly").objectStore(Ld)}function dw(){const t=indexedDB.open(pN,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ld,{keyPath:gN})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Ld)?e(r):(r.close(),yield function nK(){const t=indexedDB.deleteDatabase(pN);return new Cu(t).toPromise()}(),e(yield dw()))}))})}function mN(t,e,n){return hw.apply(this,arguments)}function hw(){return(hw=g(function*(t,e,n){const r=Vd(t,!0).put({[gN]:e,value:n});return new Cu(r).toPromise()})).apply(this,arguments)}function fw(){return(fw=g(function*(t,e){const n=Vd(t,!1).get(e),r=yield new Cu(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function yN(t,e){const n=Vd(t,!0).delete(e);return new Cu(n).toPromise()}const oK=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield dw()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return cw()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=Y7._getInstance(function eK(){return cw()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function X7(){return lw.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Q7(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Z7(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield dw();return yield mN(n,Od,"1"),yield yN(n,Od),!0}catch(n){}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>mN(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function rK(t,e){return fw.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>yN(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=Vd(o,!1).getAll();return new Cu(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function vN(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Yi(t,e){return e?Rr(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}vN("rcb"),new yu(3e4,6e4);class Dw extends cv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DK(t){return lN(t.auth,new Dw(t),t.bypassAuthState)}function bK(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function cN(t,e){return Rv.apply(this,arguments)}(n,new Dw(t),t.bypassAuthState)}function CK(t){return bw.apply(this,arguments)}function bw(){return(bw=g(function*(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),xv(n,new Dw(t),t.bypassAuthState)})).apply(this,arguments)}class EN{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DK;case"linkViaPopup":case"linkViaRedirect":return CK;case"reauthViaPopup":case"reauthViaRedirect":return bK;default:rn(this.auth,"internal-error")}}resolve(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const TK=new yu(2e3,1e4);function AK(t,e,n){return Cw.apply(this,arguments)}function Cw(){return(Cw=g(function*(t,e,n){const r=sn(t);xo(t,e,si);const i=Yi(r,n);return new Sw(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let Sw=(()=>{class t extends EN{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return g(function*(){const r=yield n.execute();return A(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return g(function*(){kr(1===n.filter.length,"Popup operations only handle one event");const r=Fd();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(gn(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=(null===(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)||void 0===i?void 0:i.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(n,TK.get())};n()}}return t.currentPopupAction=null,t})();const Ud=new Map;class MK extends EN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Ud.get(n.auth._key());if(!r){try{const s=(yield function xK(t,e){return Mw.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Ud.set(n.auth._key(),r)}return n.bypassAuthState||Ud.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function Mw(){return(Mw=g(function*(t,e){const n=DN(e),r=IN(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function IN(t){return Rr(t._redirectPersistence)}function DN(t){return Sd("pendingRedirect",t.config.apiKey,t.name)}function bN(t,e){return Fw.apply(this,arguments)}function Fw(){return(Fw=g(function*(t,e,n=!1){const r=sn(t),i=Yi(r,e),o=yield new MK(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class OK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function FK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AN(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AN(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(gn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(TN(e))}saveEventToCache(e){this.cachedEventUids.add(TN(e)),this.lastProcessedEventTime=Date.now()}}function TN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AN({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function LK(t){return Vw.apply(this,arguments)}function Vw(){return(Vw=g(function*(t,e={}){return lt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const VK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BK=/^https?/;function Bw(){return(Bw=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield LK(t);for(const n of e)try{if(jK(n))return}catch(r){}rn(t,"unauthorized-domain")})).apply(this,arguments)}function jK(t){const e=mu(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!BK.test(n))return!1;if(VK.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const $K=new yu(3e4,6e4);function SN(){const t=it().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let jd=null;function GK(t){return jd=jd||function HK(t){return new Promise((e,n)=>{var r,i,s;function o(){SN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SN(),n(gn(t,"network-request-failed"))},timeout:$K.get()})}if(null===(i=null===(r=it().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=it().gapi)||void 0===s?void 0:s.load)){const a=vN("iframefcb");return it()[a]=()=>{gapi.load?o():n(gn(t,"network-request-failed"))},function _N(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=gn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function lK(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw jd=null,e})}(t),jd}const qK=new yu(5e3,15e3),KK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QK(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Y_(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:bo},i=YK.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ou(r).slice(1)}`}function Uw(){return Uw=g(function*(t){const e=yield GK(t),n=it().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:QK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KK,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=gn(t,"network-request-failed"),u=it().setTimeout(()=>{o(a)},qK.get());function c(){it().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Uw.apply(this,arguments)}const XK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class MN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function xN(t,e,n,r,i,s){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bo,eventId:i};if(e instanceof si){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function qW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof iN){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function a9({config:t}){return t.emulator?Y_(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${ou(a).slice(1)}`}const jw="webStorageSupport",c9=class u9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fN,this._completeRedirectFn=bN}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;kr(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=xN(e,n,r,mu(),i);return function r9(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},XK),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ut().toLowerCase();n&&(a=q1(c)?"_blank":n),G1(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function e7(t=ut()){var e;return Md(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function i9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new MN(null);const d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch(h){}return new MN(d)}(e,a,Fd())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function J7(t){it().location.href=t}(xN(e,n,r,mu(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(kr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function JK(t){return Uw.apply(this,arguments)}(e),i=new OK(e);return r.register("authEvent",s=>(A(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jw,{type:jw},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[jw];void 0!==o&&n(!!o),rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function UK(t){return Bw.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Q1()||uv()||Md()}};var kN="@firebase/auth",RN="0.19.12";class l9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function f9(t=$m()){const e=Do(t,"auth");return e.isInitialized()?e.getImmediate():function F5(t,e){const n=Do(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(ud(n.getOptions(),null!=e?e:{}))return i;rn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:c9,persistence:[oK,z7,fN]})}function p9(t){return new Qe(function(e){var n=function B7(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function h9(t){Wt(new Rt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{A(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),A(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J1(t)},l=new r7(a,u,c);return function L5(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wt(new Rt("auth-internal",e=>{const n=sn(e.getProvider("auth").getImmediate());return new l9(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Re(kN,RN,function d9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Re(kN,RN,"esm2017")}("Browser");class $d{constructor(e){return e}}class ON{constructor(){return T_("auth")}}const $w=new X("angularfire2.auth-instances");function y9(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new $d(r)}}const _9={provide:ON,deps:[[new jt,$w]]},v9={provide:$d,useFactory:function m9(t,e){const n=C_("auth",t,e);return n&&new $d(n)},deps:[[new jt,$w],Mo]};let w9=(()=>{class t{constructor(){Re("angularfire",yd.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=vn({providers:[v9,_9]}),t})();function E9(t,...e){return{ngModule:w9,providers:[{provide:$w,useFactory:y9(t),multi:!0,deps:[tt,mt,A_,S_,[new jt,q_],...e]}]}}const I9=dr(p9,!0),D9=dr(f9,!0),b9=dr(x7,!0),C9=dr(AK,!0),T9=dr(U7,!0),A9=dr(R7,!0);var k,S9="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Lr={},Hw=Hw||{},j=S9||self;function Hd(){}function Gw(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Tu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var qw="closure_uid_"+(1e9*Math.random()>>>0),x9=0;function N9(t,e,n){return t.call.apply(t.bind,arguments)}function k9(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function vt(t,e,n){return(vt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?N9:k9).apply(null,arguments)}function Gd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function wt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function oi(){this.s=this.s,this.o=this.o}var P9={};oi.prototype.s=!1,oi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function M9(t){return Object.prototype.hasOwnProperty.call(t,qw)&&t[qw]||(t[qw]=++x9)}(this);delete P9[t]}},oi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const FN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},LN=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function VN(t){return Array.prototype.concat.apply([],arguments)}function Ww(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function qd(t){return/^[\s\xa0]*$/.test(t)}var Yt,BN=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Kt(t,e){return-1!=t.indexOf(e)}function zw(t,e){return t<e?-1:t>e?1:0}e:{var UN=j.navigator;if(UN){var jN=UN.userAgent;if(jN){Yt=jN;break e}}Yt=""}function Kw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function $N(t){const e={};for(const n in t)e[n]=t[n];return e}var HN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function GN(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<HN.length;s++)n=HN[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Yw(t){return Yw[" "](t),t}Yw[" "]=Hd;var Wd,t,L9=Kt(Yt,"Opera"),Ro=Kt(Yt,"Trident")||Kt(Yt,"MSIE"),qN=Kt(Yt,"Edge"),Qw=qN||Ro,WN=Kt(Yt,"Gecko")&&!(Kt(Yt.toLowerCase(),"webkit")&&!Kt(Yt,"Edge"))&&!(Kt(Yt,"Trident")||Kt(Yt,"MSIE"))&&!Kt(Yt,"Edge"),V9=Kt(Yt.toLowerCase(),"webkit")&&!Kt(Yt,"Edge");function zN(){var t=j.document;return t?t.documentMode:void 0}e:{var Jw="",Xw=(t=Yt,WN?/rv:([^\);]+)(\)|;)/.exec(t):qN?/Edge\/([\d\.]+)/.exec(t):Ro?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):V9?/WebKit\/(\S+)/.exec(t):L9?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Xw&&(Jw=Xw?Xw[1]:""),Ro){var Zw=zN();if(null!=Zw&&Zw>parseFloat(Jw)){Wd=String(Zw);break e}}Wd=Jw}var B9={};var j9=j.document&&Ro&&(zN()||parseInt(Wd,10))||void 0,$9=function(){if(!j.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{j.addEventListener("test",Hd,e),j.removeEventListener("test",Hd,e)}catch(n){}return t}();function Pt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Au(t,e){if(Pt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(WN){e:{try{Yw(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:H9[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Au.Z.h.call(this)}}Pt.prototype.h=function(){this.defaultPrevented=!0},wt(Au,Pt);var H9={2:"touch",3:"pen",4:"mouse"};Au.prototype.h=function(){Au.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Su="closure_listenable_"+(1e6*Math.random()|0),G9=0;function q9(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++G9,this.ca=this.fa=!1}function zd(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Kd(t){this.src=t,this.g={},this.h=0}function tE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=FN(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(zd(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function nE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Kd.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=nE(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new q9(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var rE="closure_lm_"+(1e6*Math.random()|0),iE={};function YN(t,e,n,r,i){if(r&&r.once)return JN(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)YN(t,e[s],n,r,i);return null}return n=uE(n),t&&t[Su]?t.N(e,n,Tu(r)?!!r.capture:!!r,i):QN(t,e,n,!1,r,i)}function QN(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Tu(i)?!!i.capture:!!i,a=oE(t);if(a||(t[rE]=a=new Kd(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function W9(){var e=z9;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$9||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ZN(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function JN(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)JN(t,e[s],n,r,i);return null}return n=uE(n),t&&t[Su]?t.O(e,n,Tu(r)?!!r.capture:!!r,i):QN(t,e,n,!0,r,i)}function XN(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)XN(t,e[s],n,r,i);else r=Tu(r)?!!r.capture:!!r,n=uE(n),t&&t[Su]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=nE(s=t.g[e],n,r,i))&&(zd(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=oE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=nE(e,n,r,i)),(n=-1<t?e[t]:null)&&sE(n))}function sE(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Su])tE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ZN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=oE(e))?(tE(n,t),0==n.h&&(n.src=null,e[rE]=null)):zd(t)}}}function ZN(t){return t in iE?iE[t]:iE[t]="on"+t}function z9(t,e){if(t.ca)t=!0;else{e=new Au(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&sE(t),t=n.call(r,e)}return t}function oE(t){return(t=t[rE])instanceof Kd?t:null}var aE="__closure_events_fn_"+(1e9*Math.random()>>>0);function uE(t){return"function"==typeof t?t:(t[aE]||(t[aE]=function(e){return t.handleEvent(e)}),t[aE])}function dt(){oi.call(this),this.i=new Kd(this),this.P=this,this.I=null}function Et(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Pt(e,t);else if(e instanceof Pt)e.target=e.target||t;else{var i=e;GN(e=new Pt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Yd(o,r,!0,e)&&i}if(i=Yd(o=e.g=t,r,!0,e)&&i,i=Yd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Yd(o=e.g=n[s],r,!1,e)&&i}function Yd(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&tE(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}wt(dt,oi),dt.prototype[Su]=!0,dt.prototype.removeEventListener=function(t,e,n,r){XN(this,t,e,n,r)},dt.prototype.M=function(){if(dt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zd(n[r]);delete t.g[e],t.h--}}this.I=null},dt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},dt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var cE=j.JSON.stringify;function K9(){var t=tk;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var dE,ek=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Q9,t=>t.reset());class Q9{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function J9(t){j.setTimeout(()=>{throw t},0)}function lE(t,e){dE||function X9(){var t=j.Promise.resolve(void 0);dE=function(){t.then(Z9)}}(),hE||(dE(),hE=!0),tk.add(t,e)}var hE=!1,tk=new class Y9{constructor(){this.h=this.g=null}add(e,n){const r=ek.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function Z9(){for(var t;t=K9();){try{t.h.call(t.g)}catch(n){J9(n)}var e=ek;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}hE=!1}function Qd(t,e){dt.call(this),this.h=t||1,this.g=e||j,this.j=vt(this.kb,this),this.l=Date.now()}function fE(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function pE(t,e,n){if("function"==typeof t)n&&(t=vt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=vt(t.handleEvent,t)}return 2147483647<Number(e)?-1:j.setTimeout(t,e||0)}function nk(t){t.g=pE(()=>{t.g=null,t.i&&(t.i=!1,nk(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}wt(Qd,dt),(k=Qd.prototype).da=!1,k.S=null,k.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Et(this,"tick"),this.da&&(fE(this),this.start()))}},k.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},k.M=function(){Qd.Z.M.call(this),fE(this),delete this.g};class eY extends oi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nk(this)}M(){super.M(),this.g&&(j.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mu(t){oi.call(this),this.h=t,this.g={}}wt(Mu,oi);var rk=[];function ik(t,e,n,r){Array.isArray(n)||(n&&(rk[0]=n.toString()),n=rk);for(var i=0;i<n.length;i++){var s=YN(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function sk(t){Kw(t.g,function(e,n){this.g.hasOwnProperty(n)&&sE(e)},t),t.g={}}function Jd(){this.g=!0}function Po(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function iY(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return cE(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Mu.prototype.M=function(){Mu.Z.M.call(this),sk(this)},Mu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jd.prototype.Aa=function(){this.g=!1},Jd.prototype.info=function(){};var Qi={},ok=null;function Xd(){return ok=ok||new dt}function ak(t){Pt.call(this,Qi.Ma,t)}function xu(t){const e=Xd();Et(e,new ak(e,t))}function uk(t,e){Pt.call(this,Qi.STAT_EVENT,t),this.stat=e}function Qt(t){const e=Xd();Et(e,new uk(e,t))}function ck(t,e){Pt.call(this,Qi.Na,t),this.size=e}function Nu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return j.setTimeout(function(){t()},e)}Qi.Ma="serverreachability",wt(ak,Pt),Qi.STAT_EVENT="statevent",wt(uk,Pt),Qi.Na="timingevent",wt(ck,Pt);var Zd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},lk={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function gE(){}function hk(){}gE.prototype.h=null;var _E,ku={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mE(){Pt.call(this,"d")}function yE(){Pt.call(this,"c")}function eh(){}function Ru(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Mu(this),this.P=sY,this.W=new Qd(t=Qw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fk}function fk(){this.i=null,this.g="",this.h=!1}wt(mE,Pt),wt(yE,Pt),wt(eh,gE),eh.prototype.g=function(){return new XMLHttpRequest},eh.prototype.i=function(){return{}},_E=new eh;var sY=45e3,vE={},th={};function wE(t,e,n){t.K=1,t.v=oh(Vr(e)),t.s=n,t.U=!0,pk(t,null)}function pk(t,e){t.F=Date.now(),Pu(t),t.A=Vr(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Dk(n.h,"t",r),t.C=0,n=t.l.H,t.h=new fk,t.g=Wk(t.l,n?e:null,!t.s),0<t.O&&(t.L=new eY(vt(t.Ia,t,t.g),t.O)),ik(t.V,t.g,"readystatechange",t.gb),e=t.H?$N(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),xu(1),function tY(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function gk(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function mk(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=oY(t,n),i==th){4==e&&(t.o=4,Qt(14),r=!1),Po(t.j,t.m,null,"[Incomplete Response]");break}if(i==vE){t.o=4,Qt(15),Po(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Po(t.j,t.m,i,null),EE(t,i)}gk(t)&&i!=th&&i!=vE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Qt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),kE(e),e.L=!0,Qt(11))):(Po(t.j,t.m,n,"[Invalid Chunked Response]"),Ji(t),Ou(t))}function oY(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?th:(n=Number(e.substring(n,r)),isNaN(n)?vE:(r+=1)+n>e.length?th:(e=e.substr(r,n),t.C=r+n,e))}function Pu(t){t.Y=Date.now()+t.P,yk(t,t.P)}function yk(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Nu(vt(t.eb,t),e)}function nh(t){t.B&&(j.clearTimeout(t.B),t.B=null)}function Ou(t){0==t.l.G||t.I||$k(t.l,t)}function Ji(t){nh(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,fE(t.W),sk(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function EE(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||bE(n.i,t)))if(n.I=t.N,!t.J&&bE(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Nu(vt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;hh(n),lh(n)}NE(n),Qt(18)}if(1>=Tk(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else es(n,11)}else if((t.J||n.g==t)&&hh(n),!qd(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Kt(p,"spdy")||Kt(p,"quic")||Kt(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(CE(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Ae(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=qk(r,r.H?r.la:null,r.W),o.J){Ak(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(nh(a),Pu(a)),r.g=o}else Uk(r);0<n.l.length&&dh(n)}else"stop"!=c[0]&&"close"!=c[0]||es(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?es(n,7):ME(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}xu(4)}catch(c){}}function IE(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Gw(t)||"string"==typeof t)LN(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Gw(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function aY(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Gw(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Oo(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Oo)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function DE(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Xi(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Xi(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Xi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(k=Ru.prototype).setTimeout=function(t){this.P=t},k.gb=function(t){t=t.target;const e=this.L;e&&3==Br(t)?e.l():this.Ia(t)},k.Ia=function(t){try{if(t==this.g)e:{const l=Br(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||Qw||this.g&&(this.h.h||this.g.ga()||Ok(this.g)))){this.I||4!=l||7==e||xu(8==e||0>=d?3:2),nh(this);var n=this.g.ba();this.N=n;t:if(gk(this)){var r=Ok(this.g);t="";var i=r.length,s=4==Br(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ji(this),Ou(this);var o="";break t}this.h.i=new j.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function nY(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qd(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Qt(12),Ji(this),Ou(this);break e}Po(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,EE(this,n)}this.U?(mk(this,l,o),Qw&&this.i&&3==l&&(ik(this.V,this.W,"tick",this.fb),this.W.start())):(Po(this.j,this.m,o,null),EE(this,o)),4==l&&Ji(this),this.i&&!this.I&&(4==l?$k(this.l,this):(this.i=!1,Pu(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Qt(12)):(this.o=0,Qt(13)),Ji(this),Ou(this)}}}catch(l){}},k.fb=function(){if(this.g){var t=Br(this.g),e=this.g.ga();this.C<e.length&&(nh(this),mk(this,t,e),this.i&&4!=t&&Pu(this))}},k.cancel=function(){this.I=!0,Ji(this)},k.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function rY(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(xu(3),Qt(17)),Ji(this),this.o=2,Ou(this)):yk(this,this.Y-t)},(k=Oo.prototype).R=function(){DE(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},k.T=function(){return DE(this),this.g.concat()},k.get=function(t,e){return Xi(this.h,t)?this.h[t]:e},k.set=function(t,e){Xi(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},k.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var _k=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zi(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Zi){this.g=void 0!==e?e:t.g,rh(this,t.j),this.s=t.s,ih(this,t.i),sh(this,t.m),this.l=t.l,e=t.h;var n=new Vu;n.i=e.i,e.g&&(n.g=new Oo(e.g),n.h=e.h),vk(this,n),this.o=t.o}else t&&(n=String(t).match(_k))?(this.g=!!e,rh(this,n[1]||"",!0),this.s=Fu(n[2]||""),ih(this,n[3]||"",!0),sh(this,n[4]),this.l=Fu(n[5]||"",!0),vk(this,n[6]||"",!0),this.o=Fu(n[7]||"")):(this.g=!!e,this.h=new Vu(null,this.g))}function Vr(t){return new Zi(t)}function rh(t,e,n){t.j=n?Fu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ih(t,e,n){t.i=n?Fu(e,!0):e}function sh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function vk(t,e,n){e instanceof Vu?(t.h=e,function mY(t,e){e&&!t.j&&(ai(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Ek(this,r),Dk(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Lu(e,pY)),t.h=new Vu(e,t.g))}function Ae(t,e,n){t.h.set(e,n)}function oh(t){return Ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Lu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,dY),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function dY(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Zi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Lu(e,wk,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Lu(e,wk,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Lu(n,"/"==n.charAt(0)?fY:hY,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Lu(n,gY)),t.join("")};var wk=/[#\/\?@]/g,hY=/[#\?:]/g,fY=/[#\?]/g,pY=/[#\?@]/g,gY=/#/g;function Vu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ai(t){t.g||(t.g=new Oo,t.h=0,t.i&&function uY(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ek(t,e){ai(t),e=Fo(t,e),Xi(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Xi((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&DE(t)))}function Ik(t,e){return ai(t),e=Fo(t,e),Xi(t.g.h,e)}function Dk(t,e,n){Ek(t,e),0<n.length&&(t.i=null,t.g.set(Fo(t,e),Ww(n)),t.h+=n.length)}function Fo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function bk(t){this.l=t||_Y,t=j.PerformanceNavigationTiming?0<(t=j.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(j.g&&j.g.Ea&&j.g.Ea()&&j.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(k=Vu.prototype).add=function(t,e){ai(this),this.i=null,t=Fo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},k.forEach=function(t,e){ai(this),this.g.forEach(function(n,r){LN(n,function(i){t.call(e,i,r,this)},this)},this)},k.T=function(){ai(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},k.R=function(t){ai(this);var e=[];if("string"==typeof t)Ik(this,t)&&(e=VN(e,this.g.get(Fo(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=VN(e,t[n])}return e},k.set=function(t,e){return ai(this),this.i=null,Ik(this,t=Fo(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},k.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},k.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var _Y=10;function Ck(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Tk(t){return t.h?1:t.g?t.g.size:0}function bE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function CE(t,e){t.g?t.g.add(e):t.h=e}function Ak(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Sk(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Ww(t.i)}function TE(){}function vY(){this.g=new TE}function wY(t,e,n){const r=n||"";try{IE(t,function(i,s){let o=i;Tu(i)&&(o=cE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ah(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Bu(t){this.l=t.$b||null,this.j=t.ib||!1}function uh(t,e){dt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=AE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bk.prototype.cancel=function(){if(this.i=Sk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},TE.prototype.stringify=function(t){return j.JSON.stringify(t,void 0)},TE.prototype.parse=function(t){return j.JSON.parse(t,void 0)},wt(Bu,gE),Bu.prototype.g=function(){return new uh(this.l,this.j)},Bu.prototype.i=function(t){return function(){return t}}({}),wt(uh,dt);var AE=0;function Mk(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Uu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ju(t)}function ju(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(k=uh.prototype).open=function(t,e){if(this.readyState!=AE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ju(this)},k.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||j).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Uu(this)),this.readyState=AE},k.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ju(this)),this.g&&(this.readyState=3,ju(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==j.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mk(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},k.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Uu(this):ju(this),3==this.readyState&&Mk(this)}},k.Ua=function(t){this.g&&(this.response=this.responseText=t,Uu(this))},k.Ta=function(t){this.g&&(this.response=t,Uu(this))},k.ha=function(){this.g&&Uu(this)},k.setRequestHeader=function(t,e){this.v.append(t,e)},k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},k.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(uh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var IY=j.JSON.parse;function qe(t){dt.call(this),this.headers=new Oo,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xk,this.K=this.L=!1}wt(qe,dt);var xk="",DY=/^https?$/i,bY=["POST","PUT"];function TY(t){return"content-type"==t.toLowerCase()}function Nk(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,kk(t),ch(t)}function kk(t){t.D||(t.D=!0,Et(t,"complete"),Et(t,"error"))}function Rk(t){if(t.h&&void 0!==Hw&&(!t.C[1]||4!=Br(t)||2!=t.ba()))if(t.v&&4==Br(t))pE(t.Fa,0,t);else if(Et(t,"readystatechange"),4==Br(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(_k)[1]||null;if(!i&&j.self&&j.self.location){var s=j.self.location.protocol;i=s.substr(0,s.length-1)}r=!DY.test(i?i.toLowerCase():"")}n=r}if(n)Et(t,"complete"),Et(t,"success");else{t.m=6;try{var o=2<Br(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",kk(t)}}finally{ch(t)}}}function ch(t,e){if(t.g){Pk(t);const n=t.g,r=t.C[0]?Hd:null;t.g=null,t.C=null,e||Et(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Pk(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(j.clearTimeout(t.A),t.A=null)}function Br(t){return t.g?t.g.readyState:0}function Ok(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case xk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function SE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function AY(t){let e="";return Kw(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ae(t,e,n))}function $u(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Fk(t){this.za=0,this.l=[],this.h=new Jd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$u("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$u("baseRetryDelayMs",5e3,t),this.$a=$u("retryDelaySeedMs",1e4,t),this.Ya=$u("forwardChannelMaxRetries",2,t),this.ra=$u("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new bk(t&&t.concurrentRequestLimit),this.Ca=new vY,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function ME(t){if(Lk(t),3==t.G){var e=t.V++,n=Vr(t.F);Ae(n,"SID",t.J),Ae(n,"RID",e),Ae(n,"TYPE","terminate"),Hu(t,n),(e=new Ru(t,t.h,e,void 0)).K=2,e.v=oh(Vr(n)),n=!1,j.navigator&&j.navigator.sendBeacon&&(n=j.navigator.sendBeacon(e.v.toString(),"")),!n&&j.Image&&((new Image).src=e.v,n=!0),n||(e.g=Wk(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Pu(e)}Gk(t)}function lh(t){t.g&&(kE(t),t.g.cancel(),t.g=null)}function Lk(t){lh(t),t.u&&(j.clearTimeout(t.u),t.u=null),hh(t),t.i.cancel(),t.m&&("number"==typeof t.m&&j.clearTimeout(t.m),t.m=null)}function xE(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&dh(t)}function dh(t){Ck(t.i)||t.m||(t.m=!0,lE(t.Ha,t),t.C=0)}function Vk(t,e){var n;n=e?e.m:t.V++;const r=Vr(t.F);Ae(r,"SID",t.J),Ae(r,"RID",n),Ae(r,"AID",t.U),Hu(t,r),t.o&&t.s&&SE(r,t.o,t.s),n=new Ru(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Bk(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),CE(t.i,n),wE(n,r,e)}function Hu(t,e){t.j&&IE({},function(n,r){Ae(e,r,n)})}function Bk(t,e,n){n=Math.min(t.l.length,n);var r=t.j?vt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{wY(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function Uk(t){t.g||t.u||(t.Y=1,lE(t.Ga,t),t.A=0)}function NE(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Nu(vt(t.Ga,t),Hk(t,t.A)),t.A++,0))}function kE(t){null!=t.B&&(j.clearTimeout(t.B),t.B=null)}function jk(t){t.g=new Ru(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Vr(t.oa);Ae(e,"RID","rpc"),Ae(e,"SID",t.J),Ae(e,"CI",t.N?"0":"1"),Ae(e,"AID",t.U),Hu(t,e),Ae(e,"TYPE","xmlhttp"),t.o&&t.s&&SE(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=oh(Vr(e)),n.s=null,n.U=!0,pk(n,t)}function hh(t){null!=t.v&&(j.clearTimeout(t.v),t.v=null)}function $k(t,e){var n=null;if(t.g==e){hh(t),kE(t),t.g=null;var r=2}else{if(!bE(t.i,e))return;n=e.D,Ak(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Et(r=Xd(),new ck(r,n,e,i)),dh(t)}else Uk(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function SY(t,e){return!(Tk(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Nu(vt(t.Ha,t,e),Hk(t,t.C)),t.C++,0)))}(t,e)||2==r&&NE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:es(t,5);break;case 4:es(t,10);break;case 3:es(t,6);break;default:es(t,2)}}function Hk(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function es(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=vt(t.jb,t);n||(n=new Zi("//www.google.com/images/cleardot.gif"),j.location&&"http"==j.location.protocol||rh(n,"https"),oh(n)),function EY(t,e){const n=new Jd;if(j.Image){const r=new Image;r.onload=Gd(ah,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gd(ah,n,r,"TestLoadImage: error",!1,e),r.onabort=Gd(ah,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gd(ah,n,r,"TestLoadImage: timeout",!1,e),j.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Qt(2);t.G=0,t.j&&t.j.va(e),Gk(t),Lk(t)}function Gk(t){t.G=0,t.I=-1,t.j&&((0!=Sk(t.i).length||0!=t.l.length)&&(t.i.i.length=0,Ww(t.l),t.l.length=0),t.j.ua())}function qk(t,e,n){let r=function cY(t){return t instanceof Zi?Vr(t):new Zi(t,void 0)}(n);if(""!=r.i)e&&ih(r,e+"."+r.i),sh(r,r.m);else{const i=j.location;r=function lY(t,e,n,r){var i=new Zi(null,void 0);return t&&rh(i,t),e&&ih(i,e),n&&sh(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Kw(t.aa,function(i,s){Ae(r,s,i)}),n=t.sa,(e=t.D)&&n&&Ae(r,e,n),Ae(r,"VER",t.ma),Hu(t,r),r}function Wk(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qe(n&&t.Ba&&!t.qa?new Bu({ib:!0}):t.qa)).L=t.H,e}function zk(){}function fh(){if(Ro&&!(10<=Number(j9)))throw Error("Environmental error: no available transport.")}function mn(t,e){dt.call(this),this.g=new Fk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!qd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qd(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Lo(this)}function Kk(t){mE.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Yk(){yE.call(this),this.status=1}function Lo(t){this.g=t}(k=qe.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_E.g(),this.C=function dk(t){return t.h||(t.h=t.i())}(this.u?this.u:_E),this.g.onreadystatechange=vt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void Nk(this,s)}t=n||"";const i=new Oo(this.headers);r&&IE(r,function(s,o){i.set(o,s)}),r=function O9(t){e:{var e=TY;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=j.FormData&&t instanceof j.FormData,!(0<=FN(bY,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pk(this),0<this.B&&((this.K=function CY(t){return Ro&&function U9(){return function F9(t){var e=B9;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=BN(String(Wd)).split("."),n=BN("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=zw(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||zw(0==i[2].length,0==s[2].length)||zw(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vt(this.pa,this)):this.A=pE(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Nk(this,s)}},k.pa=function(){void 0!==Hw&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))},k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Et(this,"complete"),Et(this,"abort"),ch(this))},k.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ch(this,!0)),qe.Z.M.call(this)},k.Fa=function(){this.s||(this.F||this.v||this.l?Rk(this):this.cb())},k.cb=function(){Rk(this)},k.ba=function(){try{return 2<Br(this)?this.g.status:-1}catch(t){return-1}},k.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},k.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),IY(e)}},k.Da=function(){return this.m},k.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(k=Fk.prototype).ma=8,k.G=1,k.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},k.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Ru(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=$N(s),GN(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Bk(this,i,e),Ae(n=Vr(this.F),"RID",t),Ae(n,"CVER",22),this.D&&Ae(n,"X-HTTP-Session-Id",this.D),Hu(this,n),this.o&&s&&SE(n,this.o,s),CE(this.i,i),this.Ra&&Ae(n,"TYPE","init"),this.ja?(Ae(n,"$req",e),Ae(n,"SID","null"),i.$=!0,wE(i,n,null)):wE(i,n,e),this.G=2}}else 3==this.G&&(t?Vk(this,t):0==this.l.length||Ck(this.i)||Vk(this))},k.Ga=function(){if(this.u=null,jk(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Nu(vt(this.bb,this),t)}},k.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Qt(10),lh(this),jk(this))},k.ab=function(){null!=this.v&&(this.v=null,lh(this),NE(this),Qt(19))},k.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Qt(2)):(this.h.info("Failed to ping google.com"),Qt(1))},(k=zk.prototype).xa=function(){},k.wa=function(){},k.va=function(){},k.ua=function(){},k.Oa=function(){},fh.prototype.g=function(t,e){return new mn(t,e)},wt(mn,dt),mn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),lE(vt(t.hb,t,e))),Qt(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=qk(t,null,t.W),dh(t)},mn.prototype.close=function(){ME(this.g)},mn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,xE(this.g,e)}else this.v?((e={}).__data__=cE(t),xE(this.g,e)):xE(this.g,t)},mn.prototype.M=function(){this.g.j=null,delete this.j,ME(this.g),delete this.g,mn.Z.M.call(this)},wt(Kk,mE),wt(Yk,yE),wt(Lo,zk),Lo.prototype.xa=function(){Et(this.g,"a")},Lo.prototype.wa=function(t){Et(this.g,new Kk(t))},Lo.prototype.va=function(t){Et(this.g,new Yk(t))},Lo.prototype.ua=function(){Et(this.g,"b")},fh.prototype.createWebChannel=fh.prototype.g,mn.prototype.send=mn.prototype.u,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Zd.NO_ERROR=0,Zd.TIMEOUT=8,Zd.HTTP_ERROR=6,lk.COMPLETE="complete",hk.EventType=ku,ku.OPEN="a",ku.CLOSE="b",ku.ERROR="c",ku.MESSAGE="d",dt.prototype.listen=dt.prototype.N,qe.prototype.listenOnce=qe.prototype.O,qe.prototype.getLastError=qe.prototype.La,qe.prototype.getLastErrorCode=qe.prototype.Da,qe.prototype.getStatus=qe.prototype.ba,qe.prototype.getResponseJson=qe.prototype.Qa,qe.prototype.getResponseText=qe.prototype.ga,qe.prototype.send=qe.prototype.ea;var MY=Lr.createWebChannelTransport=function(){return new fh},xY=Lr.getStatEventTarget=function(){return Xd()},RE=Lr.ErrorCode=Zd,NY=Lr.EventType=lk,kY=Lr.Event=Qi,Qk=Lr.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},RY=Lr.FetchXmlHttpFactory=Bu,ph=Lr.WebChannel=hk,PY=Lr.XhrIo=qe;const Jk="@firebase/firestore";class It{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");let Vo="9.6.11";const ui=new Io("@firebase/firestore");function PE(){return ui.logLevel}function b(t,...e){if(ui.logLevel<=ne.DEBUG){const n=e.map(OE);ui.debug(`Firestore (${Vo}): ${t}`,...n)}}function We(t,...e){if(ui.logLevel<=ne.ERROR){const n=e.map(OE);ui.error(`Firestore (${Vo}): ${t}`,...n)}}function gh(t,...e){if(ui.logLevel<=ne.WARN){const n=e.map(OE);ui.warn(`Firestore (${Vo}): ${t}`,...n)}}function OE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function R(t="Unexpected state"){const e=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: `+t;throw We(e),new Error(e)}function B(t,e){t||R()}function M(t,e){return t}const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ht{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Xk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class LY{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new ht;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ht,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ht)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(B("string"==typeof r.accessToken),new Xk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return B(null===e||"string"==typeof e),new It(e)}}class VY{constructor(e,n,r){this.type="FirstParty",this.user=It.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class BY{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new VY(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UY{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{null!=s.error&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(B("string"==typeof n.token),this.p=n.token,new Zk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class yn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function jY(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}yn.A=-1;class eR{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=jY(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function W(t,e){return t<e?-1:t>e?1:0}function Bo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?W(this.nanoseconds,e.nanoseconds):W(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class L{constructor(e){this.timestamp=e}static fromTimestamp(e){return new L(e)}static min(){return new L(new ze(0,0))}static max(){return new L(new ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function nR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Gu{constructor(e,n,r){void 0===n?n=0:n>e.length&&R(),void 0===r?r=e.length-n:r>e.length-n&&R(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Gu.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class re extends Gu{construct(e,n,r){return new re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new re(n)}static emptyPath(){return new re([])}}const $Y=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends Gu{construct(e,n,r){return new Dt(e,n,r)}static isValidIdentifier(e){return $Y.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Dt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}class Uo{constructor(e){this.fields=e,e.sort(Dt.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class st{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new st(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new st(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return W(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}st.EMPTY_BYTE_STRING=new st("");const HY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ci(t){if(B(!!t),"string"==typeof t){let e=0;const n=HY.exec(t);if(B(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ns(t){return"string"==typeof t?st.fromBase64String(t):st.fromUint8Array(t)}function FE(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function iR(t){const e=t.mapValue.fields.__previous_value__;return FE(e)?iR(e):e}function qu(t){const e=ci(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}class GY{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class li{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new li("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof li&&e.projectId===this.projectId&&e.database===this.database}}function rs(t){return null==t}function Wu(t){return 0===t&&1/t==-1/0}class S{constructor(e){this.path=e}static fromPath(e){return new S(re.fromString(e))}static fromName(e){return new S(re.fromString(e).popFirst(5))}static empty(){return new S(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===re.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new re(e.slice()))}}function is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?FE(t)?4:dR(t)?9:10:R()}function fr(t,e){if(t===e)return!0;const n=is(t);if(n!==is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qu(t).isEqual(qu(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ci(r.timestampValue),o=ci(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ns(t.bytesValue).isEqual(ns(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Pe(r.geoPointValue.latitude)===Pe(i.geoPointValue.latitude)&&Pe(r.geoPointValue.longitude)===Pe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pe(r.integerValue)===Pe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Pe(r.doubleValue),o=Pe(i.doubleValue);return s===o?Wu(s)===Wu(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Bo(t.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(nR(s)!==nR(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!fr(s[a],o[a])))return!1;return!0}(t,e);default:return R()}var i}function zu(t,e){return void 0!==(t.values||[]).find(n=>fr(n,e))}function di(t,e){if(t===e)return 0;const n=is(t),r=is(e);if(n!==r)return W(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return W(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Pe(i.integerValue||i.doubleValue),a=Pe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return uR(t.timestampValue,e.timestampValue);case 4:return uR(qu(t),qu(e));case 5:return W(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ns(i),a=ns(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=W(o[u],a[u]);if(0!==c)return c}return W(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=W(Pe(i.latitude),Pe(s.latitude));return 0!==o?o:W(Pe(i.longitude),Pe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=di(o[u],a[u]);if(c)return c}return W(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=W(a[l],c[l]);if(0!==d)return d;const h=di(o[a[l]],u[c[l]]);if(0!==h)return h}return W(a.length,c.length)}(t.mapValue,e.mapValue);default:throw R()}}function uR(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return W(t,e);const n=ci(t),r=ci(e),i=W(n.seconds,r.seconds);return 0!==i?i:W(n.nanos,r.nanos)}function jo(t){return LE(t)}function LE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ci(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ns(t.bytesValue).toBase64():"referenceValue"in t?S.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=LE(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${LE(r.fields[a])}`;return s+"}"}(t.mapValue):R();var e}function VE(t){return!!t&&"integerValue"in t}function Ku(t){return!!t&&"arrayValue"in t}function cR(t){return!!t&&"nullValue"in t}function lR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mh(t){return!!t&&"mapValue"in t}function Yu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ts(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dR(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ot{constructor(e){this.value=e}static empty(){return new Ot({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(n)}setAll(e){let n=Dt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Yu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ts(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ot(Yu(this.value))}}function pR(t){const e=[];return ts(t.fields,(n,r)=>{const i=new Dt([n]);if(mh(r)){const s=pR(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Uo(e)}class Ee{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ee(e,0,L.min(),L.min(),Ot.empty(),0)}static newFoundDocument(e,n,r){return new Ee(e,1,n,L.min(),r,0)}static newNoDocument(e,n){return new Ee(e,2,n,L.min(),Ot.empty(),0)}static newUnknownDocument(e,n){return new Ee(e,3,n,L.min(),Ot.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ee&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ee(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function zY(t){return new Ur(t.readTime,t.key,-1)}class Ur{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ur(L.min(),S.empty(),-1)}static max(){return new Ur(L.max(),S.empty(),-1)}}function KY(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=S.comparator(t.documentKey,e.documentKey),0!==n?n:W(t.largestBatchId,e.largestBatchId))}class YY{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function mR(t,e=null,n=[],r=[],i=null,s=null,o=null){return new YY(t,e,n,r,i,s,o)}function as(t){const e=M(t);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+jo(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),rs(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jo(r)).join(",")),e.P=n}return e.P}function Ju(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!iQ(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!fr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ER(t.startAt,e.startAt)&&ER(t.endAt,e.endAt)}function vh(t){return S.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class bt extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,r):new JY(e,n,r):"array-contains"===n?new eQ(e,r):"in"===n?new tQ(e,r):"not-in"===n?new nQ(e,r):"array-contains-any"===n?new rQ(e,r):new bt(e,n,r)}static V(e,n,r){return"in"===n?new XY(e,r):new ZY(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(di(n,this.value)):null!==n&&is(this.value)===is(n)&&this.v(di(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return R()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class JY extends bt{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){const n=S.comparator(e.key,this.key);return this.v(n)}}class XY extends bt{constructor(e,n){super(e,"in",n),this.keys=vR(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ZY extends bt{constructor(e,n){super(e,"not-in",n),this.keys=vR(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vR(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}class eQ extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ku(n)&&zu(n.arrayValue,this.value)}}class tQ extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&zu(this.value.arrayValue,n)}}class nQ extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!zu(this.value.arrayValue,n)}}class rQ extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ku(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zu(this.value.arrayValue,r))}}class hi{constructor(e,n){this.position=e,this.inclusive=n}}class $o{constructor(e,n="asc"){this.field=e,this.dir=n}}function iQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function wR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?S.comparator(S.fromName(o.referenceValue),n.key):di(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function ER(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fr(t.position[n],e.position[n]))return!1;return!0}class jr{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.D=null,this.C=null}}function Ho(t){return new jr(t)}function Eh(t){return!rs(t.limit)&&"F"===t.limitType}function Ih(t){return!rs(t.limit)&&"L"===t.limitType}function Go(t){const e=M(t);if(null===e.D){e.D=[];const n=function jE(t){for(const e of t.filters)if(e.S())return e.field;return null}(e),r=function UE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.D.push(new $o(n)),e.D.push(new $o(Dt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new $o(Dt.keyField(),s))}}}return e.D}function xn(t){const e=M(t);if(!e.C)if("F"===e.limitType)e.C=mR(e.path,e.collectionGroup,Go(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Go(e))n.push(new $o(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new hi(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new hi(e.startAt.position,!e.startAt.inclusive):null;e.C=mR(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function Xu(t,e){return Ju(xn(t),xn(e))&&t.limitType===e.limitType}function bR(t){return`${as(xn(t))}|lt:${t.limitType}`}function HE(t){return`Query(target=${function QY(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${jo(r.value)}`;var r}).join(", ")}]`),rs(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>jo(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>jo(n)).join(",")),`Target(${e})`}(xn(t))}; limitType=${t.limitType})`}function GE(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):S.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=wR(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Go(n),r)||n.endAt&&!function(i,s,o){const a=wR(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Go(n),r)));var n,r}function TR(t){return(e,n)=>{let r=!1;for(const i of Go(t)){const s=sQ(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function sQ(t,e,n){const r=t.field.isKeyField()?S.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?di(a,u):R()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return R()}}function AR(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function SR(t){return{integerValue:""+t}}function MR(t,e){return function sR(t){return"number"==typeof t&&Number.isInteger(t)&&!Wu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?SR(e):AR(t,e)}class Dh{constructor(){this._=void 0}}function oQ(t,e,n){return t instanceof qo?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof us?NR(t,e):t instanceof cs?kR(t,e):function(r,i){const s=xR(r,i),o=RR(s)+RR(r.k);return VE(s)&&VE(r.k)?SR(o):AR(r.M,o)}(t,e)}function aQ(t,e,n){return t instanceof us?NR(t,e):t instanceof cs?kR(t,e):n}function xR(t,e){return t instanceof Wo?VE(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class qo extends Dh{}class us extends Dh{constructor(e){super(),this.elements=e}}function NR(t,e){const n=PR(e);for(const r of t.elements)n.some(i=>fr(i,r))||n.push(r);return{arrayValue:{values:n}}}class cs extends Dh{constructor(e){super(),this.elements=e}}function kR(t,e){let n=PR(e);for(const r of t.elements)n=n.filter(i=>!fr(i,r));return{arrayValue:{values:n}}}class Wo extends Dh{constructor(e,n){super(),this.M=e,this.k=n}}function RR(t){return Pe(t.integerValue||t.doubleValue)}function PR(t){return Ku(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class cQ{constructor(e,n){this.version=e,this.transformResults=n}}class Ke{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ke}static exists(e){return new Ke(void 0,e)}static updateTime(e){return new Ke(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Ch{}function lQ(t,e,n){t instanceof ec?function(r,i,s){const o=r.value.clone(),a=VR(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ls?function(r,i,s){if(!bh(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=VR(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(LR(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function qE(t,e,n){var i;t instanceof ec?function(r,i,s){if(!bh(r.precondition,i))return;const o=r.value.clone(),a=BR(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(FR(i),o).setHasLocalMutations()}(t,e,n):t instanceof ls?function(r,i,s){if(!bh(r.precondition,i))return;const o=BR(r.fieldTransforms,s,i),a=i.data;a.setAll(LR(r)),a.setAll(o),i.convertToFoundDocument(FR(i),a).setHasLocalMutations()}(t,e,n):bh(t.precondition,i=e)&&i.convertToNoDocument(L.min())}function dQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=xR(r.transform,i||null);null!=s&&(null==n&&(n=Ot.empty()),n.set(r.field,s))}return n||null}function OR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Bo(n,r,(i,s)=>function uQ(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof us&&r instanceof us||n instanceof cs&&r instanceof cs?Bo(n.elements,r.elements,fr):n instanceof Wo&&r instanceof Wo?fr(n.k,r.k):n instanceof qo&&r instanceof qo);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function FR(t){return t.isFoundDocument()?t.version:L.min()}class ec extends Ch{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class ls extends Ch{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function LR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function VR(t,e,n){const r=new Map;B(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,aQ(o,a,n[i]))}return r}function BR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,oQ(s,o,e))}return r}class tc extends Ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class WE extends Ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class hQ{constructor(e){this.count=e}}var Ye,ie;function UR(t){switch(t){default:return R();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function jR(t){if(void 0===t)return We("GRPC error has no .code"),v.UNKNOWN;switch(t){case Ye.OK:return v.OK;case Ye.CANCELLED:return v.CANCELLED;case Ye.UNKNOWN:return v.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return v.INTERNAL;case Ye.UNAVAILABLE:return v.UNAVAILABLE;case Ye.UNAUTHENTICATED:return v.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case Ye.NOT_FOUND:return v.NOT_FOUND;case Ye.ALREADY_EXISTS:return v.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return v.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case Ye.ABORTED:return v.ABORTED;case Ye.OUT_OF_RANGE:return v.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return v.UNIMPLEMENTED;case Ye.DATA_LOSS:return v.DATA_LOSS;default:return R()}}(ie=Ye||(Ye={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";class fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return rR(this.inner)}size(){return this.innerSize}}class Be{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Th(this.root,e,this.comparator,!1)}getReverseIterator(){return new Th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Th(this.root,e,this.comparator,!0)}}class Th{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Ct.RED,this.left=null!=i?i:Ct.EMPTY,this.right=null!=s?s:Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ct(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw R();const e=this.left.check();if(e!==this.right.check())throw R();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1,Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw R()}get value(){throw R()}get color(){throw R()}get left(){throw R()}get right(){throw R()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ct(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ie{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $R(this.data.getIterator())}getIteratorFrom(e){return new $R(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ie(this.comparator);return n.data=e,n}}class $R{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const fQ=new Be(S.comparator);function Nn(){return fQ}const pQ=new Be(S.comparator);function zE(){return pQ}function nc(){return new fi(t=>t.toString(),(t,e)=>t.isEqual(e))}const gQ=new Be(S.comparator),mQ=new Ie(S.comparator);function ce(...t){let e=mQ;for(const n of t)e=e.add(n);return e}const yQ=new Ie(W);function Ah(){return yQ}class rc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,ic.createSynthesizedTargetChangeForCurrentChange(e,n)),new rc(L.min(),r,Ah(),Nn(),ce())}}class ic{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new ic(st.EMPTY_BYTE_STRING,n,ce(),ce(),ce())}}class Sh{constructor(e,n,r,i){this.O=e,this.removedTargetIds=n,this.key=r,this.F=i}}class HR{constructor(e,n){this.targetId=e,this.$=n}}class GR{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class qR{constructor(){this.B=0,this.L=zR(),this.U=st.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=ce(),n=ce(),r=ce();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:R()}}),new ic(this.U,this.q,e,n,r)}J(){this.K=!1,this.L=zR()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class _Q{constructor(e){this.nt=e,this.st=new Map,this.it=Nn(),this.rt=WR(),this.ot=new Ie(W)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:R()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.$.count,i=this.wt(n);if(i){const s=i.target;if(vh(s))if(0===r){const o=new S(s.path);this.ct(n,o,Ee.newNoDocument(o,L.min()))}else B(1===r);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&vh(a.target)){const u=new S(a.target.path);null!==this.it.get(u)||this.It(o,u)||this.ct(o,u,Ee.newNoDocument(u,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=ce();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.wt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new rc(e,n,this.ot,this.it,r);return this.it=Nn(),this.rt=WR(),this.ot=new Ie(W),i}at(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new qR,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Ie(W),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||b("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new qR),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function WR(){return new Be(S.comparator)}function zR(){return new Be(S.comparator)}const vQ={asc:"ASCENDING",desc:"DESCENDING"},wQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class EQ{constructor(e,n){this.databaseId=e,this.N=n}}function sc(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KR(t,e){return t.N?e.toBase64():e.toUint8Array()}function IQ(t,e){return sc(t,e.toTimestamp())}function ft(t){return B(!!t),L.fromTimestamp(function(e){const n=ci(e);return new ze(n.seconds,n.nanos)}(t))}function KE(t,e){return(n=t,new re(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function YR(t){const e=re.fromString(t);return B(iP(e)),e}function oc(t,e){return KE(t.databaseId,e.path)}function pr(t,e){const n=YR(e);if(n.get(1)!==t.databaseId.projectId)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S(JR(n))}function YE(t,e){return KE(t.databaseId,e)}function ac(t){return new re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JR(t){return B(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function XR(t,e,n){return{name:oc(t,e),fields:n.value.mapValue.fields}}function eP(t,e){return{documents:[YE(t,e.path)]}}function tP(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=YE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=YE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const c=u.map(l=>function(d){if("=="===d.op){if(lR(d.value))return{unaryFilter:{field:Ko(d.field),op:"IS_NAN"}};if(cR(d.value))return{unaryFilter:{field:Ko(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(lR(d.value))return{unaryFilter:{field:Ko(d.field),op:"IS_NOT_NAN"}};if(cR(d.value))return{unaryFilter:{field:Ko(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(d.field),op:SQ(d.op),value:d.value}}}(l));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ko((l=c).field),direction:AQ(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.N||rs(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function nP(t){let e=function QR(t){const e=YR(t);return 4===e.length?re.emptyPath():JR(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){B(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=rP(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new $o(Yo((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,rs(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new hi((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new hi(l.values||[],!l.before)}(n.endAt)),function IR(t,e,n,r,i,s,o,a){return new jr(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function rP(t){return t?void 0!==t.unaryFilter?[xQ(t)]:void 0!==t.fieldFilter?[MQ(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>rP(e)).reduce((e,n)=>e.concat(n)):R():[]}function AQ(t){return vQ[t]}function SQ(t){return wQ[t]}function Ko(t){return{fieldPath:t.canonicalString()}}function Yo(t){return Dt.fromServerFormat(t.fieldPath)}function MQ(t){return bt.create(Yo(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return R()}}(t.fieldFilter.op),t.fieldFilter.value)}function xQ(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Yo(t.unaryFilter.field);return bt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Yo(t.unaryFilter.field);return bt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Yo(t.unaryFilter.field);return bt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Yo(t.unaryFilter.field);return bt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return R()}}function NQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iP(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}const lP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&R(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function ds(t){return"IndexedDbTransactionError"===t.name}class XE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&lQ(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&qE(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&qE(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(L.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,(n,r)=>OR(n,r))&&Bo(this.baseMutations,e.baseMutations,(n,r)=>OR(n,r))}}class ZE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){B(e.mutations.length===r.length);let i=gQ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ZE(e,n,r,i)}}class eI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pi{constructor(e,n,r,i,s=L.min(),o=L.min(),a=st.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class fP{constructor(e){this.Jt=e}}function tI(t){const e=nP({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function DR(t,e,n){return new jr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class gs{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(Pe(e.integerValue));else if("doubleValue"in e){const r=Pe(e.doubleValue);isNaN(r)?this.ne(n,13):(this.ne(n,15),Wu(r)?n.se(0):n.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(n,20),"string"==typeof r?n.ie(r):(n.ie(`${r.seconds||""}`),n.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(ns(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(n,45),n.se(r.latitude||0),n.se(r.longitude||0)}else"mapValue"in e?dR(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):R()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const r=e.fields||{};this.ne(n,55);for(const i of Object.keys(r))this.re(i,n),this.te(r[i],n)}he(e,n){const r=e.values||[];this.ne(n,50);for(const i of r)this.te(i,n)}ae(e,n){this.ne(n,37),S.fromName(e).path.forEach(r=>{this.ne(n,60),this.le(r,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}gs.fe=new gs;class oJ{constructor(){this.qe=new iI}addToCollectionParentIndex(e,n){return this.qe.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getFieldIndex(e,n){return w.resolve(null)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class iI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ie(re.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ie(re.comparator)).toArray()}}new Uint8Array(0);class on{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class ys{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new ys(0)}static yn(){return new ys(-1)}}function _s(t){return oI.apply(this,arguments)}function oI(){return oI=g(function*(t){if(t.code!==v.FAILED_PRECONDITION||t.message!==lP)throw t;b("LocalStore","Unexpectedly lost primary lease")}),oI.apply(this,arguments)}class yJ{constructor(e,n,r){this.ds=e,this.Bs=n,this.indexManager=r}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Us(e,n,r))}Us(e,n,r){return this.ds.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Ks(e,n){return this.ds.getEntries(e,n).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.qs(n,r))}Qs(e,n,r){return S.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,n.path):function $E(t){return null!==t.collectionGroup}(n)?this.Ws(e,n,r):this.zs(e,n,r);var i}js(e,n){return this.Ls(e,new S(n)).next(r=>{let i=zE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,n,r){const i=n.collectionGroup;let s=zE();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new jr(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.zs(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}zs(e,n,r){let i;return this.ds.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const a of o.mutations){const u=a.key;let c=i.get(u);null==c&&(c=Ee.newInvalidDocument(u),i=i.insert(u,c)),qE(a,c,o.localWriteTime),c.isFoundDocument()||(i=i.remove(u))}}).next(()=>(i.forEach((s,o)=>{GE(n,o)||(i=i.remove(s))}),i))}}class lI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hs=r,this.Js=i}static Ys(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lI(e,n.fromCache,r,i)}}class kP{Xs(e){this.Zs=e}Qs(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(L.min())?this.ti(e,n):this.Zs.Ks(e,i).next(s=>{const o=this.ei(n,s);return(Eh(n)||Ih(n))&&this.ni(n.limitType,o,i,r)?this.ti(e,n):(PE()<=ne.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),HE(n)),this.Zs.Qs(e,n,function gR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=L.fromTimestamp(1e9===r?new ze(n+1,0):new ze(n,r));return new Ur(i,S.empty(),e)}(r,-1)).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}ei(e,n){let r=new Ie(TR(e));return n.forEach((i,s)=>{GE(e,s)&&(r=r.add(s))}),r}ni(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ti(e,n){return PE()<=ne.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",HE(n)),this.Zs.Qs(e,n,Ur.min())}}class _J{constructor(e,n,r,i){this.persistence=e,this.si=n,this.M=i,this.ii=new Be(W),this.ri=new fi(s=>as(s),Ju),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new yJ(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ii))}}function PP(t,e){return dI.apply(this,arguments)}function dI(){return dI=g(function*(t,e){const n=M(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.Bs.getAllMutationBatches(r).next(s=>(i=s,n.ai(e),n.Bs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ce();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.ci.Ks(r,u).next(c=>({hi:c,removedBatchIds:o,addedBatchIds:a}))})})}),dI.apply(this,arguments)}function vJ(t,e){const n=M(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ui.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);B(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.Bs.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.Bs.performConsistencyCheck(r)).next(()=>n.ci.Ks(r,i))})}function OP(t){const e=M(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function wJ(t,e){const n=M(t),r=e.snapshotVersion;let i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.fs.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.fs.addMatchingKeys(s,c.addedDocuments,l)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,m;e.targetMismatches.has(l)?h=h.withResumeToken(st.EMPTY_BYTE_STRING,L.min()).withLastLimboFreeSnapshotVersion(L.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(l,h),p=h,m=c,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.fs.updateTargetData(s,h))});let u=Nn();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function FP(t,e,n){let r=ce();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Nn();return n.forEach((o,a)=>{const u=i.get(o);a.isNoDocument()&&a.version.isEqual(L.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):b("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",a.version)}),s})}(s,o,e.documentUpdates).next(c=>{u=c})),!r.isEqual(L.min())){const c=n.fs.getLastRemoteSnapshotVersion(s).next(l=>n.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.ci.Gs(s,u)).next(()=>u)}).then(s=>(n.ii=i,s))}function EJ(t,e){const n=M(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(r,e)))}function ea(t,e){const n=M(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.fs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.fs.allocateTargetId(r).next(o=>(i=new pi(e,o,0,r.currentSequenceNumber),n.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ii.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ii=n.ii.insert(r.targetId,r),n.ri.set(e,r.targetId)),r})}function ta(t,e,n){return hI.apply(this,arguments)}function hI(){return hI=g(function*(t,e,n){const r=M(t),i=r.ii.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ds(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)}),hI.apply(this,arguments)}function Lh(t,e,n){const r=M(t);let i=L.min(),s=ce();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=M(a),d=l.ri.get(c);return void 0!==d?w.resolve(l.ii.get(d)):l.fs.getTargetData(u,c)}(r,o,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.si.Qs(o,e,n?i:L.min(),n?s:ce())).next(a=>(function BP(t,e,n){let r=L.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.oi.set(e,r)}(r,function CR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,li:s})))}class bJ{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,n){return w.resolve(this.wi.get(n))}saveBundleMetadata(e,n){var r;return this.wi.set(n.id,{id:(r=n).id,version:r.version,createTime:ft(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.mi.get(n))}saveNamedQuery(e,n){return this.mi.set(n.name,{name:(r=n).name,query:tI(r.bundledQuery),readTime:ft(r.readTime)}),w.resolve();var r}}class CJ{constructor(){this.overlays=new Be(S.comparator),this.gi=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Xt(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.gi.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.gi.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=nc(),s=n.length+1,o=new S(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Be((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=nc(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=nc(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}Xt(e,n,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const o=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eI(n,r));let s=this.gi.get(n);void 0===s&&(s=ce(),this.gi.set(n,s)),this.gi.set(n,s.add(r.key))}}class gI{constructor(){this.yi=new Ie(gt.pi),this.Ii=new Ie(gt.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,n){const r=new gt(e,n);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ai(new gt(e,n))}Ri(e,n){e.forEach(r=>this.removeReference(r,n))}Pi(e){const n=new S(new re([])),r=new gt(n,e),i=new gt(n,e+1),s=[];return this.Ii.forEachInRange([r,i],o=>{this.Ai(o),s.push(o.key)}),s}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const n=new S(new re([])),r=new gt(n,e),i=new gt(n,e+1);let s=ce();return this.Ii.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new gt(e,0),r=this.yi.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class gt{constructor(e,n){this.key=e,this.vi=n}static pi(e,n){return S.comparator(e.key,n.key)||W(e.vi,n.vi)}static Ti(e,n){return W(e.vi,n.vi)||S.comparator(e.key,n.key)}}class TJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new Ie(gt.pi)}checkEmpty(e){return w.resolve(0===this.Bs.length)}addMutationBatch(e,n,r,i){const s=this.Si;this.Si++;const o=new XE(s,n,r,i);this.Bs.push(o);for(const a of i)this.Di=this.Di.add(new gt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ci(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.xi(n+1),s=i<0?0:i;return w.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return w.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gt(n,0),i=new gt(n,Number.POSITIVE_INFINITY),s=[];return this.Di.forEachInRange([r,i],o=>{const a=this.Ci(o.vi);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ie(W);return n.forEach(i=>{const s=new gt(i,0),o=new gt(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([s,o],a=>{r=r.add(a.vi)})}),w.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;S.isDocumentKey(s)||(s=s.child(""));const o=new gt(new S(s),0);let a=new Ie(W);return this.Di.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.vi)),!0)},o),w.resolve(this.Ni(a))}Ni(e){const n=[];return e.forEach(r=>{const i=this.Ci(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){B(0===this.ki(n.batchId,"removed")),this.Bs.shift();let r=this.Di;return w.forEach(n.mutations,i=>{const s=new gt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,n){const r=new gt(n,0),i=this.Di.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}ki(e,n){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const n=this.xi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class AJ{constructor(e){this.Mi=e,this.docs=new Be(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mi(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Ee.newInvalidDocument(n))}getEntries(e,n){let r=Nn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ee.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,n,r){let i=Nn();const s=new S(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||KY(zY(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,n,r,i){R()}Oi(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SJ(this)}getSize(e){return w.resolve(this.size)}}class SJ extends class fJ{constructor(){this.changes=new fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ee.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class MJ{constructor(e){this.persistence=e,this.Fi=new fi(n=>as(n),Ju),this.lastRemoteSnapshotVersion=L.min(),this.highestTargetId=0,this.$i=0,this.Bi=new gI,this.targetCount=0,this.Li=ys.gn()}forEachTarget(e,n){return this.Fi.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$i&&(this.$i=n),w.resolve()}Tn(e){this.Fi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Li=new ys(n),this.highestTargetId=n),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Tn(n),w.resolve()}removeTargetData(e,n){return this.Fi.delete(n.target),this.Bi.Pi(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fi.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fi.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.Bi.Ei(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.Bi.Ri(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Bi.Pi(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Bi.Vi(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.Bi.containsKey(n))}}class xJ{constructor(e,n){this.Ui={},this.overlays={},this.es=new yn(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new MJ(this),this.indexManager=new oJ,this.ds=new AJ(r=>this.referenceDelegate.qi(r)),this.M=new fP(n),this._s=new bJ(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ui[e.toKey()];return r||(r=new TJ(n,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const i=new NJ(this.es.next());return this.referenceDelegate.Ki(),r(i).next(s=>this.referenceDelegate.Gi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Qi(e,n){return w.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,n)))}}class NJ extends class QQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class mI{constructor(e){this.persistence=e,this.ji=new gI,this.Wi=null}static zi(e){return new mI(e)}get Hi(){if(this.Wi)return this.Wi;throw R()}addReference(e,n,r){return this.ji.addReference(r,n),this.Hi.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.ji.removeReference(r,n),this.Hi.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Hi.add(n.toString()),w.resolve()}removeTarget(e,n){this.ji.Pi(n.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ki(){this.Wi=new Set}Gi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Hi,r=>{const i=S.fromPath(r);return this.Ji(e,i).next(s=>{s||n.removeEntry(i,L.min())})}).next(()=>(this.Wi=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ji(e,n).next(r=>{r?this.Hi.delete(n.toString()):this.Hi.add(n.toString())})}qi(e){return 0}Ji(e,n){return w.or([()=>w.resolve(this.ji.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Qi(e,n)])}}class vI{constructor(){this.activeTargetIds=Ah()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $P{constructor(){this.$r=new vI,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,n,r){this.Br[e]=n}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new vI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kJ{Lr(e){}shutdown(){}}class HP{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const RJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class PJ{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class OJ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,n,r,i,s){const o=this.uo(e,n);b("RestConnection","Sending: ",o,r);const a={};return this.ao(a,i,s),this.co(e,o,a,r).then(u=>(b("RestConnection","Received: ",u),u),u=>{throw gh("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ho(e,n,r,i,s){return this.oo(e,n,r,i,s)}ao(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}uo(e,n){return`${this.io}/v1/${n}:${RJ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,r,i){return new Promise((s,o)=>{const a=new PY;a.listenOnce(NY.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case RE.NO_ERROR:const c=a.getResponseJson();b("Connection","XHR received:",JSON.stringify(c)),s(c);break;case RE.TIMEOUT:b("Connection",'RPC "'+e+'" timed out'),o(new D(v.DEADLINE_EXCEEDED,"Request time out"));break;case RE.HTTP_ERROR:const l=a.getStatus();if(b("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(p)>=0?p:v.UNKNOWN}(d.status);o(new D(h,d.message))}else o(new D(v.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new D(v.UNAVAILABLE,"Connection failed."));break;default:R()}}finally{b("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}lo(e,n,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=MY(),o=xY(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new RY({})),this.ao(a.initMessageHeaders,n,r),XM()||ZM()||function UW(){return ut().indexOf("Electron/")>=0}()||ex()||function jW(){return ut().indexOf("MSAppHost/")>=0}()||od()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");b("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new PJ({Wr:p=>{d?b("Connection","Not sending because WebChannel is closed:",p):(l||(b("Connection","Opening WebChannel transport."),c.open(),l=!0),b("Connection","WebChannel sending:",p),c.send(p))},zr:()=>c.close()}),f=(p,m,_)=>{p.listen(m,E=>{try{_(E)}catch(y){setTimeout(()=>{throw y},0)}})};return f(c,ph.EventType.OPEN,()=>{d||b("Connection","WebChannel transport opened.")}),f(c,ph.EventType.CLOSE,()=>{d||(d=!0,b("Connection","WebChannel transport closed"),h.no())}),f(c,ph.EventType.ERROR,p=>{d||(d=!0,gh("Connection","WebChannel transport errored:",p),h.no(new D(v.UNAVAILABLE,"The operation could not be completed")))}),f(c,ph.EventType.MESSAGE,p=>{var m;if(!d){const _=p.data[0];B(!!_);const E=_,y=E.error||(null===(m=E[0])||void 0===m?void 0:m.error);if(y){b("Connection","WebChannel received error:",y);const C=y.status;let P=function(Q){const De=Ye[Q];if(void 0!==De)return jR(De)}(C),O=y.message;void 0===P&&(P=v.INTERNAL,O="Unknown error status: "+C+" with message "+y.message),d=!0,h.no(new D(P,O)),c.close()}else b("Connection","WebChannel received:",_),h.so(_)}}),f(o,kY.STAT_EVENT,p=>{p.stat===Qk.PROXY?b("Connection","Detected buffering proxy"):p.stat===Qk.NOPROXY&&b("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.eo()},0),h}}function Uh(){return"undefined"!=typeof document?document:null}function yc(t){return new EQ(t,!0)}class EI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=n,this.fo=r,this._o=i,this.wo=s,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class qP{constructor(e,n,r,i,s,o,a,u){this.Yn=e,this.Ro=r,this.Po=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new EI(e,n)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return g(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return g(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,n){var r=this;return g(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(We(n.toString()),We("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):n&&n.code===v.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(n)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.qo(r,i)},r=>{e(()=>{const i=new D(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,n){const r=this.Uo(this.Vo);this.stream=this.Go(e,n),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){var e=this;this.state=5,this.Do.To(g(function*(){e.state=0,e.start()}))}Ko(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Yn.enqueueAndForget(()=>this.Vo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FJ extends qP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.M=s}Go(e,n){return this.bo.lo("Listen",e,n)}onMessage(e){this.Do.reset();const n=function bQ(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:R(),i=e.targetChange.targetIds||[],s=function(u,c){return u.N?(B(void 0===c||"string"==typeof c),st.fromBase64String(c||"")):(B(void 0===c||c instanceof Uint8Array),st.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?v.UNKNOWN:jR(u.code);return new D(c,u.message||"")}(o);n=new GR(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=pr(t,r.document.name),s=ft(r.document.updateTime),o=new Ot({mapValue:{fields:r.document.fields}}),a=Ee.newFoundDocument(i,s,o);n=new Sh(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=pr(t,r.document),s=r.readTime?ft(r.readTime):L.min(),o=Ee.newNoDocument(i,s);n=new Sh([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=pr(t,r.document);n=new Sh([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return R();{const r=e.filter,s=new hQ(r.count||0);n=new HR(r.targetId,s)}}var u;return n}(this.M,e),r=function(i){if(!("targetChange"in i))return L.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?L.min():s.readTime?ft(s.readTime):L.min()}(e);return this.listener.Qo(n,r)}jo(e){const n={};n.database=ac(this.M),n.addTarget=function(i,s){let o;const a=s.target;return o=vh(a)?{documents:eP(i,a)}:{query:tP(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=KR(i,s.resumeToken):s.snapshotVersion.compareTo(L.min())>0&&(o.readTime=sc(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=function TQ(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return R()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=ac(this.M),n.removeTarget=e,this.Fo(n)}}class LJ extends qP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.M=s,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,n){return this.bo.lo("Write",e,n)}onMessage(e){if(B(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const n=function CQ(t,e){return t&&t.length>0?(B(void 0!==e),t.map(n=>function(r,i){let s=ft(r.updateTime?r.updateTime:i);return s.isEqual(L.min())&&(s=ft(i)),new cQ(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ft(e.commitTime);return this.listener.Yo(r,n)}return B(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=ac(this.M),this.Fo(e)}Jo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function uc(t,e){let n;if(e instanceof ec)n={update:XR(t,e.key,e.value)};else if(e instanceof tc)n={delete:oc(t,e.key)};else if(e instanceof ls)n={update:XR(t,e.key,e.data),updateMask:NQ(e.fieldMask)};else{if(!(e instanceof WE))return R();n={verify:oc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof qo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof us)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof cs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Wo)return{fieldPath:s.field.canonicalString(),increment:o.k};throw R()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:IQ(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:R()),n;var i}(this.M,r))};this.Fo(n)}}class VJ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,n,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.oo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}ho(e,n,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ho(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class BJ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(We(n),this.iu=!1):b("OnlineStateTracker",n)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class UJ{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=s,this._u.Lr(a=>{r.enqueueAndForget(g(function*(){var u;_i(o)&&(b("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=M(c);l.fu.add(4),yield na(l),l.wu.set("Unknown"),l.fu.delete(4),yield _c(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.wu=new BJ(r,i)}}function _c(t){return II.apply(this,arguments)}function II(){return II=g(function*(t){if(_i(t))for(const e of t.du)yield e(!0)}),II.apply(this,arguments)}function na(t){return DI.apply(this,arguments)}function DI(){return DI=g(function*(t){for(const e of t.du)yield e(!1)}),DI.apply(this,arguments)}function jh(t,e){const n=M(t);n.lu.has(e.targetId)||(n.lu.set(e.targetId,e),TI(n)?CI(n):ia(n).xo()&&bI(n,e))}function vc(t,e){const n=M(t),r=ia(n);n.lu.delete(e),r.xo()&&WP(n,e),0===n.lu.size&&(r.xo()?r.Mo():_i(n)&&n.wu.set("Unknown"))}function bI(t,e){t.mu.Z(e.targetId),ia(t).jo(e)}function WP(t,e){t.mu.Z(e),ia(t).Wo(e)}function CI(t){t.mu=new _Q({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.lu.get(e)||null}),ia(t).start(),t.wu.ru()}function TI(t){return _i(t)&&!ia(t).Co()&&t.lu.size>0}function _i(t){return 0===M(t).fu.size}function zP(t){t.mu=void 0}function jJ(t){return AI.apply(this,arguments)}function AI(){return AI=g(function*(t){t.lu.forEach((e,n)=>{bI(t,e)})}),AI.apply(this,arguments)}function $J(t,e){return SI.apply(this,arguments)}function SI(){return SI=g(function*(t,e){zP(t),TI(t)?(t.wu.au(e),CI(t)):t.wu.set("Unknown")}),SI.apply(this,arguments)}function HJ(t,e,n){return MI.apply(this,arguments)}function MI(){return MI=g(function*(t,e,n){if(t.wu.set("Online"),e instanceof GR&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.lu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.lu.delete(a),i.mu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $h(t,r)}else if(e instanceof Sh?t.mu.ut(e):e instanceof HR?t.mu._t(e):t.mu.ht(e),!n.isEqual(L.min()))try{const r=yield OP(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.mu.yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.lu.get(u);c&&i.lu.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.lu.get(a);if(!u)return;i.lu.set(a,u.withResumeToken(st.EMPTY_BYTE_STRING,u.snapshotVersion)),WP(i,a);const c=new pi(u.target,a,1,u.sequenceNumber);bI(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield $h(t,r)}var r}),MI.apply(this,arguments)}function $h(t,e,n){return xI.apply(this,arguments)}function xI(){return xI=g(function*(t,e,n){if(!ds(e))throw e;t.fu.add(1),yield na(t),t.wu.set("Offline"),n||(n=()=>OP(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.fu.delete(1),yield _c(t)}))}),xI.apply(this,arguments)}function KP(t,e){return e().catch(n=>$h(t,n,e))}function ra(t){return NI.apply(this,arguments)}function NI(){return NI=g(function*(t){const e=M(t),n=vi(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;GJ(e);)try{const i=yield EJ(e.localStore,r);if(null===i){0===e.hu.length&&n.Mo();break}r=i.batchId,qJ(e,i)}catch(i){yield $h(e,i)}YP(e)&&QP(e)}),NI.apply(this,arguments)}function GJ(t){return _i(t)&&t.hu.length<10}function qJ(t,e){t.hu.push(e);const n=vi(t);n.xo()&&n.Ho&&n.Jo(e.mutations)}function YP(t){return _i(t)&&!vi(t).Co()&&t.hu.length>0}function QP(t){vi(t).start()}function WJ(t){return kI.apply(this,arguments)}function kI(){return kI=g(function*(t){vi(t).Zo()}),kI.apply(this,arguments)}function zJ(t){return RI.apply(this,arguments)}function RI(){return RI=g(function*(t){const e=vi(t);for(const n of t.hu)e.Jo(n.mutations)}),RI.apply(this,arguments)}function KJ(t,e,n){return PI.apply(this,arguments)}function PI(){return PI=g(function*(t,e,n){const r=t.hu.shift(),i=ZE.from(r,e,n);yield KP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ra(t)}),PI.apply(this,arguments)}function YJ(t,e){return OI.apply(this,arguments)}function OI(){return OI=g(function*(t,e){var n;e&&vi(t).Ho&&(yield(n=g(function*(r,i){if(UR(s=i.code)&&s!==v.ABORTED){const o=r.hu.shift();vi(r).ko(),yield KP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield ra(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),YP(t)&&QP(t)}),OI.apply(this,arguments)}function JP(t,e){return FI.apply(this,arguments)}function FI(){return FI=g(function*(t,e){const n=M(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const r=_i(n);n.fu.add(3),yield na(n),r&&n.wu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.fu.delete(3),yield _c(n)}),FI.apply(this,arguments)}function VI(){return VI=g(function*(t,e){const n=M(t);e?(n.fu.delete(2),yield _c(n)):e||(n.fu.add(2),yield na(n),n.wu.set("Unknown"))}),VI.apply(this,arguments)}function ia(t){return t.gu||(t.gu=function(e,n,r){const i=M(e);return i.eu(),new FJ(n,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Hr:jJ.bind(null,t),Yr:$J.bind(null,t),Qo:HJ.bind(null,t)}),t.du.push(function(){var e=g(function*(n){n?(t.gu.ko(),TI(t)?CI(t):t.wu.set("Unknown")):(yield t.gu.stop(),zP(t))});return function(n){return e.apply(this,arguments)}}())),t.gu}function vi(t){return t.yu||(t.yu=function(e,n,r){const i=M(e);return i.eu(),new LJ(n,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Hr:WJ.bind(null,t),Yr:YJ.bind(null,t),Xo:zJ.bind(null,t),Yo:KJ.bind(null,t)}),t.du.push(function(){var e=g(function*(n){n?(t.yu.ko(),yield ra(t)):(yield t.yu.stop(),t.hu.length>0&&(b("RemoteStore",`Stopping write stream with ${t.hu.length} pending writes`),t.hu=[]))});return function(n){return e.apply(this,arguments)}}())),t.yu}class BI{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ht,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new BI(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sa(t,e){if(We("AsyncQueue",`${e}: ${t}`),ds(t))return new D(v.UNAVAILABLE,`${e}: ${t}`);throw t}class oa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=zE(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new oa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new oa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class XP{constructor(){this.pu=new Be(S.comparator)}track(e){const n=e.doc.key,r=this.pu.get(n);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(n,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(n):1===e.type&&2===r.type?this.pu=this.pu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):R():this.pu=this.pu.insert(n,e)}Iu(){const e=[];return this.pu.inorderTraversal((n,r)=>{e.push(r)}),e}}class aa{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new aa(e,n,oa.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class QJ{constructor(){this.Tu=void 0,this.listeners=[]}}class JJ{constructor(){this.queries=new fi(e=>bR(e),Xu),this.onlineState="Unknown",this.Eu=new Set}}function jI(){return jI=g(function*(t,e){const n=M(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new QJ),i)try{s.Tu=yield n.onListen(r)}catch(o){const a=sa(o,`Initialization of query '${HE(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Au(n.onlineState),s.Tu&&e.Ru(s.Tu)&&GI(n)}),jI.apply(this,arguments)}function HI(){return HI=g(function*(t,e){const n=M(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),HI.apply(this,arguments)}function XJ(t,e){const n=M(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Ru(i)&&(r=!0);o.Tu=i}}r&&GI(n)}function ZJ(t,e,n){const r=M(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function GI(t){t.Eu.forEach(e=>{e.next()})}class qI{constructor(e,n,r){this.query=e,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),n=!0):this.Su(e,this.onlineState)&&(this.Du(e),n=!0),this.Vu=e,n}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let n=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),n=!0),n}Su(e,n){return!e.fromCache||!(this.options.Cu&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class tO{constructor(e){this.key=e}}class nO{constructor(e){this.key=e}}class rO{constructor(e,n){this.query=e,this.$u=n,this.Bu=null,this.current=!1,this.Lu=ce(),this.mutatedKeys=ce(),this.Uu=TR(e),this.qu=new oa(this.Uu)}get Ku(){return this.$u}Gu(e,n){const r=n?n.Qu:new XP,i=n?n.qu:this.qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=Eh(this.query)&&i.size===this.query.limit?i.last():null,c=Ih(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=GE(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),_=!0):this.ju(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.Uu(f,u)>0||c&&this.Uu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||c)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),Eh(this.query)||Ih(this.query))for(;o.size>this.query.limit;){const l=Eh(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{qu:o,Qu:r,ni:a,mutatedKeys:s}}ju(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const s=e.Qu.Iu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R()}};return f(d)-f(h)}(c.type,l.type)||this.Uu(c.doc,l.doc)),this.Wu(r);const o=n?this.zu():[],a=0===this.Lu.size&&this.current?1:0,u=a!==this.Bu;return this.Bu=a,0!==s.length||u?{snapshot:new aa(this.query,e.qu,i,s,e.mutatedKeys,0===a,u,!1),Hu:o}:{Hu:o}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new XP,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(n=>this.$u=this.$u.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.$u=this.$u.delete(n)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=ce(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const n=[];return e.forEach(r=>{this.Lu.has(r)||n.push(new nO(r))}),this.Lu.forEach(r=>{e.has(r)||n.push(new tO(r))}),n}Yu(e){this.$u=e.li,this.Lu=ce();const n=this.Gu(e.documents);return this.applyChanges(n,!0)}Xu(){return aa.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class nX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rX{constructor(e){this.key=e,this.Zu=!1}}class iX{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new fi(a=>bR(a),Xu),this.na=new Map,this.sa=new Set,this.ia=new Be(S.comparator),this.ra=new Map,this.oa=new gI,this.ua={},this.aa=new Map,this.ca=ys.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function sX(t,e){return WI.apply(this,arguments)}function WI(){return WI=g(function*(t,e){const n=gD(t);let r,i;const s=n.ea.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Xu();else{const o=yield ea(n.localStore,xn(e));n.isPrimaryClient&&jh(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield zI(n,e,r,"current"===a)}return i}),WI.apply(this,arguments)}function zI(t,e,n,r){return KI.apply(this,arguments)}function KI(){return KI=g(function*(t,e,n,r){t.la=(l,d,h)=>{return(f=g(function*(p,m,_,E){let y=m.view.Gu(_);y.ni&&(y=yield Lh(p.localStore,m.query,!1).then(({documents:O})=>m.view.Gu(O,y)));const C=E&&E.targetChanges.get(m.targetId),P=m.view.applyChanges(y,p.isPrimaryClient,C);return iD(p,m.targetId,P.Hu),P.snapshot}),function(p,m,_,E){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield Lh(t.localStore,e,!0),s=new rO(e,i.li),o=s.Gu(i.documents),a=ic.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);iD(t,n,u.Hu);const c=new nX(e,n,s);return t.ea.set(e,c),t.na.has(n)?t.na.get(n).push(e):t.na.set(n,[e]),u.snapshot}),KI.apply(this,arguments)}function oX(t,e){return YI.apply(this,arguments)}function YI(){return YI=g(function*(t,e){const n=M(t),r=n.ea.get(e),i=n.na.get(r.targetId);if(i.length>1)return n.na.set(r.targetId,i.filter(s=>!Xu(s,e))),void n.ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ta(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),vc(n.remoteStore,r.targetId),ua(n,r.targetId)}).catch(_s))):(ua(n,r.targetId),yield ta(n.localStore,r.targetId,!0))}),YI.apply(this,arguments)}function QI(){return QI=g(function*(t,e,n){const r=mD(t);try{const i=yield function(s,o){const a=M(s),u=ze.now(),c=o.reduce((d,h)=>d.add(h.key),ce());let l;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.ci.Ks(d,c).next(h=>{l=h;const f=[];for(const p of o){const m=dQ(p,l.get(p.key));null!=m&&f.push(new ls(p.key,m,pR(m.value.mapValue),Ke.exists(!0)))}return a.Bs.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(l),{batchId:d.batchId,changes:l}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.ua[s.currentUser.toKey()];u||(u=new Be(W)),u=u.insert(o,a),s.ua[s.currentUser.toKey()]=u}(r,i.batchId,n),yield $r(r,i.changes),yield ra(r.remoteStore)}catch(i){const s=sa(i,"Failed to persist write");n.reject(s)}}),QI.apply(this,arguments)}function iO(t,e){return JI.apply(this,arguments)}function JI(){return JI=g(function*(t,e){const n=M(t);try{const r=yield wJ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ra.get(s);o&&(B(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Zu=!0:i.modifiedDocuments.size>0?B(o.Zu):i.removedDocuments.size>0&&(B(o.Zu),o.Zu=!1))}),yield $r(n,r,e)}catch(r){yield _s(r)}}),JI.apply(this,arguments)}function sO(t,e,n){const r=M(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ea.forEach((s,o)=>{const a=o.view.Au(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=M(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Au(o)&&(u=!0)}),u&&GI(a)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uX(t,e,n){return XI.apply(this,arguments)}function XI(){return XI=g(function*(t,e,n){const r=M(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ra.get(e),s=i&&i.key;if(s){let o=new Be(S.comparator);o=o.insert(s,Ee.newNoDocument(s,L.min()));const a=ce().add(s),u=new rc(L.min(),new Map,new Ie(W),o,a);yield iO(r,u),r.ia=r.ia.remove(s),r.ra.delete(e),sD(r)}else yield ta(r.localStore,e,!1).then(()=>ua(r,e,n)).catch(_s)}),XI.apply(this,arguments)}function cX(t,e){return ZI.apply(this,arguments)}function ZI(){return ZI=g(function*(t,e){const n=M(t),r=e.batch.batchId;try{const i=yield vJ(n.localStore,e);rD(n,r,null),nD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield $r(n,i)}catch(i){yield _s(i)}}),ZI.apply(this,arguments)}function lX(t,e,n){return eD.apply(this,arguments)}function eD(){return eD=g(function*(t,e,n){const r=M(t);try{const i=yield function(s,o){const a=M(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.Bs.lookupMutationBatch(u,o).next(l=>(B(null!==l),c=l.keys(),a.Bs.removeMutationBatch(u,l))).next(()=>a.Bs.performConsistencyCheck(u)).next(()=>a.ci.Ks(u,c))})}(r.localStore,e);rD(r,e,n),nD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield $r(r,i)}catch(i){yield _s(i)}}),eD.apply(this,arguments)}function nD(t,e){(t.aa.get(e)||[]).forEach(n=>{n.resolve()}),t.aa.delete(e)}function rD(t,e,n){const r=M(t);let i=r.ua[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ua[r.currentUser.toKey()]=i}}function ua(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.na.get(e))t.ea.delete(r),n&&t.ta.fa(r,n);t.na.delete(e),t.isPrimaryClient&&t.oa.Pi(e).forEach(r=>{t.oa.containsKey(r)||oO(t,r)})}function oO(t,e){t.sa.delete(e.path.canonicalString());const n=t.ia.get(e);null!==n&&(vc(t.remoteStore,n),t.ia=t.ia.remove(e),t.ra.delete(n),sD(t))}function iD(t,e,n){for(const r of n)r instanceof tO?(t.oa.addReference(r.key,e),hX(t,r)):r instanceof nO?(b("SyncEngine","Document no longer in limbo: "+r.key),t.oa.removeReference(r.key,e),t.oa.containsKey(r.key)||oO(t,r.key)):R()}function hX(t,e){const n=e.key,r=n.path.canonicalString();t.ia.get(n)||t.sa.has(r)||(b("SyncEngine","New document in limbo: "+n),t.sa.add(r),sD(t))}function sD(t){for(;t.sa.size>0&&t.ia.size<t.maxConcurrentLimboResolutions;){const e=t.sa.values().next().value;t.sa.delete(e);const n=new S(re.fromString(e)),r=t.ca.next();t.ra.set(r,new rX(n)),t.ia=t.ia.insert(n,r),jh(t.remoteStore,new pi(xn(Ho(n.path)),r,2,yn.A))}}function $r(t,e,n){return oD.apply(this,arguments)}function oD(){return oD=g(function*(t,e,n){const r=M(t),i=[],s=[],o=[];var a;r.ea.isEmpty()||(r.ea.forEach((a,u)=>{o.push(r.la(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=lI.Ys(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.ta.Qo(i),yield(a=g(function*(u,c){const l=M(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Hs,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Js,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ds(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.ii.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.ii=l.ii.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),oD.apply(this,arguments)}function fX(t,e){return aD.apply(this,arguments)}function aD(){return aD=g(function*(t,e){const n=M(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());const r=yield PP(n.localStore,e);n.currentUser=e,(i=n).aa.forEach(o=>{o.forEach(a=>{a.reject(new D(v.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.aa.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $r(n,r.hi)}var i}),aD.apply(this,arguments)}function pX(t,e){const n=M(t),r=n.ra.get(e);if(r&&r.Zu)return ce().add(r.key);{let i=ce();const s=n.na.get(e);if(!s)return i;for(const o of s){const a=n.ea.get(o);i=i.unionWith(a.view.Ku)}return i}}function gD(t){const e=M(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uX.bind(null,e),e.ta.Qo=XJ.bind(null,e.eventManager),e.ta.fa=ZJ.bind(null,e.eventManager),e}function mD(t){const e=M(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lX.bind(null,e),e}class DX{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.M=yc(e.databaseInfo.databaseId),n.sharedClientState=n._a(e),n.persistence=n.wa(e),yield n.persistence.start(),n.gcScheduler=n.ma(e),n.localStore=n.ga(e)})()}ma(e){return null}ga(e){return function RP(t,e,n,r){return new _J(t,e,n,r)}(this.persistence,new kP,e.initialUser,this.M)}wa(e){return new xJ(mI.zi,this.M)}_a(e){return new $P}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class yD{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>sO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=fX.bind(null,r.syncEngine),yield function LI(t,e){return VI.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new JJ}createDatastore(e){const n=yc(e.databaseInfo.databaseId),r=new OJ(e.databaseInfo);return new VJ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>sO(this.syncEngine,a,0),o=HP.vt()?new HP:new kJ,new UJ(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new iX(r,i,s,o,a,u);return c&&(l.ha=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=M(n);b("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield na(r),r._u.shutdown(),r.wu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Hh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class MX{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=eR.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){b("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(b("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ht;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=sa(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function lO(t,e){return _D.apply(this,arguments)}function _D(){return _D=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield PP(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),_D.apply(this,arguments)}function dO(t,e){return vD.apply(this,arguments)}function vD(){return vD=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield wD(t);b("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>JP(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>JP(e.remoteStore,s)),t.onlineComponents=e}),vD.apply(this,arguments)}function wD(t){return ED.apply(this,arguments)}function ED(){return ED=g(function*(t){return t.offlineComponents||(b("FirestoreClient","Using default OfflineComponentProvider"),yield lO(t,new DX)),t.offlineComponents}),ED.apply(this,arguments)}function Gh(t){return ID.apply(this,arguments)}function ID(){return ID=g(function*(t){return t.onlineComponents||(b("FirestoreClient","Using default OnlineComponentProvider"),yield dO(t,new yD)),t.onlineComponents}),ID.apply(this,arguments)}function ca(t){return CD.apply(this,arguments)}function CD(){return CD=g(function*(t){const e=yield Gh(t),n=e.eventManager;return n.onListen=sX.bind(null,e.syncEngine),n.onUnlisten=oX.bind(null,e.syncEngine),n}),CD.apply(this,arguments)}const mO=new Map;function TD(t,e,n){if(!n)throw new D(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yO(t){if(!S.isDocumentKey(t))throw new D(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":R()}function se(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qh(t);throw new D(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class wO{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function VX(t,e,n,r){if(!0===e&&!0===r)throw new D(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wc{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wO({}),this._settingsFrozen=!1,e instanceof li?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new D(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new li(i.options.projectId)}(e))}get app(){if(!this._app)throw new D(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wO(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new OY;switch(n.type){case"gapi":const r=n.client;return B(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new BY(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new D(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=mO.get(e);n&&(b("ComponentProvider","Removing Datastore"),mO.delete(e),n.terminate())}(this),Promise.resolve()}}class Ue{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ue(this.firestore,e,this._key)}}class Ft{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ft(this.firestore,e,this._query)}}class mr extends Ft{constructor(e,n,r){super(e,n,Ho(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ue(this.firestore,null,new S(e))}withConverter(e){return new mr(this.firestore,e,this._path)}}function AD(t,e,...n){if(t=qt(t),1===arguments.length&&(e=eR.R()),TD("doc","path",e),t instanceof wc){const r=re.fromString(e,...n);return yO(r),new Ue(t,null,new S(r))}{if(!(t instanceof Ue||t instanceof mr))throw new D(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(re.fromString(e,...n));return yO(r),new Ue(t.firestore,t instanceof mr?t.converter:null,new S(r))}}class UX{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new EI(this,"async_queue_retry"),this.qa=()=>{const n=Uh();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Do.Ao()};const e=Uh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const n=Uh();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const n=new ht;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return g(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(n){if(!ds(n))throw n;b("AsyncQueue","Operation failed with retryable error: "+n)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const n=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,We("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=n,n}enqueueAfterDelay(e,n,r){this.Ka(),this.Ua.indexOf(e)>-1&&(n=0);const i=BI.createAndSchedule(this,e,n,r,s=>this.ja(s));return this.Fa.push(i),i}Ka(){this.$a&&R()}verifyOperationInProgress(){}Wa(){var e=this;return g(function*(){let n;do{n=e.ka,yield n}while(n!==e.ka)})()}za(e){for(const n of this.Fa)if(n.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Fa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const n=this.Fa.indexOf(e);this.Fa.splice(n,1)}}function SD(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Se extends wc{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new UX,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||EO(this),this._firestoreClient.terminate()}}function $X(t=$m()){return Do(t,"firestore").getImmediate()}function ot(t){return t._firestoreClient||EO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function EO(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new GY(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new MX(t._authCredentials,t._appCheckCredentials,t._queue,r)}class la{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ws(st.fromBase64String(e))}catch(n){throw new D(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ws(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bO{constructor(e){this._methodName=e}}class MD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return W(this._lat,e._lat)||W(this._long,e._long)}}const HX=/^__.*__$/;class GX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new ec(e,this.data,n,this.fieldTransforms)}}function TO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R()}}class Wh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Ya(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new Wh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Za({path:r,ec:!1});return i.nc(e),i}sc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return Kh(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(TO(this.Xa)&&HX.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class qX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=r||yc(e)}ac(e,n,r,i=!1){return new Wh({Xa:e,methodName:n,uc:r,path:Dt.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function da(t){const e=t._freezeSettings(),n=yc(t._databaseId);return new qX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xD(t,e,n,r,i,s={}){const o=t.ac(s.merge||s.mergeFields?2:0,e,n,i);kD("Data must be an object, but it was:",o,r);const a=NO(r,o);let u,c;if(s.merge)u=new Uo(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=RD(e,d,n);if(!o.contains(h))throw new D(v.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);RO(l,h)||l.push(h)}u=new Uo(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new GX(new Ot(a),u,c)}function Es(t,e){if(kO(t=qt(t)))return kD("Unsupported field value:",e,t),NO(t,e);if(t instanceof bO)return function(n,r){if(!TO(r.Xa))throw r.rc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Es(o,r.ic(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=qt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return MR(r.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=ze.fromDate(n);return{timestampValue:sc(r.M,i)}}if(n instanceof ze){const i=new ze(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:sc(r.M,i)}}if(n instanceof MD)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ws)return{bytesValue:KR(r.M,n._byteString)};if(n instanceof Ue){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.rc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:KE(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.rc(`Unsupported field value: ${qh(n)}`)}(t,e)}function NO(t,e){const n={};return rR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(t,(r,i)=>{const s=Es(i,e.tc(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function kO(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof MD||t instanceof ws||t instanceof Ue||t instanceof bO)}function kD(t,e,n){if(!kO(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=qh(n);throw e.rc("an object"===r?t+" a custom object":t+" "+r)}var r}function RD(t,e,n){if((e=qt(e))instanceof la)return e._internalPath;if("string"==typeof e)return zh(t,e);throw Kh("Field path arguments must be of type string or ",t,!1,void 0,n)}const YX=new RegExp("[~\\*/\\[\\]]");function zh(t,e,n){if(e.search(YX)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new la(...e.split("."))._internalPath}catch(r){throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(v.INVALID_ARGUMENT,a+t+u)}function RO(t,e){return t.some(n=>n.isEqual(e))}class PD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yh("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class QX extends PD{data(){return super.data()}}function Yh(t,e){return"string"==typeof e?zh(t,e):e instanceof la?e._internalPath:e._delegate._internalPath}class Is{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends PD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yh("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qh extends ha{data(e={}){return super.data(e)}}class fa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Is(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qh(this._firestore,this._userDataWriter,r.key,r,new Is(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Qh(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Is(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Qh(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Is(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:JX(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R()}}class Ds extends class eZ{convertValue(e,n="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw R()}}convertObject(e,n){const r={};return ts(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new MD(Pe(e.latitude),Pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=iR(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qu(e));default:return null}}convertTimestamp(e){const n=ci(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=re.fromString(e);B(iP(r));const i=new li(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(n)||We(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}function nZ(t,e,n){t=se(t,Ue);const r=se(t.firestore,Se),i=function OD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return function Ic(t,e){return function(n,r){const i=new ht;return n.asyncQueue.enqueueAndForget(g(function*(){return function aX(t,e,n){return QI.apply(this,arguments)}(yield function bD(t){return Gh(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(ot(t),e)}(r,[xD(da(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ke.none())])}!function(t,e=!0){Vo="9.6.11",Wt(new Rt("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Se(i,new LY(n.getProvider("auth-internal")),new UY(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Re(Jk,"3.4.8",t),Re(Jk,"3.4.8","esm2017")}();var sZ={includeMetadataChanges:!1};function LD(t,e){return void 0===e&&(e=sZ),new Qe(function(n){var r=function rZ(t,...e){var n,r,i;t=qt(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||SD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(SD(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Ue)c=se(t.firestore,Se),l=Ho(t._key.path),u={next:d=>{e[o]&&e[o](function FD(t,e,n){const r=n.docs.get(e._key),i=new Ds(t);return new ha(t,i,e._key,r,new Is(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=se(t,Ft);c=se(d.firestore,Se),l=d._query;const h=new Ds(c);u={next:f=>{e[o]&&e[o](new fa(c,h,d,f))},error:e[o+1],complete:e[o+2]},function PO(t){if(Ih(t)&&0===t.explicitOrderBy.length)throw new D(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new Hh(p),_=new qI(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function UI(t,e){return jI.apply(this,arguments)}(yield ca(d),_)})),()=>{m.Ia(),d.asyncQueue.enqueueAndForget(g(function*(){return function $I(t,e){return HI.apply(this,arguments)}(yield ca(d),_)}))}}(ot(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function aZ(t,e){return void 0===e&&(e={}),function oZ(t){return LD(t,{includeMetadataChanges:!0})}(t).pipe(Ss(function(n){return function HO(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(n,e)}))}class Xh{constructor(e){return e}}const zO="firestore",UD=new X("angularfire2.firestore-instances");function gZ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Xh(r)}}const mZ={provide:class fZ{constructor(){return T_(zO)}},deps:[[new jt,UD]]},yZ={provide:Xh,useFactory:function pZ(t,e){const n=C_(zO,t,e);return n&&new Xh(n)},deps:[[new jt,UD],Mo]};let _Z=(()=>{class t{constructor(){Re("angularfire",yd.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=vn({providers:[yZ,mZ]}),t})();function vZ(t,...e){return{ngModule:_Z,providers:[{provide:UD,useFactory:gZ(t),multi:!0,deps:[tt,mt,A_,S_,[new jt,ON],[new jt,q_],...e]}]}}const wZ=dr(aZ,!0),EZ=dr($X,!0),IZ=dr(nZ,!0);let Dc=(()=>{class t{constructor(n,r){this.firestore=n,this.auth=r,this.user$=I9(r).pipe(zM(i=>i?wZ(AD(this.firestore,`users/${i.uid}`)).pipe(Ss(s=>({uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL,saved:s.saved,isPro:s.isPro}))):function DZ(...t){return Vc(t,Lb(t))}(null)))}createAccount(n){var r=this;return g(function*(){if(!n.displayName||!n.email||!n.password)throw Error("Insufficient information");const i=yield function M7(t,e,n){return Kv.apply(this,arguments)}(r.auth,n.email,n.password);yield A9(i.user,{displayName:n.displayName}),yield r.updateUserDoc(i.user)})()}loginWithGoogle(){var n=this;return g(function*(){const r=yield C9(n.auth,new I7);yield n.updateUserDoc(r.user)})()}login(n){var r=this;return g(function*(){if(!n.email||!n.password)throw Error("Invalid credentials");yield b9(r.auth,n.email,n.password)})()}updateUserDoc(n,r){var i=this;return g(function*(){const s={displayName:n.displayName,email:n.email,photoURL:n.photoURL,uid:n.uid,isPro:!1,saved:[]};r&&r.saved&&(s.saved=r.saved),yield IZ(AD(i.firestore,`users/${n.uid}`),Object.assign({},s),{merge:!0})})()}logout(){var n=this;return g(function*(){yield T9(n.auth)})()}}return t.\u0275fac=function(n){return new(n||t)(oe(Xh),oe($d))},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bZ(t,e){if(1&t&&(ae(0,"span"),jn(1,"img",1),ue()),2&t){const n=Tn().ngIf;we(1),Fe("src",n.photoURL,yp)("alt",n.displayName)}}function CZ(t,e){if(1&t&&(ae(0,"span")(1,"span"),Le(2),ue()()),2&t){const n=Tn().ngIf;we(2),Ri(n.displayName)}}function TZ(t,e){if(1&t&&(ae(0,"span")(1,"span"),Le(2),ue()()),2&t){const n=Tn().ngIf;we(2),Ri(n.email)}}function AZ(t,e){1&t&&(ae(0,"span")(1,"span",2),Le(2,"PRO"),ue()())}function SZ(t,e){if(1&t&&(ae(0,"span")(1,"span"),Le(2),ue()()),2&t){const n=Tn().ngIf,r=Tn();we(2),Ri(r.shortName(n.displayName))}}function MZ(t,e){if(1&t&&(ae(0,"span"),Nt(1,bZ,2,2,"span",0),Nt(2,CZ,3,1,"span",0),Nt(3,TZ,3,1,"span",0),Nt(4,AZ,3,0,"span",0),Nt(5,SZ,3,1,"span",0),ue()),2&t){const n=Tn();we(1),Fe("ngIf","photoURL"===n.field),we(1),Fe("ngIf","displayName"===n.field),we(1),Fe("ngIf","email"===n.field),we(1),Fe("ngIf","isPro"===n.field),we(1),Fe("ngIf","shortName"===n.field)}}let xZ=(()=>{class t{constructor(n){this.auth=n}shortName(n){const[r,i]=n.split(" ");return i?`${r[0]}. ${i}`:r}}return t.\u0275fac=function(n){return new(n||t)(T(Dc))},t.\u0275cmp=Jn({type:t,selectors:[["app-user-data"]],inputs:{field:"field"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"user-image",3,"src","alt"],[1,"pro-badge"]],template:function(n,r){1&n&&(Nt(0,MZ,6,5,"span",0),xg(1,"async")),2&n&&Fe("ngIf",Ng(1,1,r.auth.user$))},directives:[Eo],pipes:[mm],styles:[".user-image{height:30px;width:30px;border-radius:100%;vertical-align:middle}\n"],encapsulation:3}),t})();const{isArray:NZ}=Array,{getPrototypeOf:kZ,prototype:RZ,keys:PZ}=Object;const{isArray:LZ}=Array;function UZ(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function jZ(...t){const e=function RL(t){return be(Ef(t))?t.pop():void 0}(t),{args:n,keys:r}=function OZ(t){if(1===t.length){const e=t[0];if(NZ(e))return{args:e,keys:null};if(function FZ(t){return t&&"object"==typeof t&&kZ(t)===RZ}(e)){const n=PZ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t),i=new Qe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Gr(n[l]).subscribe(_r(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?UZ(r,a):a),s.complete())}))}});return e?i.pipe(function BZ(t){return Ss(e=>function VZ(t,e){return LZ(e)?t(...e):t(e)}(t,e))}(e)):i}let KO=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(T(Oi),T(Gn))},t.\u0275dir=H({type:t}),t})(),bs=(()=>{class t extends KO{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function St(t){return zr(()=>{const e=t.prototype.constructor,n=e[wr]||tp(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[wr]||tp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(r||t)}}(),t.\u0275dir=H({type:t,features:[de]}),t})();const yr=new X("NgValueAccessor"),HZ={provide:yr,useExisting:ge(()=>Zh),multi:!0},qZ=new X("CompositionEventMode");let Zh=(()=>{class t extends KO{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function GZ(){const t=Li()?Li().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(T(Oi),T(Gn),T(qZ,8))},t.\u0275dir=H({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Ze("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Te([HZ]),de]}),t})();const Lt=new X("NgValidators"),Ei=new X("NgAsyncValidators");function sF(t){return null!=t}function oF(t){const e=Sl(t)?Vc(t):t;return KT(e),e}function aF(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function uF(t,e){return e.map(n=>n(t))}function cF(t){return t.map(e=>function zZ(t){return!t.validate}(e)?e:n=>e.validate(n))}function jD(t){return null!=t?function lF(t){if(!t)return null;const e=t.filter(sF);return 0==e.length?null:function(n){return aF(uF(n,e))}}(cF(t)):null}function $D(t){return null!=t?function dF(t){if(!t)return null;const e=t.filter(sF);return 0==e.length?null:function(n){return jZ(uF(n,e).map(oF)).pipe(Ss(aF))}}(cF(t)):null}function hF(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function HD(t){return t?Array.isArray(t)?t:[t]:[]}function tf(t,e){return Array.isArray(t)?t.includes(e):t===e}function gF(t,e){const n=HD(e);return HD(t).forEach(i=>{tf(n,i)||n.push(i)}),n}function mF(t,e){return HD(e).filter(n=>!tf(t,n))}class yF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$D(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ii extends yF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xt extends yF{get formDirective(){return null}get path(){return null}}class _F{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let vF=(()=>{class t extends _F{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(Ii,2))},t.\u0275dir=H({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Ml("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[de]}),t})(),wF=(()=>{class t extends _F{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(Xt,10))},t.\u0275dir=H({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Ml("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[de]}),t})();function bc(t,e){WD(t,e),e.valueAccessor.writeValue(t.value),function tee(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&IF(t,e)})}(t,e),function ree(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function nee(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&IF(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function eee(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function af(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function WD(t,e){const n=function fF(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(hF(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function pF(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(hF(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();af(e._rawValidators,i),af(e._rawAsyncValidators,i)}function IF(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function YD(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Cc="VALID",cf="INVALID",pa="PENDING",Tc="DISABLED";function JD(t){return(lf(t)?t.validators:t)||null}function TF(t){return Array.isArray(t)?jD(t):t||null}function XD(t,e){return(lf(e)?e.asyncValidators:t)||null}function AF(t){return Array.isArray(t)?$D(t):t||null}function lf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const ZD=t=>t instanceof tb;function MF(t){return(t=>t instanceof kF)(t)?t.value:t.getRawValue()}function xF(t,e){const n=ZD(t),r=t.controls;if(!(n?Object.keys(r):r).length)throw new ee(1e3,"");if(!r[e])throw new ee(1001,"")}function NF(t,e){ZD(t),t._forEachChild((r,i)=>{if(void 0===e[i])throw new ee(1002,"")})}class eb{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=TF(this._rawValidators),this._composedAsyncValidatorFn=AF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Cc}get invalid(){return this.status===cf}get pending(){return this.status==pa}get disabled(){return this.status===Tc}get enabled(){return this.status!==Tc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=TF(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=AF(e)}addValidators(e){this.setValidators(gF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mF(e,this._rawAsyncValidators))}hasValidator(e){return tf(this._rawValidators,e)}hasAsyncValidator(e){return tf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=pa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Tc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Cc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cc||this.status===pa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tc:Cc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=pa,this._hasOwnPendingAsyncValidator=!0;const n=oF(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function aee(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(n)),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=ZD(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(t=>t instanceof cee)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new kt,this.statusChanges=new kt}_calculateStatus(){return this._allControlsDisabled()?Tc:this.errors?cf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pa)?pa:this._anyControlsHaveStatus(cf)?cf:Cc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class kF extends eb{constructor(e=null,n,r){super(JD(n),XD(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lf(n)&&n.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){YD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){YD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class tb extends eb{constructor(e,n,r){super(JD(n),XD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){NF(this,e),Object.keys(e).forEach(r=>{xF(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=MF(n),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class cee extends eb{constructor(e,n,r){super(JD(n),XD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){NF(this,e),e.forEach((r,i)=>{xF(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>MF(e))}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const lee={provide:Xt,useExisting:ge(()=>df)},Ac=(()=>Promise.resolve(null))();let df=(()=>{class t extends Xt{constructor(n,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new kt,this.form=new tb({},jD(n),$D(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ac.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),bc(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ac.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ac.then(()=>{const r=this._findContainer(n.path),i=new tb({});(function DF(t,e){WD(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ac.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ac.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function CF(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(T(Lt,10),T(Ei,10))},t.\u0275dir=H({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Ze("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Te([lee]),de]}),t})();const hee={provide:Ii,useExisting:ge(()=>nb)},OF=(()=>Promise.resolve(null))();let nb=(()=>{class t extends Ii{constructor(n,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new kF,this._registered=!1,this.update=new kt,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function KD(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Zh?n=s:function oee(t){return Object.getPrototypeOf(t.constructor)===bs}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function zD(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){OF.then(()=>{var r;this.control.setValue(n,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;OF.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(n){return this._parent?function rf(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(T(Xt,9),T(Lt,10),T(Ei,10),T(yr,10),T(em,8))},t.\u0275dir=H({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Te([hee]),de,Er]}),t})(),FF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=H({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),VF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=vn({}),t})(),Lee=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=vn({imports:[[VF]]}),t})(),Vee=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=vn({imports:[Lee]}),t})(),nL=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Jn({type:t,selectors:[["app-place-holder"]],inputs:{height:"height"},decls:1,vars:2,consts:[[1,"place-holder"]],template:function(n,r){1&n&&jn(0,"div",0),2&n&&vg("height",r.height)},encapsulation:2}),t})(),rL=(()=>{class t{constructor(n){this.auth=n}}return t.\u0275fac=function(n){return new(n||t)(T(Dc))},t.\u0275cmp=Jn({type:t,selectors:[["app-google-button"]],decls:8,vars:0,consts:[["type","button",1,"google-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48","width","25px","height","25px"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"]],template:function(n,r){1&n&&(ae(0,"button",0),Ze("click",function(){return r.auth.loginWithGoogle()}),function g0(){U.lFrame.currentNamespace="svg"}(),ae(1,"svg",1),jn(2,"path",2)(3,"path",3)(4,"path",4)(5,"path",5),ue(),function m0(){!function OV(){U.lFrame.currentNamespace=null}()}(),ae(6,"span"),Le(7,"Continue with Google"),ue()())},encapsulation:2}),t})();function Bee(t,e){if(1&t&&(ae(0,"div",17)(1,"p"),Le(2),ue()()),2&t){const n=Tn();we(2),ho("Logged in as ",n.user.email,"")}}function Uee(t,e){1&t&&(ae(0,"div"),jn(1,"app-place-holder",18),ue())}function jee(t,e){if(1&t&&(ae(0,"div",19),Le(1),ue()),2&t){const n=Tn();we(1),ho(" ",n.error," ")}}function $ee(t,e){if(1&t){const n=mg();ae(0,"div",7)(1,"label",20),Le(2,"Enter name"),ue(),ae(3,"input",21),Ze("ngModelChange",function(i){return Hf(n),Tn().displayName=i}),ue()()}if(2&t){const n=Tn();we(3),Fe("ngModel",n.displayName)}}let Hee=(()=>{class t{constructor(n){this.auth=n,this.state="login"}ngOnInit(){this.sub=this.auth.user$.subscribe(n=>{this.user=n})}onSubmit(){var n=this;return g(function*(){try{"login"===n.state&&(yield n.auth.login({email:n.email,password:n.password})),"signup"===n.state&&(yield n.auth.createAccount({email:n.email,password:n.password,displayName:n.displayName}))}catch(r){n.error=r.message}})()}oAuthLogin(n){var r=this;return g(function*(){try{"google"===n&&(yield r.auth.loginWithGoogle())}catch(i){if("auth/popup-closed-by-user"===i.code)return void(r.error="User cancelled login");r.error=i.message}})()}toggleState(){this.state="login"===this.state?"signup":"login"}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(T(Dc))},t.\u0275cmp=Jn({type:t,selectors:[["app-login-form"]],decls:30,vars:10,consts:[[1,"login"],[1,"login__heading","heading"],[3,"ngSubmit"],["class","login__info info alert",4,"ngIf"],[4,"ngIf"],["class","login__error error alert",4,"ngIf"],["class","field",4,"ngIf"],[1,"field"],["for","email"],["type","email","name","email","placeholder","john.wick@example.com",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password",3,"ngModel","placeholder","ngModelChange"],[1,"login__actions"],["href","/reset-password"],[3,"click"],["type","submit",1,"btn","btn__primary","login__button"],[1,"or"],[1,"login__info","info","alert"],["height","34px"],[1,"login__error","error","alert"],["for","name"],["type","text","name","name","placeholder","John Wick",3,"ngModel","ngModelChange"]],template:function(n,r){1&n&&(ae(0,"div",0)(1,"h1",1),Le(2),ue(),ae(3,"form",2),Ze("ngSubmit",function(){return r.onSubmit()}),Nt(4,Bee,3,1,"div",3),Nt(5,Uee,2,0,"div",4),Nt(6,jee,2,1,"div",5),Nt(7,$ee,4,1,"div",6),ae(8,"div",7)(9,"label",8),Le(10,"Enter email"),ue(),ae(11,"input",9),Ze("ngModelChange",function(s){return r.email=s}),ue()(),ae(12,"div",7)(13,"label",10),Le(14,"Enter password"),ue(),ae(15,"input",11),Ze("ngModelChange",function(s){return r.password=s}),ue()(),ae(16,"div",12)(17,"a",13),Le(18,"Forgot password?"),ue(),Le(19," \xa0/\xa0 "),ae(20,"a",14),Ze("click",function(){return r.toggleState()}),Le(21),ue()(),ae(22,"button",15),Le(23),ue(),ae(24,"div",16),Le(25,"- - - - - - - - "),ae(26,"span"),Le(27,"OR"),ue(),Le(28," - - - - - - - -"),ue(),jn(29,"app-google-button"),ue()()),2&n&&(we(2),Ri("login"===r.state?"Login":"Create Account"),we(2),Fe("ngIf",r.user),we(1),Fe("ngIf",void 0===r.user),we(1),Fe("ngIf",r.error),we(1),Fe("ngIf","signup"===r.state),we(4),Fe("ngModel",r.email),we(4),Fe("ngModel",r.password)("placeholder","signup"===r.state?"at least 6 characters":"password"),we(6),Ri("login"===r.state?"Create Account":"Login with email"),we(2),ho(" ","login"===r.state?"Login":"Create Account"," "))},directives:[FF,wF,df,Eo,nL,Zh,vF,nb,rL],encapsulation:2}),t})();function Gee(t,e){1&t&&jn(0,"slot")}function qee(t,e){1&t&&jn(0,"slot",2)}let Wee=(()=>{class t{constructor(n){this.auth=n}ngOnInit(){this.sub=this.auth.user$.subscribe(n=>{this.user=n})}get allowed(){return!!("logged"===this.level&&this.user||"pro"===this.level&&this.user&&this.user.isPro)}ngOnDestroy(){this.sub.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(T(Dc))},t.\u0275cmp=Jn({type:t,selectors:[["app-allow-if"]],inputs:{level:"level"},decls:2,vars:2,consts:[[4,"ngIf"],["name","else",4,"ngIf"],["name","else"]],template:function(n,r){1&n&&(Nt(0,Gee,1,0,"slot",0),Nt(1,qee,1,0,"slot",1)),2&n&&(Fe("ngIf",r.allowed),we(1),Fe("ngIf",!r.allowed))},directives:[Eo],encapsulation:3}),t})();function zee(t,e){1&t&&jn(0,"i",3)}function Kee(t,e){1&t&&jn(0,"i",4)}let Yee=(()=>{class t{constructor(){this.defaultTheme="light",this.current="light",localStorage.theme?document.body.classList.add(localStorage.theme):localStorage.theme=this.defaultTheme}toggle(){document.body.classList.toggle("dark"),document.body.classList.contains("dark")?(this.current="dark",localStorage.theme="dark"):(this.current="light",localStorage.theme="light")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Jn({type:t,selectors:[["app-theme-switcher"]],decls:3,vars:2,consts:[[3,"click"],["class","fa-solid fa-sun",4,"ngIf"],["class","fa-solid fa-moon",4,"ngIf"],[1,"fa-solid","fa-sun"],[1,"fa-solid","fa-moon"]],template:function(n,r){1&n&&(ae(0,"a",0),Ze("click",function(){return r.toggle()}),Nt(1,zee,1,0,"i",1),Nt(2,Kee,1,0,"i",2),ue()),2&n&&(we(1),Fe("ngIf","dark"===r.current),we(1),Fe("ngIf","light"===r.current))},directives:[Eo],styles:["i[_ngcontent-%COMP%]{font-size:1.5rem}i[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),t})(),Qee=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Jn({type:t,selectors:[["app-save-button"]],decls:2,vars:0,template:function(n,r){1&n&&(ae(0,"p"),Le(1,"save-button works!"),ue())},styles:[""]}),t})();function Jee(t,e){if(1&t){const n=mg();ae(0,"button",1),Ze("click",function(){return Hf(n),Tn().auth.logout()}),Le(1,"Logout"),ue()}}const Xee=[[xZ,"user-data"],[Hee,"login-form"],[Wee,"allow-if"],[Yee,"theme-switcher"],[Qee,"save-button"],[nL,"place-holder"],[(()=>{class t{constructor(n){this.auth=n}}return t.\u0275fac=function(n){return new(n||t)(T(Dc))},t.\u0275cmp=Jn({type:t,selectors:[["app-logout-button"]],decls:2,vars:3,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(n,r){1&n&&(Nt(0,Jee,2,0,"button",0),xg(1,"async")),2&n&&Fe("ngIf",Ng(1,1,r.auth.user$))},directives:[Eo],pipes:[mm],encapsulation:2}),t})(),"logout-button"],[rL,"google-button"]];let Zee=(()=>{class t{constructor(n){for(const[r,i]of Xee){const s=RW(r,{injector:n});customElements.define(i,s)}}}return t.\u0275fac=function(n){return new(n||t)(oe(mt))},t.\u0275mod=Pn({type:t}),t.\u0275inj=vn({imports:[[uW,Vee,$6(()=>H6(KM_firebase)),vZ(()=>EZ()),E9(()=>D9())]]}),t})();(function QG(){uM=!1})(),oW().bootstrapModule(Zee).catch(t=>console.error(t))}},be=>{be(be.s=324)}]);
"use strict";(self.webpackChunknxcoder=self.webpackChunknxcoder||[]).push([[429],{435:(ie,Ee,de)=>{de(583)},583:()=>{!function(e){const n=e.performance;function i(M){n&&n.mark&&n.mark(M)}function o(M,E){n&&n.measure&&n.measure(M,E)}i("Zone");const c=e.__Zone_symbol_prefix||"__zone_symbol__";function a(M){return c+M}const T=!0===e[a("forceDuplicateZoneCheck")];if(e.Zone){if(T||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}let d=(()=>{class M{constructor(t,r){this._parent=t,this._name=r?r.name||"unnamed":"<root>",this._properties=r&&r.properties||{},this._zoneDelegate=new v(this,this._parent&&this._parent._zoneDelegate,r)}static assertZonePatched(){if(e.Promise!==oe.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=M.current;for(;t.parent;)t=t.parent;return t}static get current(){return U.zone}static get currentTask(){return re}static __load_patch(t,r,k=!1){if(oe.hasOwnProperty(t)){if(!k&&T)throw Error("Already loaded patch: "+t)}else if(!e["__Zone_disable_"+t]){const C="Zone:"+t;i(C),oe[t]=r(e,M,z),o(C,C)}}get parent(){return this._parent}get name(){return this._name}get(t){const r=this.getZoneWith(t);if(r)return r._properties[t]}getZoneWith(t){let r=this;for(;r;){if(r._properties.hasOwnProperty(t))return r;r=r._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,r){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const k=this._zoneDelegate.intercept(this,t,r),C=this;return function(){return C.runGuarded(k,this,arguments,r)}}run(t,r,k,C){U={parent:U,zone:this};try{return this._zoneDelegate.invoke(this,t,r,k,C)}finally{U=U.parent}}runGuarded(t,r=null,k,C){U={parent:U,zone:this};try{try{return this._zoneDelegate.invoke(this,t,r,k,C)}catch($){if(this._zoneDelegate.handleError(this,$))throw $}}finally{U=U.parent}}runTask(t,r,k){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||K).name+"; Execution: "+this.name+")");if(t.state===x&&(t.type===Q||t.type===P))return;const C=t.state!=y;C&&t._transitionTo(y,j),t.runCount++;const $=re;re=t,U={parent:U,zone:this};try{t.type==P&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,r,k)}catch(l){if(this._zoneDelegate.handleError(this,l))throw l}}finally{t.state!==x&&t.state!==h&&(t.type==Q||t.data&&t.data.isPeriodic?C&&t._transitionTo(j,y):(t.runCount=0,this._updateTaskCount(t,-1),C&&t._transitionTo(x,y,x))),U=U.parent,re=$}}scheduleTask(t){if(t.zone&&t.zone!==this){let k=this;for(;k;){if(k===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);k=k.parent}}t._transitionTo(X,x);const r=[];t._zoneDelegates=r,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(k){throw t._transitionTo(h,X,x),this._zoneDelegate.handleError(this,k),k}return t._zoneDelegates===r&&this._updateTaskCount(t,1),t.state==X&&t._transitionTo(j,X),t}scheduleMicroTask(t,r,k,C){return this.scheduleTask(new p(I,t,r,k,C,void 0))}scheduleMacroTask(t,r,k,C,$){return this.scheduleTask(new p(P,t,r,k,C,$))}scheduleEventTask(t,r,k,C,$){return this.scheduleTask(new p(Q,t,r,k,C,$))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||K).name+"; Execution: "+this.name+")");t._transitionTo(G,j,y);try{this._zoneDelegate.cancelTask(this,t)}catch(r){throw t._transitionTo(h,G),this._zoneDelegate.handleError(this,r),r}return this._updateTaskCount(t,-1),t._transitionTo(x,G),t.runCount=0,t}_updateTaskCount(t,r){const k=t._zoneDelegates;-1==r&&(t._zoneDelegates=null);for(let C=0;C<k.length;C++)k[C]._updateTaskCount(t.type,r)}}return M.__symbol__=a,M})();const b={name:"",onHasTask:(M,E,t,r)=>M.hasTask(t,r),onScheduleTask:(M,E,t,r)=>M.scheduleTask(t,r),onInvokeTask:(M,E,t,r,k,C)=>M.invokeTask(t,r,k,C),onCancelTask:(M,E,t,r)=>M.cancelTask(t,r)};class v{constructor(E,t,r){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=E,this._parentDelegate=t,this._forkZS=r&&(r&&r.onFork?r:t._forkZS),this._forkDlgt=r&&(r.onFork?t:t._forkDlgt),this._forkCurrZone=r&&(r.onFork?this.zone:t._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:t._interceptZS),this._interceptDlgt=r&&(r.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:t._invokeZS),this._invokeDlgt=r&&(r.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:t._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:t._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:t._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:t._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const k=r&&r.onHasTask;(k||t&&t._hasTaskZS)&&(this._hasTaskZS=k?r:b,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=E,r.onScheduleTask||(this._scheduleTaskZS=b,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),r.onInvokeTask||(this._invokeTaskZS=b,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),r.onCancelTask||(this._cancelTaskZS=b,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}fork(E,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,E,t):new d(E,t)}intercept(E,t,r){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,E,t,r):t}invoke(E,t,r,k,C){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,E,t,r,k,C):t.apply(r,k)}handleError(E,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,E,t)}scheduleTask(E,t){let r=t;if(this._scheduleTaskZS)this._hasTaskZS&&r._zoneDelegates.push(this._hasTaskDlgtOwner),r=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,E,t),r||(r=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=I)throw new Error("Task is missing scheduleFn.");R(t)}return r}invokeTask(E,t,r,k){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,E,t,r,k):t.callback.apply(r,k)}cancelTask(E,t){let r;if(this._cancelTaskZS)r=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,E,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");r=t.cancelFn(t)}return r}hasTask(E,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,E,t)}catch(r){this.handleError(E,r)}}_updateTaskCount(E,t){const r=this._taskCounts,k=r[E],C=r[E]=k+t;if(C<0)throw new Error("More tasks executed then were scheduled.");0!=k&&0!=C||this.hasTask(this.zone,{microTask:r.microTask>0,macroTask:r.macroTask>0,eventTask:r.eventTask>0,change:E})}}class p{constructor(E,t,r,k,C,$){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=E,this.source=t,this.data=k,this.scheduleFn=C,this.cancelFn=$,!r)throw new Error("callback is not defined");this.callback=r;const l=this;this.invoke=E===Q&&k&&k.useG?p.invokeTask:function(){return p.invokeTask.call(e,l,this,arguments)}}static invokeTask(E,t,r){E||(E=this),ee++;try{return E.runCount++,E.zone.runTask(E,t,r)}finally{1==ee&&_(),ee--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(x,X)}_transitionTo(E,t,r){if(this._state!==t&&this._state!==r)throw new Error(`${this.type} '${this.source}': can not transition to '${E}', expecting state '${t}'${r?" or '"+r+"'":""}, was '${this._state}'.`);this._state=E,E==x&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const L=a("setTimeout"),Z=a("Promise"),N=a("then");let J,B=[],H=!1;function q(M){if(J||e[Z]&&(J=e[Z].resolve(0)),J){let E=J[N];E||(E=J.then),E.call(J,M)}else e[L](M,0)}function R(M){0===ee&&0===B.length&&q(_),M&&B.push(M)}function _(){if(!H){for(H=!0;B.length;){const M=B;B=[];for(let E=0;E<M.length;E++){const t=M[E];try{t.zone.runTask(t,null,null)}catch(r){z.onUnhandledError(r)}}}z.microtaskDrainDone(),H=!1}}const K={name:"NO ZONE"},x="notScheduled",X="scheduling",j="scheduled",y="running",G="canceling",h="unknown",I="microTask",P="macroTask",Q="eventTask",oe={},z={symbol:a,currentZoneFrame:()=>U,onUnhandledError:W,microtaskDrainDone:W,scheduleMicroTask:R,showUncaughtError:()=>!d[a("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:W,patchMethod:()=>W,bindArguments:()=>[],patchThen:()=>W,patchMacroTask:()=>W,patchEventPrototype:()=>W,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>W,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>W,wrapWithCurrentZone:()=>W,filterProperties:()=>[],attachOriginToPatched:()=>W,_redefineProperty:()=>W,patchCallbacks:()=>W,nativeScheduleMicroTask:q};let U={parent:null,zone:new d(null,null)},re=null,ee=0;function W(){}o("Zone","Zone"),e.Zone=d}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const ie=Object.getOwnPropertyDescriptor,Ee=Object.defineProperty,de=Object.getPrototypeOf,ge=Object.create,Ve=Array.prototype.slice,Oe="addEventListener",Se="removeEventListener",Ze=Zone.__symbol__(Oe),Ne=Zone.__symbol__(Se),ce="true",ae="false",ke=Zone.__symbol__("");function Ie(e,n){return Zone.current.wrap(e,n)}function Me(e,n,i,o,c){return Zone.current.scheduleMacroTask(e,n,i,o,c)}const A=Zone.__symbol__,Pe="undefined"!=typeof window,Te=Pe?window:void 0,Y=Pe&&Te||"object"==typeof self&&self||global;function Le(e,n){for(let i=e.length-1;i>=0;i--)"function"==typeof e[i]&&(e[i]=Ie(e[i],n+"_"+i));return e}function Fe(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}const Be="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,we=!("nw"in Y)&&void 0!==Y.process&&"[object process]"==={}.toString.call(Y.process),je=!we&&!Be&&!(!Pe||!Te.HTMLElement),Ue=void 0!==Y.process&&"[object process]"==={}.toString.call(Y.process)&&!Be&&!(!Pe||!Te.HTMLElement),Re={},We=function(e){if(!(e=e||Y.event))return;let n=Re[e.type];n||(n=Re[e.type]=A("ON_PROPERTY"+e.type));const i=this||e.target||Y,o=i[n];let c;if(je&&i===Te&&"error"===e.type){const a=e;c=o&&o.call(this,a.message,a.filename,a.lineno,a.colno,a.error),!0===c&&e.preventDefault()}else c=o&&o.apply(this,arguments),null!=c&&!c&&e.preventDefault();return c};function qe(e,n,i){let o=ie(e,n);if(!o&&i&&ie(i,n)&&(o={enumerable:!0,configurable:!0}),!o||!o.configurable)return;const c=A("on"+n+"patched");if(e.hasOwnProperty(c)&&e[c])return;delete o.writable,delete o.value;const a=o.get,T=o.set,d=n.substr(2);let b=Re[d];b||(b=Re[d]=A("ON_PROPERTY"+d)),o.set=function(v){let p=this;!p&&e===Y&&(p=Y),p&&("function"==typeof p[b]&&p.removeEventListener(d,We),T&&T.call(p,null),p[b]=v,"function"==typeof v&&p.addEventListener(d,We,!1))},o.get=function(){let v=this;if(!v&&e===Y&&(v=Y),!v)return null;const p=v[b];if(p)return p;if(a){let L=a.call(this);if(L)return o.set.call(this,L),"function"==typeof v.removeAttribute&&v.removeAttribute(n),L}return null},Ee(e,n,o),e[c]=!0}function Xe(e,n,i){if(n)for(let o=0;o<n.length;o++)qe(e,"on"+n[o],i);else{const o=[];for(const c in e)"on"==c.substr(0,2)&&o.push(c);for(let c=0;c<o.length;c++)qe(e,o[c],i)}}const ne=A("originalInstance");function ve(e){const n=Y[e];if(!n)return;Y[A(e)]=n,Y[e]=function(){const c=Le(arguments,e);switch(c.length){case 0:this[ne]=new n;break;case 1:this[ne]=new n(c[0]);break;case 2:this[ne]=new n(c[0],c[1]);break;case 3:this[ne]=new n(c[0],c[1],c[2]);break;case 4:this[ne]=new n(c[0],c[1],c[2],c[3]);break;default:throw new Error("Arg list too long.")}},ue(Y[e],n);const i=new n(function(){});let o;for(o in i)"XMLHttpRequest"===e&&"responseBlob"===o||function(c){"function"==typeof i[c]?Y[e].prototype[c]=function(){return this[ne][c].apply(this[ne],arguments)}:Ee(Y[e].prototype,c,{set:function(a){"function"==typeof a?(this[ne][c]=Ie(a,e+"."+c),ue(this[ne][c],a)):this[ne][c]=a},get:function(){return this[ne][c]}})}(o);for(o in n)"prototype"!==o&&n.hasOwnProperty(o)&&(Y[e][o]=n[o])}function le(e,n,i){let o=e;for(;o&&!o.hasOwnProperty(n);)o=de(o);!o&&e[n]&&(o=e);const c=A(n);let a=null;if(o&&(!(a=o[c])||!o.hasOwnProperty(c))&&(a=o[c]=o[n],Fe(o&&ie(o,n)))){const d=i(a,c,n);o[n]=function(){return d(this,arguments)},ue(o[n],a)}return a}function lt(e,n,i){let o=null;function c(a){const T=a.data;return T.args[T.cbIdx]=function(){a.invoke.apply(this,arguments)},o.apply(T.target,T.args),a}o=le(e,n,a=>function(T,d){const b=i(T,d);return b.cbIdx>=0&&"function"==typeof d[b.cbIdx]?Me(b.name,d[b.cbIdx],b,c):a.apply(T,d)})}function ue(e,n){e[A("OriginalDelegate")]=n}let ze=!1,Ae=!1;function ft(){if(ze)return Ae;ze=!0;try{const e=Te.navigator.userAgent;(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/"))&&(Ae=!0)}catch(e){}return Ae}Zone.__load_patch("ZoneAwarePromise",(e,n,i)=>{const o=Object.getOwnPropertyDescriptor,c=Object.defineProperty,T=i.symbol,d=[],b=!0===e[T("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],v=T("Promise"),p=T("then");i.onUnhandledError=l=>{if(i.showUncaughtError()){const u=l&&l.rejection;u?console.error("Unhandled Promise rejection:",u instanceof Error?u.message:u,"; Zone:",l.zone.name,"; Task:",l.task&&l.task.source,"; Value:",u,u instanceof Error?u.stack:void 0):console.error(l)}},i.microtaskDrainDone=()=>{for(;d.length;){const l=d.shift();try{l.zone.runGuarded(()=>{throw l.throwOriginal?l.rejection:l})}catch(u){N(u)}}};const Z=T("unhandledPromiseRejectionHandler");function N(l){i.onUnhandledError(l);try{const u=n[Z];"function"==typeof u&&u.call(this,l)}catch(u){}}function B(l){return l&&l.then}function H(l){return l}function J(l){return t.reject(l)}const q=T("state"),R=T("value"),_=T("finally"),K=T("parentPromiseValue"),x=T("parentPromiseState"),j=null,y=!0,G=!1;function I(l,u){return s=>{try{z(l,u,s)}catch(f){z(l,!1,f)}}}const oe=T("currentTaskTrace");function z(l,u,s){const f=function(){let l=!1;return function(s){return function(){l||(l=!0,s.apply(null,arguments))}}}();if(l===s)throw new TypeError("Promise resolved with itself");if(l[q]===j){let g=null;try{("object"==typeof s||"function"==typeof s)&&(g=s&&s.then)}catch(w){return f(()=>{z(l,!1,w)})(),l}if(u!==G&&s instanceof t&&s.hasOwnProperty(q)&&s.hasOwnProperty(R)&&s[q]!==j)re(s),z(l,s[q],s[R]);else if(u!==G&&"function"==typeof g)try{g.call(s,f(I(l,u)),f(I(l,!1)))}catch(w){f(()=>{z(l,!1,w)})()}else{l[q]=u;const w=l[R];if(l[R]=s,l[_]===_&&u===y&&(l[q]=l[x],l[R]=l[K]),u===G&&s instanceof Error){const m=n.currentTask&&n.currentTask.data&&n.currentTask.data.__creationTrace__;m&&c(s,oe,{configurable:!0,enumerable:!1,writable:!0,value:m})}for(let m=0;m<w.length;)ee(l,w[m++],w[m++],w[m++],w[m++]);if(0==w.length&&u==G){l[q]=0;let m=s;try{throw new Error("Uncaught (in promise): "+function a(l){return l&&l.toString===Object.prototype.toString?(l.constructor&&l.constructor.name||"")+": "+JSON.stringify(l):l?l.toString():Object.prototype.toString.call(l)}(s)+(s&&s.stack?"\n"+s.stack:""))}catch(D){m=D}b&&(m.throwOriginal=!0),m.rejection=s,m.promise=l,m.zone=n.current,m.task=n.currentTask,d.push(m),i.scheduleMicroTask()}}}return l}const U=T("rejectionHandledHandler");function re(l){if(0===l[q]){try{const u=n[U];u&&"function"==typeof u&&u.call(this,{rejection:l[R],promise:l})}catch(u){}l[q]=G;for(let u=0;u<d.length;u++)l===d[u].promise&&d.splice(u,1)}}function ee(l,u,s,f,g){re(l);const w=l[q],m=w?"function"==typeof f?f:H:"function"==typeof g?g:J;u.scheduleMicroTask("Promise.then",()=>{try{const D=l[R],O=!!s&&_===s[_];O&&(s[K]=D,s[x]=w);const S=u.run(m,void 0,O&&m!==J&&m!==H?[]:[D]);z(s,!0,S)}catch(D){z(s,!1,D)}},s)}const M=function(){},E=e.AggregateError;class t{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(u){return z(new this(null),y,u)}static reject(u){return z(new this(null),G,u)}static any(u){if(!u||"function"!=typeof u[Symbol.iterator])return Promise.reject(new E([],"All promises were rejected"));const s=[];let f=0;try{for(let m of u)f++,s.push(t.resolve(m))}catch(m){return Promise.reject(new E([],"All promises were rejected"))}if(0===f)return Promise.reject(new E([],"All promises were rejected"));let g=!1;const w=[];return new t((m,D)=>{for(let O=0;O<s.length;O++)s[O].then(S=>{g||(g=!0,m(S))},S=>{w.push(S),f--,0===f&&(g=!0,D(new E(w,"All promises were rejected")))})})}static race(u){let s,f,g=new this((D,O)=>{s=D,f=O});function w(D){s(D)}function m(D){f(D)}for(let D of u)B(D)||(D=this.resolve(D)),D.then(w,m);return g}static all(u){return t.allWithCallback(u)}static allSettled(u){return(this&&this.prototype instanceof t?this:t).allWithCallback(u,{thenCallback:f=>({status:"fulfilled",value:f}),errorCallback:f=>({status:"rejected",reason:f})})}static allWithCallback(u,s){let f,g,w=new this((S,V)=>{f=S,g=V}),m=2,D=0;const O=[];for(let S of u){B(S)||(S=this.resolve(S));const V=D;try{S.then(F=>{O[V]=s?s.thenCallback(F):F,m--,0===m&&f(O)},F=>{s?(O[V]=s.errorCallback(F),m--,0===m&&f(O)):g(F)})}catch(F){g(F)}m++,D++}return m-=2,0===m&&f(O),w}constructor(u){const s=this;if(!(s instanceof t))throw new Error("Must be an instanceof Promise.");s[q]=j,s[R]=[];try{u&&u(I(s,y),I(s,G))}catch(f){z(s,!1,f)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return t}then(u,s){let f=this.constructor[Symbol.species];(!f||"function"!=typeof f)&&(f=this.constructor||t);const g=new f(M),w=n.current;return this[q]==j?this[R].push(w,g,u,s):ee(this,w,g,u,s),g}catch(u){return this.then(null,u)}finally(u){let s=this.constructor[Symbol.species];(!s||"function"!=typeof s)&&(s=t);const f=new s(M);f[_]=_;const g=n.current;return this[q]==j?this[R].push(g,f,u,u):ee(this,g,f,u,u),f}}t.resolve=t.resolve,t.reject=t.reject,t.race=t.race,t.all=t.all;const r=e[v]=e.Promise;e.Promise=t;const k=T("thenPatched");function C(l){const u=l.prototype,s=o(u,"then");if(s&&(!1===s.writable||!s.configurable))return;const f=u.then;u[p]=f,l.prototype.then=function(g,w){return new t((D,O)=>{f.call(this,D,O)}).then(g,w)},l[k]=!0}return i.patchThen=C,r&&(C(r),le(e,"fetch",l=>function $(l){return function(u,s){let f=l.apply(u,s);if(f instanceof t)return f;let g=f.constructor;return g[k]||C(g),f}}(l))),Promise[n.__symbol__("uncaughtPromiseErrors")]=d,t}),Zone.__load_patch("toString",e=>{const n=Function.prototype.toString,i=A("OriginalDelegate"),o=A("Promise"),c=A("Error"),a=function(){if("function"==typeof this){const v=this[i];if(v)return"function"==typeof v?n.call(v):Object.prototype.toString.call(v);if(this===Promise){const p=e[o];if(p)return n.call(p)}if(this===Error){const p=e[c];if(p)return n.call(p)}}return n.call(this)};a[i]=n,Function.prototype.toString=a;const T=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":T.call(this)}});let ye=!1;if("undefined"!=typeof window)try{const e=Object.defineProperty({},"passive",{get:function(){ye=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){ye=!1}const ht={useG:!0},te={},Ye={},$e=new RegExp("^"+ke+"(\\w+)(true|false)$"),Ke=A("propagationStopped");function Je(e,n){const i=(n?n(e):e)+ae,o=(n?n(e):e)+ce,c=ke+i,a=ke+o;te[e]={},te[e][ae]=c,te[e][ce]=a}function dt(e,n,i,o){const c=o&&o.add||Oe,a=o&&o.rm||Se,T=o&&o.listeners||"eventListeners",d=o&&o.rmAll||"removeAllListeners",b=A(c),v="."+c+":",Z=function(R,_,K){if(R.isRemoved)return;const x=R.callback;let X;"object"==typeof x&&x.handleEvent&&(R.callback=y=>x.handleEvent(y),R.originalDelegate=x);try{R.invoke(R,_,[K])}catch(y){X=y}const j=R.options;return j&&"object"==typeof j&&j.once&&_[a].call(_,K.type,R.originalDelegate?R.originalDelegate:R.callback,j),X};function N(R,_,K){if(!(_=_||e.event))return;const x=R||_.target||e,X=x[te[_.type][K?ce:ae]];if(X){const j=[];if(1===X.length){const y=Z(X[0],x,_);y&&j.push(y)}else{const y=X.slice();for(let G=0;G<y.length&&(!_||!0!==_[Ke]);G++){const h=Z(y[G],x,_);h&&j.push(h)}}if(1===j.length)throw j[0];for(let y=0;y<j.length;y++){const G=j[y];n.nativeScheduleMicroTask(()=>{throw G})}}}const B=function(R){return N(this,R,!1)},H=function(R){return N(this,R,!0)};function J(R,_){if(!R)return!1;let K=!0;_&&void 0!==_.useG&&(K=_.useG);const x=_&&_.vh;let X=!0;_&&void 0!==_.chkDup&&(X=_.chkDup);let j=!1;_&&void 0!==_.rt&&(j=_.rt);let y=R;for(;y&&!y.hasOwnProperty(c);)y=de(y);if(!y&&R[c]&&(y=R),!y||y[b])return!1;const G=_&&_.eventNameToString,h={},I=y[b]=y[c],P=y[A(a)]=y[a],Q=y[A(T)]=y[T],oe=y[A(d)]=y[d];let z;function U(s,f){return!ye&&"object"==typeof s&&s?!!s.capture:ye&&f?"boolean"==typeof s?{capture:s,passive:!0}:s?"object"==typeof s&&!1!==s.passive?Object.assign(Object.assign({},s),{passive:!0}):s:{passive:!0}:s}_&&_.prepend&&(z=y[A(_.prepend)]=y[_.prepend]);const t=K?function(s){if(!h.isExisting)return I.call(h.target,h.eventName,h.capture?H:B,h.options)}:function(s){return I.call(h.target,h.eventName,s.invoke,h.options)},r=K?function(s){if(!s.isRemoved){const f=te[s.eventName];let g;f&&(g=f[s.capture?ce:ae]);const w=g&&s.target[g];if(w)for(let m=0;m<w.length;m++)if(w[m]===s){w.splice(m,1),s.isRemoved=!0,0===w.length&&(s.allRemoved=!0,s.target[g]=null);break}}if(s.allRemoved)return P.call(s.target,s.eventName,s.capture?H:B,s.options)}:function(s){return P.call(s.target,s.eventName,s.invoke,s.options)},C=_&&_.diff?_.diff:function(s,f){const g=typeof f;return"function"===g&&s.callback===f||"object"===g&&s.originalDelegate===f},$=Zone[A("UNPATCHED_EVENTS")],l=e[A("PASSIVE_EVENTS")],u=function(s,f,g,w,m=!1,D=!1){return function(){const O=this||e;let S=arguments[0];_&&_.transferEventName&&(S=_.transferEventName(S));let V=arguments[1];if(!V)return s.apply(this,arguments);if(we&&"uncaughtException"===S)return s.apply(this,arguments);let F=!1;if("function"!=typeof V){if(!V.handleEvent)return s.apply(this,arguments);F=!0}if(x&&!x(s,V,O,arguments))return;const fe=ye&&!!l&&-1!==l.indexOf(S),se=U(arguments[2],fe);if($)for(let _e=0;_e<$.length;_e++)if(S===$[_e])return fe?s.call(O,S,V,se):s.apply(this,arguments);const xe=!!se&&("boolean"==typeof se||se.capture),nt=!(!se||"object"!=typeof se)&&se.once,gt=Zone.current;let Ge=te[S];Ge||(Je(S,G),Ge=te[S]);const rt=Ge[xe?ce:ae];let De,me=O[rt],ot=!1;if(me){if(ot=!0,X)for(let _e=0;_e<me.length;_e++)if(C(me[_e],V))return}else me=O[rt]=[];const st=O.constructor.name,it=Ye[st];it&&(De=it[S]),De||(De=st+f+(G?G(S):S)),h.options=se,nt&&(h.options.once=!1),h.target=O,h.capture=xe,h.eventName=S,h.isExisting=ot;const be=K?ht:void 0;be&&(be.taskData=h);const he=gt.scheduleEventTask(De,V,be,g,w);return h.target=null,be&&(be.taskData=null),nt&&(se.once=!0),!ye&&"boolean"==typeof he.options||(he.options=se),he.target=O,he.capture=xe,he.eventName=S,F&&(he.originalDelegate=V),D?me.unshift(he):me.push(he),m?O:void 0}};return y[c]=u(I,v,t,r,j),z&&(y.prependListener=u(z,".prependListener:",function(s){return z.call(h.target,h.eventName,s.invoke,h.options)},r,j,!0)),y[a]=function(){const s=this||e;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=arguments[2],w=!!g&&("boolean"==typeof g||g.capture),m=arguments[1];if(!m)return P.apply(this,arguments);if(x&&!x(P,m,s,arguments))return;const D=te[f];let O;D&&(O=D[w?ce:ae]);const S=O&&s[O];if(S)for(let V=0;V<S.length;V++){const F=S[V];if(C(F,m))return S.splice(V,1),F.isRemoved=!0,0===S.length&&(F.allRemoved=!0,s[O]=null,"string"==typeof f)&&(s[ke+"ON_PROPERTY"+f]=null),F.zone.cancelTask(F),j?s:void 0}return P.apply(this,arguments)},y[T]=function(){const s=this||e;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=[],w=Qe(s,G?G(f):f);for(let m=0;m<w.length;m++){const D=w[m];g.push(D.originalDelegate?D.originalDelegate:D.callback)}return g},y[d]=function(){const s=this||e;let f=arguments[0];if(f){_&&_.transferEventName&&(f=_.transferEventName(f));const g=te[f];if(g){const D=s[g[ae]],O=s[g[ce]];if(D){const S=D.slice();for(let V=0;V<S.length;V++){const F=S[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}if(O){const S=O.slice();for(let V=0;V<S.length;V++){const F=S[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}}}else{const g=Object.keys(s);for(let w=0;w<g.length;w++){const D=$e.exec(g[w]);let O=D&&D[1];O&&"removeListener"!==O&&this[d].call(this,O)}this[d].call(this,"removeListener")}if(j)return this},ue(y[c],I),ue(y[a],P),oe&&ue(y[d],oe),Q&&ue(y[T],Q),!0}let q=[];for(let R=0;R<i.length;R++)q[R]=J(i[R],o);return q}function Qe(e,n){if(!n){const a=[];for(let T in e){const d=$e.exec(T);let b=d&&d[1];if(b&&(!n||b===n)){const v=e[T];if(v)for(let p=0;p<v.length;p++)a.push(v[p])}}return a}let i=te[n];i||(Je(n),i=te[n]);const o=e[i[ae]],c=e[i[ce]];return o?c?o.concat(c):o.slice():c?c.slice():[]}function _t(e,n){const i=e.Event;i&&i.prototype&&n.patchMethod(i.prototype,"stopImmediatePropagation",o=>function(c,a){c[Ke]=!0,o&&o.apply(c,a)})}function Et(e,n,i,o,c){const a=Zone.__symbol__(o);if(n[a])return;const T=n[a]=n[o];n[o]=function(d,b,v){return b&&b.prototype&&c.forEach(function(p){const L=`${i}.${o}::`+p,Z=b.prototype;if(Z.hasOwnProperty(p)){const N=e.ObjectGetOwnPropertyDescriptor(Z,p);N&&N.value?(N.value=e.wrapWithCurrentZone(N.value,L),e._redefineProperty(b.prototype,p,N)):Z[p]&&(Z[p]=e.wrapWithCurrentZone(Z[p],L))}else Z[p]&&(Z[p]=e.wrapWithCurrentZone(Z[p],L))}),T.call(n,d,b,v)},e.attachOriginToPatched(n[o],T)}function et(e,n,i){if(!i||0===i.length)return n;const o=i.filter(a=>a.target===e);if(!o||0===o.length)return n;const c=o[0].ignoreProperties;return n.filter(a=>-1===c.indexOf(a))}function tt(e,n,i,o){e&&Xe(e,et(e,n,i),o)}function He(e){return Object.getOwnPropertyNames(e).filter(n=>n.startsWith("on")&&n.length>2).map(n=>n.substring(2))}Zone.__load_patch("util",(e,n,i)=>{const o=He(e);i.patchOnProperties=Xe,i.patchMethod=le,i.bindArguments=Le,i.patchMacroTask=lt;const c=n.__symbol__("BLACK_LISTED_EVENTS"),a=n.__symbol__("UNPATCHED_EVENTS");e[a]&&(e[c]=e[a]),e[c]&&(n[c]=n[a]=e[c]),i.patchEventPrototype=_t,i.patchEventTarget=dt,i.isIEOrEdge=ft,i.ObjectDefineProperty=Ee,i.ObjectGetOwnPropertyDescriptor=ie,i.ObjectCreate=ge,i.ArraySlice=Ve,i.patchClass=ve,i.wrapWithCurrentZone=Ie,i.filterProperties=et,i.attachOriginToPatched=ue,i._redefineProperty=Object.defineProperty,i.patchCallbacks=Et,i.getGlobalObjects=()=>({globalSources:Ye,zoneSymbolEventNames:te,eventNames:o,isBrowser:je,isMix:Ue,isNode:we,TRUE_STR:ce,FALSE_STR:ae,ZONE_SYMBOL_PREFIX:ke,ADD_EVENT_LISTENER_STR:Oe,REMOVE_EVENT_LISTENER_STR:Se})});const Ce=A("zoneTask");function pe(e,n,i,o){let c=null,a=null;i+=o;const T={};function d(v){const p=v.data;return p.args[0]=function(){return v.invoke.apply(this,arguments)},p.handleId=c.apply(e,p.args),v}function b(v){return a.call(e,v.data.handleId)}c=le(e,n+=o,v=>function(p,L){if("function"==typeof L[0]){const Z={isPeriodic:"Interval"===o,delay:"Timeout"===o||"Interval"===o?L[1]||0:void 0,args:L},N=L[0];L[0]=function(){try{return N.apply(this,arguments)}finally{Z.isPeriodic||("number"==typeof Z.handleId?delete T[Z.handleId]:Z.handleId&&(Z.handleId[Ce]=null))}};const B=Me(n,L[0],Z,d,b);if(!B)return B;const H=B.data.handleId;return"number"==typeof H?T[H]=B:H&&(H[Ce]=B),H&&H.ref&&H.unref&&"function"==typeof H.ref&&"function"==typeof H.unref&&(B.ref=H.ref.bind(H),B.unref=H.unref.bind(H)),"number"==typeof H||H?H:B}return v.apply(e,L)}),a=le(e,i,v=>function(p,L){const Z=L[0];let N;"number"==typeof Z?N=T[Z]:(N=Z&&Z[Ce],N||(N=Z)),N&&"string"==typeof N.type?"notScheduled"!==N.state&&(N.cancelFn&&N.data.isPeriodic||0===N.runCount)&&("number"==typeof Z?delete T[Z]:Z&&(Z[Ce]=null),N.zone.cancelTask(N)):v.apply(e,L)})}Zone.__load_patch("legacy",e=>{const n=e[Zone.__symbol__("legacyPatch")];n&&n()}),Zone.__load_patch("queueMicrotask",(e,n,i)=>{i.patchMethod(e,"queueMicrotask",o=>function(c,a){n.current.scheduleMicroTask("queueMicrotask",a[0])})}),Zone.__load_patch("timers",e=>{const n="set",i="clear";pe(e,n,i,"Timeout"),pe(e,n,i,"Interval"),pe(e,n,i,"Immediate")}),Zone.__load_patch("requestAnimationFrame",e=>{pe(e,"request","cancel","AnimationFrame"),pe(e,"mozRequest","mozCancel","AnimationFrame"),pe(e,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(e,n)=>{const i=["alert","prompt","confirm"];for(let o=0;o<i.length;o++)le(e,i[o],(a,T,d)=>function(b,v){return n.current.run(a,e,v,d)})}),Zone.__load_patch("EventTarget",(e,n,i)=>{(function mt(e,n){n.patchEventPrototype(e,n)})(e,i),function pt(e,n){if(Zone[n.symbol("patchEventTarget")])return;const{eventNames:i,zoneSymbolEventNames:o,TRUE_STR:c,FALSE_STR:a,ZONE_SYMBOL_PREFIX:T}=n.getGlobalObjects();for(let b=0;b<i.length;b++){const v=i[b],Z=T+(v+a),N=T+(v+c);o[v]={},o[v][a]=Z,o[v][c]=N}const d=e.EventTarget;d&&d.prototype&&n.patchEventTarget(e,n,[d&&d.prototype])}(e,i);const o=e.XMLHttpRequestEventTarget;o&&o.prototype&&i.patchEventTarget(e,i,[o.prototype])}),Zone.__load_patch("MutationObserver",(e,n,i)=>{ve("MutationObserver"),ve("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(e,n,i)=>{ve("IntersectionObserver")}),Zone.__load_patch("FileReader",(e,n,i)=>{ve("FileReader")}),Zone.__load_patch("on_property",(e,n,i)=>{!function Tt(e,n){if(we&&!Ue||Zone[e.symbol("patchEvents")])return;const i=n.__Zone_ignore_on_properties;let o=[];if(je){const c=window;o=o.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const a=function ut(){try{const e=Te.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch(e){}return!1}()?[{target:c,ignoreProperties:["error"]}]:[];tt(c,He(c),i&&i.concat(a),de(c))}o=o.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let c=0;c<o.length;c++){const a=n[o[c]];a&&a.prototype&&tt(a.prototype,He(a.prototype),i)}}(i,e)}),Zone.__load_patch("customElements",(e,n,i)=>{!function yt(e,n){const{isBrowser:i,isMix:o}=n.getGlobalObjects();(i||o)&&e.customElements&&"customElements"in e&&n.patchCallbacks(n,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,i)}),Zone.__load_patch("XHR",(e,n)=>{!function b(v){const p=v.XMLHttpRequest;if(!p)return;const L=p.prototype;let N=L[Ze],B=L[Ne];if(!N){const h=v.XMLHttpRequestEventTarget;if(h){const I=h.prototype;N=I[Ze],B=I[Ne]}}const H="readystatechange",J="scheduled";function q(h){const I=h.data,P=I.target;P[a]=!1,P[d]=!1;const Q=P[c];N||(N=P[Ze],B=P[Ne]),Q&&B.call(P,H,Q);const oe=P[c]=()=>{if(P.readyState===P.DONE)if(!I.aborted&&P[a]&&h.state===J){const U=P[n.__symbol__("loadfalse")];if(0!==P.status&&U&&U.length>0){const re=h.invoke;h.invoke=function(){const ee=P[n.__symbol__("loadfalse")];for(let W=0;W<ee.length;W++)ee[W]===h&&ee.splice(W,1);!I.aborted&&h.state===J&&re.call(h)},U.push(h)}else h.invoke()}else!I.aborted&&!1===P[a]&&(P[d]=!0)};return N.call(P,H,oe),P[i]||(P[i]=h),y.apply(P,I.args),P[a]=!0,h}function R(){}function _(h){const I=h.data;return I.aborted=!0,G.apply(I.target,I.args)}const K=le(L,"open",()=>function(h,I){return h[o]=0==I[2],h[T]=I[1],K.apply(h,I)}),X=A("fetchTaskAborting"),j=A("fetchTaskScheduling"),y=le(L,"send",()=>function(h,I){if(!0===n.current[j]||h[o])return y.apply(h,I);{const P={target:h,url:h[T],isPeriodic:!1,args:I,aborted:!1},Q=Me("XMLHttpRequest.send",R,P,q,_);h&&!0===h[d]&&!P.aborted&&Q.state===J&&Q.invoke()}}),G=le(L,"abort",()=>function(h,I){const P=function Z(h){return h[i]}(h);if(P&&"string"==typeof P.type){if(null==P.cancelFn||P.data&&P.data.aborted)return;P.zone.cancelTask(P)}else if(!0===n.current[X])return G.apply(h,I)})}(e);const i=A("xhrTask"),o=A("xhrSync"),c=A("xhrListener"),a=A("xhrScheduled"),T=A("xhrURL"),d=A("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&function at(e,n){const i=e.constructor.name;for(let o=0;o<n.length;o++){const c=n[o],a=e[c];if(a){if(!Fe(ie(e,c)))continue;e[c]=(d=>{const b=function(){return d.apply(this,Le(arguments,i+"."+c))};return ue(b,d),b})(a)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(e,n)=>{function i(o){return function(c){Qe(e,o).forEach(T=>{const d=e.PromiseRejectionEvent;if(d){const b=new d(o,{promise:c.promise,reason:c.rejection});T.invoke(b)}})}}e.PromiseRejectionEvent&&(n[A("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),n[A("rejectionHandledHandler")]=i("rejectionhandled"))})}},ie=>{ie(ie.s=435)}]);
(()=>{"use strict";var e,_={},d={};function n(e){var a=d[e];if(void 0!==a)return a.exports;var r=d[e]={exports:{}};return _[e](r,r.exports,n),r.exports}n.m=_,e=[],n.O=(a,r,u,l)=>{if(!r){var o=1/0;for(f=0;f<e.length;f++){for(var[r,u,l]=e[f],s=!0,t=0;t<r.length;t++)(!1&l||o>=l)&&Object.keys(n.O).every(i=>n.O[i](r[t]))?r.splice(t--,1):(s=!1,l<o&&(o=l));if(s){e.splice(f--,1);var c=u();void 0!==c&&(a=c)}}return a}l=l||0;for(var f=e.length;f>0&&e[f-1][2]>l;f--)e[f]=e[f-1];e[f]=[r,u,l]},n.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return n.d(a,{a}),a},n.d=(e,a)=>{for(var r in a)n.o(a,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},n.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={666:0};n.O.j=u=>0===e[u];var a=(u,l)=>{var t,c,[f,o,s]=l,v=0;if(f.some(h=>0!==e[h])){for(t in o)n.o(o,t)&&(n.m[t]=o[t]);if(s)var b=s(n)}for(u&&u(l);v<f.length;v++)n.o(e,c=f[v])&&e[c]&&e[c][0](),e[c]=0;return n.O(b)},r=self.webpackChunknxcoder=self.webpackChunknxcoder||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))})()})();
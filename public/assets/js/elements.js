"use strict";(self.webpackChunknxcoder=self.webpackChunknxcoder||[]).push([[179],{77:()=>{function le(t){return"function"==typeof t}function va(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Lc=va(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ps(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Pn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(le(r))try{r()}catch(s){e=s instanceof Lc?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Tb(s)}catch(o){e=null!=e?e:[],o instanceof Lc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Lc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Tb(e);else{if(e instanceof Pn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ps(n,e)}remove(e){const{_finalizers:n}=this;n&&Ps(n,e),e instanceof Pn&&e._removeParent(this)}}Pn.EMPTY=(()=>{const t=new Pn;return t.closed=!0,t})();const bb=Pn.EMPTY;function Cb(t){return t instanceof Pn||t&&"closed"in t&&le(t.remove)&&le(t.add)&&le(t.unsubscribe)}function Tb(t){le(t)?t():t.unsubscribe()}const Si={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Vc={setTimeout(t,e,...n){const{delegate:r}=Vc;return(null==r?void 0:r.setTimeout)?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Vc;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Ab(t){Vc.setTimeout(()=>{const{onUnhandledError:e}=Si;if(!e)throw t;e(t)})}function Sb(){}const yL=Df("C",void 0,void 0);function Df(t,e,n){return{kind:t,value:e,error:n}}let Mi=null;function Bc(t){if(Si.useDeprecatedSynchronousErrorHandling){const e=!Mi;if(e&&(Mi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Mi;if(Mi=null,n)throw r}}else t()}class bf extends Pn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Cb(e)&&e.add(this)):this.destination=bL}static create(e,n,r){return new wa(e,n,r)}next(e){this.isStopped?Tf(function vL(t){return Df("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Tf(function _L(t){return Df("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Tf(yL,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const EL=Function.prototype.bind;function Cf(t,e){return EL.call(t,e)}class IL{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Uc(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Uc(r)}else Uc(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Uc(n)}}}class wa extends bf{constructor(e,n,r){let i;if(super(),le(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let s;this&&Si.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Cf(e.next,s),error:e.error&&Cf(e.error,s),complete:e.complete&&Cf(e.complete,s)}):i=e}this.destination=new IL(i)}}function Uc(t){Si.useDeprecatedSynchronousErrorHandling?function wL(t){Si.useDeprecatedSynchronousErrorHandling&&Mi&&(Mi.errorThrown=!0,Mi.error=t)}(t):Ab(t)}function Tf(t,e){const{onStoppedNotification:n}=Si;n&&Vc.setTimeout(()=>n(t,e))}const bL={closed:!0,next:Sb,error:function DL(t){throw t},complete:Sb},Af="function"==typeof Symbol&&Symbol.observable||"@@observable";function jc(t){return t}let He=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function TL(t){return t&&t instanceof bf||function CL(t){return t&&le(t.next)&&le(t.error)&&le(t.complete)}(t)&&Cb(t)}(n)?n:new wa(n,r,i);return Bc(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=xb(r))((i,s)=>{const o=new wa({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Af](){return this}pipe(...n){return function Mb(t){return 0===t.length?jc:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=xb(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function xb(t){var e;return null!==(e=null!=t?t:Si.Promise)&&void 0!==e?e:Promise}const AL=va(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $c=(()=>{class t extends He{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Nb(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new AL}next(n){Bc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Bc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Bc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?bb:(this.currentObservers=null,s.push(n),new Pn(()=>{this.currentObservers=null,Ps(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new He;return n.source=this,n}}return t.create=(e,n)=>new Nb(e,n),t})();class Nb extends $c{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:bb}}function Zn(t){return e=>{if(function SL(t){return le(null==t?void 0:t.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function On(t,e,n,r,i){return new ML(t,e,n,r,i)}class ML extends bf{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function xi(t,e){return Zn((n,r)=>{let i=0;n.subscribe(On(r,s=>{r.next(t.call(e,s,i++))}))})}function Mf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ni(t){return this instanceof Ni?(this.v=t,this):new Ni(t)}function kL(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ni?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function RL(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Pb(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const xf=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Ob(t){return le(null==t?void 0:t.then)}function Fb(t){return le(t[Af])}function Lb(t){return Symbol.asyncIterator&&le(null==t?void 0:t[Symbol.asyncIterator])}function Vb(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Bb=function OL(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ub(t){return le(null==t?void 0:t[Bb])}function jb(t){return kL(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ni(n.read());if(i)return yield Ni(void 0);yield yield Ni(r)}}finally{n.releaseLock()}})}function $b(t){return le(null==t?void 0:t.getReader)}function Er(t){if(t instanceof He)return t;if(null!=t){if(Fb(t))return function FL(t){return new He(e=>{const n=t[Af]();if(le(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(xf(t))return function LL(t){return new He(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Ob(t))return function VL(t){return new He(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ab)})}(t);if(Lb(t))return Hb(t);if(Ub(t))return function BL(t){return new He(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if($b(t))return function UL(t){return Hb(jb(t))}(t)}throw Vb(t)}function Hb(t){return new He(e=>{(function jL(t,e){var n,r,i,s;return function xL(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=RL(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Yr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Nf(t,e,n=1/0){return le(e)?Nf((r,i)=>xi((s,o)=>e(r,s,i,o))(Er(t(r,i))),n):("number"==typeof e&&(n=e),Zn((r,i)=>function $L(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let _=!1;Er(n(m,l++)).subscribe(On(e,E=>{null==i||i(E),s?f(E):e.next(E)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){const E=u.shift();o?Yr(e,o,()=>p(E)):p(E)}h()}catch(E){e.error(E)}}))};return t.subscribe(On(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}const kf=new He(t=>t.complete());function Rf(t){return t[t.length-1]}function Gb(t){return function qL(t){return t&&le(t.schedule)}(Rf(t))?t.pop():void 0}function Hc(t,e=0){return Zn((n,r)=>{n.subscribe(On(r,i=>Yr(r,t,()=>r.next(i),e),()=>Yr(r,t,()=>r.complete(),e),i=>Yr(r,t,()=>r.error(i),e)))})}function Gc(t,e=0){return Zn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function qb(t,e){if(!t)throw new Error("Iterable cannot be null");return new He(n=>{Yr(n,e,()=>{const r=t[Symbol.asyncIterator]();Yr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function qc(t,e){return e?function ZL(t,e){if(null!=t){if(Fb(t))return function KL(t,e){return Er(t).pipe(Gc(e),Hc(e))}(t,e);if(xf(t))return function QL(t,e){return new He(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Ob(t))return function YL(t,e){return Er(t).pipe(Gc(e),Hc(e))}(t,e);if(Lb(t))return qb(t,e);if(Ub(t))return function JL(t,e){return new He(n=>{let r;return Yr(n,e,()=>{r=t[Bb](),Yr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>le(null==r?void 0:r.return)&&r.return()})}(t,e);if($b(t))return function XL(t,e){return qb(jb(t),e)}(t,e)}throw Vb(t)}(t,e):Er(t)}function Wb(...t){const e=Gb(t),n=function zL(t,e){return"number"==typeof Rf(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Er(r[0]):function HL(t=1/0){return Nf(jc,t)}(n)(qc(r,e)):kf}function Pf(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(function eV(t){return t<=0?()=>kf:Zn((e,n)=>{let r=0;e.subscribe(On(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}(1)).subscribe(()=>t())}function _e(t){for(let e in t)if(t[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function Of(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function he(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(he).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ff(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const nV=_e({__forward_ref__:_e});function we(t){return t.__forward_ref__=we,t.toString=function(){return he(this())},t}function Y(t){return zb(t)?t():t}function zb(t){return"function"==typeof t&&t.hasOwnProperty(nV)&&t.__forward_ref__===we}class ne extends Error{constructor(e,n){super(function Lf(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function G(t){return"string"==typeof t?t:null==t?"":String(t)}function Bt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():G(t)}function Wc(t,e){const n=e?` in ${e}`:"";throw new ne(-201,`No provider for ${Bt(t)} found${n}`)}function dn(t,e){null==t&&function De(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function pe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function In(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vf(t){return Kb(t,zc)||Kb(t,Qb)}function Kb(t,e){return t.hasOwnProperty(e)?t[e]:null}function Yb(t){return t&&(t.hasOwnProperty(Bf)||t.hasOwnProperty(cV))?t[Bf]:null}const zc=_e({\u0275prov:_e}),Bf=_e({\u0275inj:_e}),Qb=_e({ngInjectableDef:_e}),cV=_e({ngInjectorDef:_e});var z=(()=>((z=z||{})[z.Default=0]="Default",z[z.Host=1]="Host",z[z.Self=2]="Self",z[z.SkipSelf=4]="SkipSelf",z[z.Optional=8]="Optional",z))();let Uf;function Qr(t){const e=Uf;return Uf=t,e}function Jb(t,e,n){const r=Vf(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&z.Optional?null:void 0!==e?e:void Wc(he(t),"Injector")}function Jr(t){return{toString:t}.toString()}var Fn=(()=>((Fn=Fn||{})[Fn.OnPush=0]="OnPush",Fn[Fn.Default=1]="Default",Fn))(),er=(()=>{return(t=er||(er={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",er;var t})();const dV="undefined"!=typeof globalThis&&globalThis,hV="undefined"!=typeof window&&window,fV="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ge=dV||"undefined"!=typeof global&&global||hV||fV,Os={},ve=[],Kc=_e({\u0275cmp:_e}),jf=_e({\u0275dir:_e}),$f=_e({\u0275pipe:_e}),Xb=_e({\u0275mod:_e}),Dr=_e({\u0275fac:_e}),Ea=_e({__NG_ELEMENT_ID__:_e});let pV=0;function tn(t){return Jr(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Fn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||er.Emulated,id:"c",styles:t.styles||ve,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=pV++,r.inputs=n0(t.inputs,n),r.outputs=n0(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Zb):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(e0):null,r})}function Zb(t){return St(t)||function Xr(t){return t[jf]||null}(t)}function e0(t){return function ki(t){return t[$f]||null}(t)}const t0={};function Ln(t){return Jr(()=>{const e={type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(t0[t.id]=t.type),e})}function n0(t,e){if(null==t)return Os;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const q=tn;function nn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function St(t){return t[Kc]||null}function Dn(t,e){const n=t[Xb]||null;if(!n&&!0===e)throw new Error(`Type ${he(t)} does not have '\u0275mod' property.`);return n}const Q=11;function tr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Bn(t){return Array.isArray(t)&&!0===t[1]}function qf(t){return 0!=(8&t.flags)}function Xc(t){return 2==(2&t.flags)}function Zc(t){return 1==(1&t.flags)}function Un(t){return null!==t.template}function wV(t){return 0!=(512&t[2])}function Fi(t,e){return t.hasOwnProperty(Dr)?t[Dr]:null}class s0{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function br(){return o0}function o0(t){return t.type.prototype.ngOnChanges&&(t.setInput=bV),DV}function DV(){const t=u0(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Os)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function bV(t,e,n,r){const i=u0(t)||function CV(t,e){return t[a0]=e}(t,{previous:Os,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new s0(u&&u.currentValue,e,o===Os),t[r]=e}br.ngInherit=!0;const a0="__ngSimpleChanges__";function u0(t){return t[a0]||null}let Qf;function Re(t){return!!t.listen}const c0={createRenderer:(t,e)=>function Jf(){return void 0!==Qf?Qf:"undefined"!=typeof document?document:void 0}()};function Ge(t){for(;Array.isArray(t);)t=t[0];return t}function el(t,e){return Ge(e[t])}function Tn(t,e){return Ge(e[t.index])}function Xf(t,e){return t.data[e]}function Us(t,e){return t[e]}function fn(t,e){const n=e[t];return tr(n)?n:n[0]}function l0(t){return 4==(4&t[2])}function Zf(t){return 128==(128&t[2])}function Zr(t,e){return null==e?null:t[e]}function d0(t){t[18]=0}function ep(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const U={lFrame:v0(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function h0(){return U.bindingsEnabled}function I(){return U.lFrame.lView}function re(){return U.lFrame.tView}function Ca(t){return U.lFrame.contextLView=t,t[8]}function Ze(){let t=f0();for(;null!==t&&64===t.type;)t=t.parent;return t}function f0(){return U.lFrame.currentTNode}function nr(t,e){const n=U.lFrame;n.currentTNode=t,n.isParent=e}function tp(){return U.lFrame.isParent}function np(){U.lFrame.isParent=!1}function tl(){return U.isInCheckNoChangesMode}function nl(t){U.isInCheckNoChangesMode=t}function js(){return U.lFrame.bindingIndex++}function $V(t,e){const n=U.lFrame;n.bindingIndex=n.bindingRootIndex=t,rp(e)}function rp(t){U.lFrame.currentDirectiveIndex=t}function m0(){return U.lFrame.currentQueryIndex}function sp(t){U.lFrame.currentQueryIndex=t}function GV(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function y0(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&z.Host||(i=GV(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=U.lFrame=_0();return r.currentTNode=e,r.lView=t,!0}function rl(t){const e=_0(),n=t[1];U.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function _0(){const t=U.lFrame,e=null===t?null:t.child;return null===e?v0(t):e}function v0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function w0(){const t=U.lFrame;return U.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const E0=w0;function il(){const t=w0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function jt(){return U.lFrame.selectedIndex}function ei(t){U.lFrame.selectedIndex=t}function sl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function ol(t,e,n){b0(t,e,3,n)}function al(t,e,n,r){(3&t[2])===n&&b0(t,e,n,r)}function op(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function b0(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(JV(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function JV(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Aa{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ul(t,e,n){const r=Re(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];up(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function C0(t){return 3===t||4===t||6===t}function up(t){return 64===t.charCodeAt(0)}function cl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||T0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function T0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function A0(t){return-1!==t}function $s(t){return 32767&t}function Hs(t,e){let n=function n2(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let cp=!0;function ll(t){const e=cp;return cp=t,e}let r2=0;function Ma(t,e){const n=dp(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,lp(r.data,t),lp(e,null),lp(r.blueprint,null));const i=dl(t,e),s=t.injectorIndex;if(A0(i)){const o=$s(i),a=Hs(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function lp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function dp(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function dl(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function hl(t,e,n){!function i2(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ea)&&(r=n[Ea]),null==r&&(r=n[Ea]=r2++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function x0(t,e,n){if(n&z.Optional)return t;Wc(e,"NodeInjector")}function N0(t,e,n,r){if(n&z.Optional&&void 0===r&&(r=null),0==(n&(z.Self|z.Host))){const i=t[9],s=Qr(void 0);try{return i?i.get(e,r,n&z.Optional):Jb(e,r,n&z.Optional)}finally{Qr(s)}}return x0(r,e,n)}function k0(t,e,n,r=z.Default,i){if(null!==t){const s=function u2(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ea)?t[Ea]:void 0;return"number"==typeof e?e>=0?255&e:o2:e}(n);if("function"==typeof s){if(!y0(e,t,r))return r&z.Host?x0(i,n,r):N0(e,n,r,i);try{const o=s(r);if(null!=o||r&z.Optional)return o;Wc(n)}finally{E0()}}else if("number"==typeof s){let o=null,a=dp(t,e),u=-1,c=r&z.Host?e[16][6]:null;for((-1===a||r&z.SkipSelf)&&(u=-1===a?dl(t,e):e[a+8],-1!==u&&O0(r,!1)?(o=e[1],a=$s(u),e=Hs(u,e)):a=-1);-1!==a;){const l=e[1];if(P0(s,a,l.data)){const d=a2(a,e,n,o,r,c);if(d!==R0)return d}u=e[a+8],-1!==u&&O0(r,e[1].data[a+8]===c)&&P0(s,a,e)?(o=l,a=$s(u),e=Hs(u,e)):a=-1}}}return N0(e,n,r,i)}const R0={};function o2(){return new Gs(Ze(),I())}function a2(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=fl(a,o,n,null==r?Xc(a)&&cp:r!=o&&0!=(3&a.type),i&z.Host&&s===a);return null!==l?xa(e,o,l,a):R0}function fl(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Un(f)&&f.type===n)return u}return null}function xa(t,e,n,r){let i=t[n];const s=e.data;if(function XV(t){return t instanceof Aa}(i)){const o=i;o.resolving&&function rV(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ne(-200,`Circular dependency in DI detected for ${t}${n}`)}(Bt(s[n]));const a=ll(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Qr(o.injectImpl):null;y0(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function QV(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=o0(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Qr(u),ll(a),o.resolving=!1,E0()}}return i}function P0(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function O0(t,e){return!(t&z.Self||t&z.Host&&e)}class Gs{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return k0(this._tNode,this._lView,e,r,n)}}function hp(t){return zb(t)?()=>{const e=hp(Y(t));return e&&e()}:Fi(t)}const Ws="__parameters__";function Ks(t,e,n){return Jr(()=>{const r=function pp(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Ws)?u[Ws]:Object.defineProperty(u,Ws,{value:[]})[Ws];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ee{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function An(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),An(r,e)):e!==t&&e.push(r)}return e}function rr(t,e){t.forEach(n=>Array.isArray(n)?rr(n,e):e(n))}function L0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pn(t,e,n){let r=Ys(t,e);return r>=0?t[1|r]=n:(r=~r,function h2(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function mp(t,e){const n=Ys(t,e);if(n>=0)return t[1|n]}function Ys(t,e){return function U0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Pa={},_p="__NG_DI_FLAG__",ml="ngTempTokenPath",v2=/\n/gm,$0="__source",E2=_e({provide:String,useValue:_e});let Oa;function H0(t){const e=Oa;return Oa=t,e}function I2(t,e=z.Default){if(void 0===Oa)throw new ne(203,"");return null===Oa?Jb(t,void 0,e):Oa.get(t,e&z.Optional?null:void 0,e)}function ie(t,e=z.Default){return(function lV(){return Uf}()||I2)(Y(t),e)}const D2=ie;function vp(t){const e=[];for(let n=0;n<t.length;n++){const r=Y(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ne(900,"");let i,s=z.Default;for(let o=0;o<r.length;o++){const a=r[o],u=b2(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(ie(i,s))}else e.push(ie(r))}return e}function Fa(t,e){return t[_p]=e,t.prototype[_p]=e,t}function b2(t){return t[_p]}const $t=Fa(Ks("Optional"),8);class X0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ni(t){return t instanceof X0?t.changingThisBreaksApplicationSecurity:t}const W2=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,z2=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var qe=(()=>((qe=qe||{})[qe.NONE=0]="NONE",qe[qe.HTML=1]="HTML",qe[qe.STYLE=2]="STYLE",qe[qe.SCRIPT=3]="SCRIPT",qe[qe.URL=4]="URL",qe[qe.RESOURCE_URL=5]="RESOURCE_URL",qe))();function Ua(t){const e=function ja(){const t=I();return t&&t[12]}();return e?e.sanitize(qe.URL,t)||"":function Va(t,e){const n=function $2(t){return t instanceof X0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?ni(t):function El(t){return(t=String(t)).match(W2)||t.match(z2)?t:"unsafe:"+t}(G(t))}const uC="__ngContext__";function Nt(t,e){t[uC]=e}function Mp(t){const e=function $a(t){return t[uC]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Np(t){return t.ngOriginalError}function mB(t,...e){t.error(...e)}class Ha{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function gB(t){return t&&t.ngErrorLogger||mB}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Np(e);for(;n&&Np(n);)n=Np(n);return n||null}}const TB=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ge))();function sr(t){return t instanceof Function?t():t}var gn=(()=>((gn=gn||{})[gn.Important=1]="Important",gn[gn.DashCase=2]="DashCase",gn))();function Rp(t,e){return undefined(t,e)}function Ga(t){const e=t[3];return Bn(e)?e[3]:e}function Pp(t){return yC(t[13])}function Op(t){return yC(t[4])}function yC(t){for(;null!==t&&!Bn(t);)t=t[4];return t}function Zs(t,e,n,r,i){if(null!=r){let s,o=!1;Bn(r)?s=r:tr(r)&&(o=!0,r=r[0]);const a=Ge(r);0===t&&null!==n?null==i?DC(e,n,a):Li(e,n,a,i||null,!0):1===t&&null!==n?Li(e,n,a,i||null,!0):2===t?function xC(t,e,n){const r=Dl(t,e);r&&function UB(t,e,n,r){Re(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function HB(t,e,n,r,i){const s=n[7];s!==Ge(n)&&Zs(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];qa(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Lp(t,e,n){if(Re(t))return t.createElement(e,n);{const r=null!==n?function MV(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function vC(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ep(i,-1)),n.splice(r,1)}function Vp(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&vC(i,r),e>0&&(t[n-1][4]=r[4]);const s=pl(t,10+e);!function kB(t,e){qa(t,e,e[Q],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function wC(t,e){if(!(256&e[2])){const n=e[Q];Re(n)&&n.destroyNode&&qa(t,e,n,3,null,null),function OB(t){let e=t[13];if(!e)return Bp(t[1],t);for(;e;){let n=null;if(tr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)tr(e)&&Bp(e[1],e),e=e[3];null===e&&(e=t),tr(e)&&Bp(e[1],e),n=e&&e[4]}e=n}}(e)}}function Bp(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function BB(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Aa)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function VB(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Ge(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Re(e[Q])&&e[Q].destroy();const n=e[17];if(null!==n&&Bn(e[3])){n!==e[3]&&vC(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function EC(t,e,n){return function IC(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===er.None||i===er.Emulated)return null}return Tn(r,n)}(t,e.parent,n)}function Li(t,e,n,r,i){Re(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function DC(t,e,n){Re(t)?t.appendChild(e,n):e.appendChild(n)}function bC(t,e,n,r,i){null!==r?Li(t,e,n,r,i):DC(t,e,n)}function Dl(t,e){return Re(t)?t.parentNode(e):e.parentNode}let AC=function TC(t,e,n){return 40&t.type?Tn(t,n):null};function bl(t,e,n,r){const i=EC(t,r,e),s=e[Q],a=function CC(t,e,n){return AC(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)bC(s,i,n[u],a,!1);else bC(s,i,n,a,!1)}function Cl(t,e){if(null!==e){const n=e.type;if(3&n)return Tn(e,t);if(4&n)return jp(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Cl(t,r);{const i=t[e.index];return Bn(i)?jp(-1,i):Ge(i)}}if(32&n)return Rp(e,t)()||Ge(t[e.index]);{const r=MC(t,e);return null!==r?Array.isArray(r)?r[0]:Cl(Ga(t[16]),r):Cl(t,e.next)}}return null}function MC(t,e){return null!==e?t[16][6].projection[e.projection]:null}function jp(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Cl(r,i)}return e[7]}function $p(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Nt(Ge(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)$p(t,e,n.child,r,i,s,!1),Zs(e,t,i,a,s);else if(32&u){const c=Rp(n,r);let l;for(;l=c();)Zs(e,t,i,l,s);Zs(e,t,i,a,s)}else 16&u?NC(t,e,r,n,i,s):Zs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function qa(t,e,n,r,i,s){$p(n,r,t.firstChild,e,i,s,!1)}function NC(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Zs(e,t,i,u[c],s);else $p(t,e,u,o[3],i,s,!0)}function kC(t,e,n){Re(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Hp(t,e,n){Re(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function RC(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const PC="ng-template";function qB(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==RC(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function OC(t){return 4===t.type&&t.value!==PC}function WB(t,e,n){return e===(4!==t.type||n?t.value:PC)}function zB(t,e,n){let r=4;const i=t.attrs||[],s=function QB(t){for(let e=0;e<t.length;e++)if(C0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!WB(t,u,n)||""===u&&1===e.length){if(jn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!qB(t.attrs,c,n)){if(jn(r))return!1;o=!0}continue}const d=KB(8&r?"class":u,i,OC(t),n);if(-1===d){if(jn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==RC(f,c,0)||2&r&&c!==h){if(jn(r))return!1;o=!0}}}}else{if(!o&&!jn(r)&&!jn(u))return!1;if(o&&jn(u))continue;o=!1,r=u|1&r}}return jn(r)||o}function jn(t){return 0==(1&t)}function KB(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function JB(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function FC(t,e,n=!1){for(let r=0;r<e.length;r++)if(zB(t,e[r],n))return!0;return!1}function LC(t,e){return t?":not("+e.trim()+")":e}function ZB(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!jn(o)&&(e+=LC(s,i),i=""),r=o,s=s||!jn(r);n++}return""!==i&&(e+=LC(s,i)),e}const W={};function ce(t){VC(re(),I(),jt()+t,tl())}function VC(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&ol(e,s,n)}else{const s=t.preOrderHooks;null!==s&&al(e,s,0,n)}ei(n)}function Tl(t,e){return t<<17|e<<2}function $n(t){return t>>17&32767}function Gp(t){return 2|t}function Ar(t){return(131068&t)>>2}function qp(t,e){return-131069&t|e<<2}function Wp(t){return 1|t}function YC(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];sp(i),o.contentQueries(2,e[s],s)}}}function Wa(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,d0(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[Q]=a||t&&t[Q],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function eo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function tg(t,e,n,r,i){const s=f0(),o=tp(),u=t.data[e]=function yU(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function jV(){return U.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ta(){const t=U.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return nr(s,!0),s}function to(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function za(t,e,n){rl(e);try{const r=t.viewQuery;null!==r&&lg(1,r,n);const i=t.template;null!==i&&QC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&YC(t,e),t.staticViewQueries&&lg(2,t.viewQuery,n);const s=t.components;null!==s&&function pU(t,e){for(let n=0;n<e.length;n++)OU(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,il()}}function no(t,e,n,r){const i=e[2];if(256==(256&i))return;rl(e);const s=tl();try{d0(e),function p0(t){return U.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&QC(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&ol(e,c,null)}else{const c=t.preOrderHooks;null!==c&&al(e,c,0,null),op(e,0)}if(function RU(t){for(let e=Pp(t);null!==e;e=Op(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&ep(s,1),i[2]|=1024}}}(e),function kU(t){for(let e=Pp(t);null!==e;e=Op(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Zf(r)&&no(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&YC(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&ol(e,c)}else{const c=t.contentHooks;null!==c&&al(e,c,1),op(e,1)}!function hU(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ei(~i);else{const s=i,o=n[++r],a=n[++r];$V(o,s),a(2,e[s])}}}finally{ei(-1)}}(t,e);const a=t.components;null!==a&&function fU(t,e){for(let n=0;n<e.length;n++)PU(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&lg(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&ol(e,c)}else{const c=t.viewHooks;null!==c&&al(e,c,2),op(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ep(e[3],-1))}finally{il()}}function gU(t,e,n,r){const i=e[10],s=!tl(),o=l0(e);try{s&&!o&&i.begin&&i.begin(),o&&za(t,e,r),no(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function QC(t,e,n,r,i){const s=jt(),o=2&r;try{ei(-1),o&&e.length>20&&VC(t,e,20,tl()),n(r,i)}finally{ei(s)}}function JC(t,e,n){if(qf(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function ng(t,e,n){!h0()||(function bU(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ma(n,e),Nt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Un(u);c&&MU(e,n,u);const l=xa(e,t,a,n);Nt(l,e),null!==o&&xU(0,a-i,l,u,0,o),c&&(fn(n.index,e)[8]=l)}}(t,e,n,Tn(n,e)),128==(128&n.flags)&&function CU(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function HV(){return U.lFrame.currentDirectiveIndex}();try{ei(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];rp(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&sT(c,l)}}finally{ei(-1),rp(a)}}(t,e,n))}function rg(t,e,n=Tn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function XC(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ml(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ml(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function mU(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:W);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function tT(t,e,n,r){const i=dT(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&hT(t).push(r,i.length-1))}function nT(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ig(t,e,n,r){let i=!1;if(h0()){const s=function TU(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];FC(n,o.selectors,!1)&&(i||(i=[]),hl(Ma(n,e),t,o.type),Un(o)?(oT(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,aT(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=to(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=cl(n.mergedAttrs,d.hostAttrs),uT(t,n,e,c,d),SU(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function _U(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||OC(e)?null:NU(d,s);o.push(h),a=nT(d,c,a),u=nT(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function AU(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new ne(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=cl(n.mergedAttrs,n.attrs),i}function iT(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function DU(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function sT(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function oT(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function SU(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Un(e)&&(n[""]=t)}}function aT(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function uT(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Fi(i.type)),o=new Aa(s,Un(i),null);t.blueprint[r]=o,n[r]=o,iT(t,e,0,r,to(t,n,i.hostVars,W),i)}function MU(t,e,n){const r=Tn(e,t),i=XC(n),s=t[10],o=xl(t,Wa(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function xU(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function NU(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function cT(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function PU(t,e){const n=fn(e,t);if(Zf(n)){const r=n[1];80&n[2]?no(r,n,r.template,n[8]):n[5]>0&&og(n)}}function og(t){for(let r=Pp(t);null!==r;r=Op(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];no(o,s,o.template,s[8])}else s[5]>0&&og(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=fn(n[r],t);Zf(i)&&i[5]>0&&og(i)}}function OU(t,e){const n=fn(e,t),r=n[1];(function FU(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),za(r,n,n[8])}function xl(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ag(t){for(;t;){t[2]|=64;const e=Ga(t);if(wV(t)&&!e)return t;t=e}return null}function cg(t,e,n){const r=e[10];r.begin&&r.begin();try{no(t,e,t.template,n)}catch(i){throw pT(e,i),i}finally{r.end&&r.end()}}function lT(t){!function ug(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Mp(n),i=r[1];gU(i,r,i.template,n)}}(t[8])}function lg(t,e,n){sp(0),e(t,n)}const UU=(()=>Promise.resolve(null))();function dT(t){return t[7]||(t[7]=[])}function hT(t){return t.cleanup||(t.cleanup=[])}function pT(t,e){const n=t[9],r=n?n.get(Ha,null):null;r&&r.handleError(e)}function gT(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Sr(t,e,n){const r=el(e,t);!function _C(t,e,n){Re(t)?t.setValue(e,n):e.textContent=n}(t[Q],r,n)}function Nl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Ff(i,a):2==s&&(r=Ff(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const dg=new ee("INJECTOR",-1);class mT{get(e,n=Pa){if(n===Pa){const r=new Error(`NullInjectorError: No provider for ${he(e)}!`);throw r.name="NullInjectorError",r}return n}}const hg=new ee("Set Injector scope."),Ka={},HU={};let fg;function yT(){return void 0===fg&&(fg=new mT),fg}function _T(t,e=null,n=null,r){const i=vT(t,e,n,r);return i._resolveInjectorDefTypes(),i}function vT(t,e=null,n=null,r){return new GU(t,n,e||yT(),r)}class GU{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&rr(n,a=>this.processProvider(a,e,n)),rr([e],a=>this.processInjectorType(a,[],s)),this.records.set(dg,ro(void 0,this));const o=this.records.get(hg);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:he(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Pa,r=z.Default){this.assertNotDestroyed();const i=H0(this),s=Qr(void 0);try{if(!(r&z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function XU(t){return"function"==typeof t||"object"==typeof t&&t instanceof ee}(e)&&Vf(e);a=u&&this.injectableDefInScope(u)?ro(pg(e),Ka):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&z.Self?yT():this.parent).get(e,n=r&z.Optional&&n===Pa?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[ml]=o[ml]||[]).unshift(he(e)),i)throw o;return function C2(t,e,n,r){const i=t[ml];throw e[$0]&&i.unshift(e[$0]),t.message=function T2(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=he(e);if(Array.isArray(e))i=e.map(he).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):he(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(v2,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[ml]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Qr(s),H0(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(he(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processInjectorType(e,n,r){if(!(e=Y(e)))return!1;let i=Yb(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=Yb(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{rr(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];rr(f,p=>this.processProvider(p,h,f||ve))}}this.injectorDefTypes.add(o);const u=Fi(o)||(()=>new o);this.records.set(o,ro(u,Ka));const c=i.providers;if(null!=c&&!a){const l=e;rr(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=io(e=Y(e))?e:Y(e&&e.provide);const s=function WU(t,e,n){return ET(t)?ro(void 0,t.useValue):ro(wT(t),Ka)}(e);if(io(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=ro(void 0,Ka,!0),o.factory=()=>vp(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===Ka&&(n.value=HU,n.value=n.factory()),"object"==typeof n.value&&n.value&&function JU(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Y(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function pg(t){const e=Vf(t),n=null!==e?e.factory:Fi(t);if(null!==n)return n;if(t instanceof ee)throw new ne(204,!1);if(t instanceof Function)return function qU(t){const e=t.length;if(e>0)throw function Ra(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new ne(204,!1);const n=function aV(t){const e=t&&(t[zc]||t[Qb]);if(e){const n=function uV(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ne(204,!1)}function wT(t,e,n){let r;if(io(t)){const i=Y(t);return Fi(i)||pg(i)}if(ET(t))r=()=>Y(t.useValue);else if(function KU(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...vp(t.deps||[]));else if(function zU(t){return!(!t||!t.useExisting)}(t))r=()=>ie(Y(t.useExisting));else{const i=Y(t&&(t.useClass||t.provide));if(!function QU(t){return!!t.deps}(t))return Fi(i)||pg(i);r=()=>new i(...vp(t.deps))}return r}function ro(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ET(t){return null!==t&&"object"==typeof t&&E2 in t}function io(t){return"function"==typeof t}let _t=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return _T({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return _T({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=Pa,t.NULL=new mT,t.\u0275prov=pe({token:t,providedIn:"any",factory:()=>ie(dg)}),t.__NG_ELEMENT_ID__=-1,t})();function oj(t,e){sl(Mp(t)[1],Ze())}function fe(t){let e=function RT(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Un(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ne(903,"");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=yg(t.inputs),o.declaredInputs=yg(t.declaredInputs),o.outputs=yg(t.outputs);const a=i.hostBindings;a&&lj(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&uj(t,u),c&&cj(t,c),Of(t.inputs,i.inputs),Of(t.declaredInputs,i.declaredInputs),Of(t.outputs,i.outputs),Un(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===fe&&(n=!1)}}e=Object.getPrototypeOf(e)}!function aj(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=cl(i.hostAttrs,n=cl(n,i.hostAttrs))}}(r)}function yg(t){return t===Os?{}:t===ve?[]:t}function uj(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function cj(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function lj(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let kl=null;function so(){if(!kl){const t=ge.Symbol;if(t&&t.iterator)kl=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(kl=r)}}}return kl}function kt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Se(t,e,n,r,i,s,o,a){const u=I(),c=re(),l=t+20,d=c.firstCreatePass?function yj(t,e,n,r,i,s,o,a,u){const c=e.consts,l=eo(e,t,4,o||null,Zr(c,a));ig(e,n,l,Zr(c,u)),sl(e,l);const d=l.tViews=Ml(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];nr(d,!1);const h=u[Q].createComment("");bl(c,u,h,d),Nt(h,u),xl(u,u[l]=cT(h,u,h,d)),Zc(d)&&ng(c,u,d),null!=o&&rg(u,d,a)}function Pl(t){return Us(function UV(){return U.lFrame.contextLView}(),20+t)}function C(t,e=z.Default){const n=I();return null===n?ie(t,e):k0(Ze(),n,Y(t),e)}function me(t,e,n){const r=I();return kt(r,js(),e)&&function mn(t,e,n,r,i,s,o,a){const u=Tn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(gT(t,n,l,r,i),Xc(e)&&function wU(t,e){const n=fn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function vU(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Re(s)?s.setProperty(u,r,i):up(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(re(),function Pe(){const t=U.lFrame;return Xf(t.tView,t.selectedIndex)}(),r,t,e,r[Q],n,!1),me}function Dg(t,e,n,r,i){const o=i?"class":"style";gT(t,n,e.inputs[o],o,r)}function j(t,e,n,r){const i=I(),s=re(),o=20+t,a=i[Q],u=i[o]=Lp(a,e,function YV(){return U.lFrame.currentNamespace}()),c=s.firstCreatePass?function Bj(t,e,n,r,i,s,o){const a=e.consts,c=eo(e,t,2,i,Zr(a,s));return ig(e,n,c,Zr(a,o)),null!==c.attrs&&Nl(c,c.attrs,!1),null!==c.mergedAttrs&&Nl(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];nr(c,!0);const l=c.mergedAttrs;null!==l&&ul(a,u,l);const d=c.classes;null!==d&&Hp(a,u,d);const h=c.styles;return null!==h&&kC(a,u,h),64!=(64&c.flags)&&bl(s,i,u,c),0===function OV(){return U.lFrame.elementDepthCount}()&&Nt(u,i),function FV(){U.lFrame.elementDepthCount++}(),Zc(c)&&(ng(s,i,c),JC(s,c,i)),null!==r&&rg(i,c),j}function $(){let t=Ze();tp()?np():(t=t.parent,nr(t,!1));const e=t;!function LV(){U.lFrame.elementDepthCount--}();const n=re();return n.firstCreatePass&&(sl(n,t),qf(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function e2(t){return 0!=(16&t.flags)}(e)&&Dg(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function t2(t){return 0!=(32&t.flags)}(e)&&Dg(n,e,I(),e.stylesWithoutHost,!1),$}function tt(t,e,n,r){return j(t,e,n,r),$(),tt}function Fl(t,e,n){const r=I(),i=re(),s=t+20,o=i.firstCreatePass?function Uj(t,e,n,r,i){const s=e.consts,o=Zr(s,r),a=eo(e,t,8,"ng-container",o);return null!==o&&Nl(a,o,!0),ig(e,n,a,Zr(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];nr(o,!0);const a=r[s]=r[Q].createComment("");return bl(i,r,a,o),Nt(a,r),Zc(o)&&(ng(i,r,o),JC(i,o,r)),null!=n&&rg(r,o),Fl}function Ll(){let t=Ze();const e=re();return tp()?np():(t=t.parent,nr(t,!1)),e.firstCreatePass&&(sl(e,t),qf(t)&&e.queries.elementEnd(t)),Ll}function Ja(){return I()}function Vl(t){return!!t&&"function"==typeof t.then}function eA(t){return!!t&&"function"==typeof t.subscribe}const tA=eA;function Oe(t,e,n,r){const i=I(),s=re(),o=Ze();return function rA(t,e,n,r,i,s,o,a){const u=Zc(r),l=t.firstCreatePass&&hT(t),d=e[8],h=dT(e);let f=!0;if(3&r.type||a){const _=Tn(r,e),E=a?a(_):_,y=h.length,T=a?P=>a(Ge(P[r.index])):r.index;if(Re(n)){let P=null;if(!a&&u&&(P=function jj(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1;else{s=bg(r,e,d,s,!1);const O=n.listen(E,i,s);h.push(s,O),l&&l.push(i,T,y,y+1)}}else s=bg(r,e,d,s,!0),E.addEventListener(i,s,o),h.push(s),l&&l.push(i,T,y,o)}else s=bg(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const _=m.length;if(_)for(let E=0;E<_;E+=2){const X=e[m[E]][m[E+1]].subscribe(s),Te=h.length;h.push(s,X),l&&l.push(i,r.index,Te,-(Te+1))}}}(s,i,i[Q],o,t,e,!!n,r),Oe}function iA(t,e,n,r){try{return!1!==n(r)}catch(i){return pT(t,i),!1}}function bg(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?fn(t.index,e):e;0==(32&e[2])&&ag(a);let u=iA(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=iA(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Gt(t=1){return function qV(t){return(U.lFrame.contextLView=function WV(t,e){for(;t>0;)e=e[15],t--;return e}(t,U.lFrame.contextLView))[8]}(t)}function pA(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?$n(s):Ar(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];zj(t[a],e)&&(u=!0,t[a+1]=r?Wp(l):Gp(l)),a=r?$n(l):Ar(l)}u&&(t[n+1]=r?Gp(s):Wp(s))}function zj(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ys(t,e)>=0}function Tg(t,e,n){return Gn(t,e,n,!1),Tg}function Bl(t,e){return Gn(t,e,null,!0),Bl}function Gn(t,e,n,r){const i=I(),s=re(),o=function Tr(t){const e=U.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function IA(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[jt()],o=function EA(t,e){return e>=t.expandoStartIndex}(t,n);(function TA(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function n$(t,e,n,r){const i=function ip(t){const e=U.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Xa(n=Ag(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Ag(i,t,e,n,r),null===s){let u=function r$(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ar(r))return t[$n(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Ag(null,t,e,u[1],r),u=Xa(u,e.attrs,r),function i$(t,e,n,r){t[$n(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function s$(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Xa(r,t[s].hostAttrs,n);return Xa(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function qj(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=$n(o),u=Ar(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||Ys(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=$n(t[a+1]);t[r+1]=Tl(h,a),0!==h&&(t[h+1]=qp(t[h+1],r)),t[a+1]=function nU(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Tl(a,0),0!==a&&(t[a+1]=qp(t[a+1],r)),a=r;else t[r+1]=Tl(u,0),0===a?a=r:t[u+1]=qp(t[u+1],r),u=r;c&&(t[r+1]=Gp(t[r+1])),pA(t,l,r,!0),pA(t,l,r,!1),function Wj(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Ys(s,e)>=0&&(n[r+1]=Wp(n[r+1]))}(e,l,t,r,s),o=Tl(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==W&&kt(i,o,e)&&function bA(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Ul(function jC(t){return 1==(1&t)}(c)?CA(u,e,n,i,Ar(c),o):void 0)||(Ul(s)||function UC(t){return 2==(2&t)}(c)&&(s=CA(u,null,n,i,a,o)),function GB(t,e,n,r,i){const s=Re(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:gn.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=gn.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,el(jt(),n),i,s))}(s,s.data[jt()],i,i[Q],t,i[o+1]=function u$(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=he(ni(t)))),t}(e,n),r,o)}function Ag(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Xa(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Xa(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),pn(t,o,!!n||e[++s]))}return void 0===t?null:t}function CA(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===W&&(h=d?ve:void 0);let f=d?mp(h,r):l===r?h:void 0;if(c&&!Ul(f)&&(f=mp(u,r)),Ul(f)&&(a=f,o))return a;const p=t[i+1];i=o?$n(p):Ar(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=mp(u,r))}return a}function Ul(t){return void 0!==t}function ye(t,e=""){const n=I(),r=re(),i=t+20,s=r.firstCreatePass?eo(r,i,1,e,null):r.data[i],o=n[i]=function Fp(t,e){return Re(t)?t.createText(e):t.createTextNode(e)}(n[Q],e);bl(r,n,o,s),nr(s,!1)}function si(t){return Bi("",t,""),si}function Bi(t,e,n){const r=I(),i=function ao(t,e,n,r){return kt(t,js(),n)?e+G(n)+r:W}(r,t,e,n);return i!==W&&Sr(r,jt(),i),Bi}const jl="en-US";let KA=jl;function xg(t,e,n,r,i){if(t=Y(t),Array.isArray(t))for(let s=0;s<t.length;s++)xg(t[s],e,n,r,i);else{const s=re(),o=I();let a=io(t)?t:Y(t.provide),u=wT(t);const c=Ze(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(io(t)||!t.multi){const f=new Aa(u,i,C),p=kg(a,e,i?l:l+h,d);-1===p?(hl(Ma(c,o),s,a),Ng(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=kg(a,e,l+h,d),p=kg(a,e,l,l+h),m=f>=0&&n[f],_=p>=0&&n[p];if(i&&!_||!i&&!m){hl(Ma(c,o),s,a);const E=function AH(t,e,n,r,i){const s=new Aa(t,n,C);return s.multi=[],s.index=e,s.componentProviders=0,_S(s,i,r&&!n),s}(i?TH:CH,n.length,i,r,u);!i&&_&&(n[p].providerFactory=E),Ng(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(E),o.push(E)}else Ng(s,t,f>-1?f:p,_S(n[i?p:f],u,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function Ng(t,e,n,r){const i=io(e),s=function YU(t){return!!t.useClass}(e);if(i||s){const u=(s?Y(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function _S(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function kg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function CH(t,e,n,r){return Rg(this.multi,[])}function TH(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=xa(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),Rg(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Rg(i,s);return s}function Rg(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Me(t,e=[]){return n=>{n.providersResolver=(r,i)=>function bH(t,e,n){const r=re();if(r.firstCreatePass){const i=Un(t);xg(n,r.data,r.blueprint,i,!0),xg(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class vS{}class xH{resolveComponentFactory(e){throw function MH(t){const e=Error(`No component factory found for ${he(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let wo=(()=>{class t{}return t.NULL=new xH,t})();function NH(){return Eo(Ze(),I())}function Eo(t,e){return new Wn(Tn(t,e))}let Wn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=NH,t})();function kH(t){return t instanceof Wn?t.nativeElement:t}class ES{}let ji=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function PH(){const t=I(),n=fn(Ze().index,t);return function RH(t){return t[Q]}(tr(n)?n:t)}(),t})(),OH=(()=>{class t{}return t.\u0275prov=pe({token:t,providedIn:"root",factory:()=>null}),t})();class Io{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const IS=new Io("13.2.7"),Pg={};function Wl(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ge(s)),Bn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Wl(u[1],u,c,r)}const o=n.type;if(8&o)Wl(t,e,n.child,r);else if(32&o){const a=Rp(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=MC(e,n);if(Array.isArray(a))r.push(...a);else{const u=Ga(e[16]);Wl(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class ru{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Wl(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Bn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Vp(e,r),pl(n,r))}this._attachedToViewContainer=!1}wC(this._lView[1],this._lView)}onDestroy(e){tT(this._lView[1],this._lView,null,e)}markForCheck(){ag(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){cg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function VU(t,e,n){nl(!0);try{cg(t,e,n)}finally{nl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ne(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function PB(t,e){qa(t,e,e[Q],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ne(902,"");this._appRef=e}}class FH extends ru{constructor(e){super(e),this._view=e}detectChanges(){lT(this._view)}checkNoChanges(){!function BU(t){nl(!0);try{lT(t)}finally{nl(!1)}}(this._view)}get context(){return null}}class DS extends wo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=St(e);return new Og(n,this.ngModule)}}function bS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Og extends vS{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function eU(t){return t.map(ZB).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return bS(this.componentDef.inputs)}get outputs(){return bS(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function VH(t,e){return{get:(n,r,i)=>{const s=t.get(n,Pg,i);return s!==Pg||r===Pg?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(ES,c0),a=s.get(OH,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function eT(t,e,n){if(Re(t))return t.selectRootElement(e,n===er.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Lp(o.createRenderer(null,this.componentDef),c,function LH(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,h=function kT(t,e){return{components:[],scheduler:t||TB,clean:UU,playerHandler:e||null,flags:0}}(),f=Ml(0,null,null,1,0,null,null,null,null,null),p=Wa(null,f,h,d,null,null,o,u,a,s);let m,_;rl(p);try{const E=function xT(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=eo(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Nl(u,c,!0),null!==t&&(ul(i,t,c),null!==u.classes&&Hp(i,t,u.classes),null!==u.styles&&kC(i,t,u.styles)));const l=r.createRenderer(t,e),d=Wa(n,XC(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(hl(Ma(u,n),o,e.type),oT(o,u),aT(u,n.length,1)),xl(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)ul(u,l,["ng-version",IS.full]);else{const{attrs:y,classes:T}=function tU(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!jn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&ul(u,l,y),T&&T.length>0&&Hp(u,l,T.join(" "))}if(_=Xf(f,20),void 0!==n){const y=_.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const P=n[T];y.push(null!=P?Array.from(P):null)}}m=function NT(t,e,n,r,i){const s=n[1],o=function IU(t,e,n){const r=Ze();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),uT(t,r,e,to(t,e,1,null),n));const i=xa(e,t,r.directiveStart,r);Nt(i,e);const s=Tn(r,e);return s&&Nt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=Ze();e.contentQueries(1,o,u.directiveStart)}const a=Ze();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ei(a.index),iT(n[1],a,0,a.directiveStart,a.directiveEnd,e),sT(e,o)),o}(E,this.componentDef,p,h,[oj]),za(f,p,null)}finally{il()}return new UH(this.componentType,m,Eo(_,p),p,_)}}class UH extends class SH{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new FH(i),this.componentType=e}get injector(){return new Gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Do{}const bo=new Map;class AS extends Do{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new DS(this);const r=Dn(e);this._bootstrapComponents=sr(r.bootstrap),this._r3Injector=vT(e,n,[{provide:Do,useValue:this},{provide:wo,useValue:this.componentFactoryResolver}],he(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=_t.THROW_IF_NOT_FOUND,r=z.Default){return e===_t||e===Do||e===dg?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Fg extends class $H{}{constructor(e){super(),this.moduleType=e,null!==Dn(e)&&function HH(t){const e=new Set;!function n(r){const i=Dn(r,!0),s=i.id;null!==s&&(function CS(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${he(e)} vs ${he(e.name)}`)}(s,bo.get(s),r),bo.set(s,r));const o=sr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new AS(this.moduleType,e)}}function SS(t,e,n,r,i,s){const o=e+n;return kt(t,o,i)?function ar(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function iu(t,e){const n=t[e];return n===W?void 0:n}(t,o+1)}function xr(t,e){const n=re();let r;const i=t+20;n.firstCreatePass?(r=function eG(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Fi(r.type)),o=Qr(C);try{const a=ll(!1),u=s();return ll(a),function _j(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,I(),i,u),u}finally{Qr(o)}}function Nr(t,e,n){const r=t+20,i=I(),s=Us(i,r);return function su(t,e){return t[1].data[e].pure}(i,r)?SS(i,function Ut(){const t=U.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,s.transform,n,s):s.transform(n)}function Lg(t){return e=>{setTimeout(t,void 0,e)}}const Rt=class sG extends $c{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Lg(u),a&&(a=Lg(a)),c&&(c=Lg(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof Pn&&e.add(l),l}};function oG(){return this._results[so()]()}class Vg{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=so(),r=Vg.prototype;r[n]||(r[n]=oG)}get changes(){return this._changes||(this._changes=new Rt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=An(e);(this._changesDetected=!function l2(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let kr=(()=>{class t{}return t.__NG_ELEMENT_ID__=cG,t})();const aG=kr,uG=class extends aG{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=Wa(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),za(n,r,e),new ru(r)}};function cG(){return zl(Ze(),I())}function zl(t,e){return 4&t.type?new uG(e,t,Eo(t,e)):null}let lr=(()=>{class t{}return t.__NG_ELEMENT_ID__=lG,t})();function lG(){return OS(Ze(),I())}const dG=lr,RS=class extends dG{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Eo(this._hostTNode,this._hostLView)}get injector(){return new Gs(this._hostTNode,this._hostLView)}get parentInjector(){const e=dl(this._hostTNode,this._hostLView);if(A0(e)){const n=Hs(e,this._hostLView),r=$s(e);return new Gs(n[1].data[r+8],n)}return new Gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=PS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function ka(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new Og(St(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Do,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function PV(t){return Bn(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new RS(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function FB(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],L0(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function LB(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=jp(s,o),u=r[Q],c=Dl(u,o[7]);return null!==c&&function RB(t,e,n,r,i,s){r[0]=i,r[6]=e,qa(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),L0(Bg(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=PS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Vp(this._lContainer,n);r&&(pl(Bg(this._lContainer),n),wC(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Vp(this._lContainer,n);return r&&null!=pl(Bg(this._lContainer),n)?new ru(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function PS(t){return t[8]}function Bg(t){return t[8]||(t[8]=[])}function OS(t,e){let n;const r=e[t.index];if(Bn(r))n=r;else{let i;if(8&t.type)i=Ge(r);else{const s=e[Q];i=s.createComment("");const o=Tn(t,e);Li(s,Dl(s,o),i,function jB(t,e){return Re(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=cT(r,e,i,t),xl(e,n)}return new RS(n,t,e)}class Ug{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ug(this.queryList)}setDirty(){this.queryList.setDirty()}}class jg{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new jg(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==US(e,n).matches&&this.queries[n].setDirty()}}class FS{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class $g{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new $g(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Hg{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Hg(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,pG(n,s)),this.matchTNodeWithReadOption(e,n,fl(n,e,s,!1,!1))}else r===kr?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,fl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Wn||i===lr||i===kr&&4&n.type)this.addMatch(n.index,-2);else{const s=fl(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function pG(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function mG(t,e,n,r){return-1===n?function gG(t,e){return 11&t.type?Eo(t,e):4&t.type?zl(t,e):null}(e,t):-2===n?function yG(t,e,n){return n===Wn?Eo(e,t):n===kr?zl(e,t):n===lr?OS(e,t):void 0}(t,e,r):xa(t,t[1],n,e)}function LS(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:mG(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function Gg(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=LS(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=10;d<l.length;d++){const h=l[d];h[17]===h[3]&&Gg(h[1],h,c,r)}if(null!==l[9]){const d=l[9];for(let h=0;h<d.length;h++){const f=d[h];Gg(f[1],f,c,r)}}}}}return r}function qg(t){const e=I(),n=re(),r=m0();sp(r+1);const i=US(n,r);if(t.dirty&&l0(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Gg(n,e,r,[]):LS(n,e,i,r);t.reset(s,kH),t.notifyOnChanges()}return!0}return!1}function Wg(t,e,n){const r=re();r.firstCreatePass&&(function BS(t,e,n){null===t.queries&&(t.queries=new $g),t.queries.track(new Hg(e,n))}(r,new FS(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function VS(t,e,n){const r=new Vg(4==(4&n));tT(t,e,r,r.destroy),null===e[19]&&(e[19]=new jg),e[19].queries.push(new Ug(r))}(r,I(),e)}function zg(){return function vG(t,e){return t[19].queries[e].queryList}(I(),m0())}function US(t,e){return t.queries.getByIndex(e)}function Kl(t,e){return zl(t,e)}function Jl(...t){}const rM=new ee("Application Initializer");let Zg=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Jl,this.reject=Jl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Vl(s))n.push(s);else if(tA(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(ie(rM,8))},t.\u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const au=new ee("AppId",{providedIn:"root",factory:function iM(){return`${em()}${em()}${em()}`}});function em(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sM=new ee("Platform Initializer"),uu=new ee("Platform ID"),LG=new ee("appBootstrapListener");let VG=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=pe({token:t,factory:t.\u0275fac}),t})();const oi=new ee("LocaleId",{providedIn:"root",factory:()=>D2(oi,z.Optional|z.SkipSelf)||function BG(){return"undefined"!=typeof $localize&&$localize.locale||jl}()}),HG=(()=>Promise.resolve(0))();function tm(t){"undefined"==typeof Zone?HG.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class rt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rt(!1),this.onMicrotaskEmpty=new Rt(!1),this.onStable=new Rt(!1),this.onError=new Rt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function GG(){let t=ge.requestAnimationFrame,e=ge.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function zG(t){const e=()=>{!function WG(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ge,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,rm(t),t.isCheckStableRunning=!0,nm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),rm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return oM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),aM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return oM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),aM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,rm(t),nm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(rt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,qG,Jl,Jl);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const qG={};function nm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function oM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function aM(t){t._nesting--,nm(t)}class KG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rt,this.onMicrotaskEmpty=new Rt,this.onStable=new Rt,this.onError=new Rt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let im=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rt.assertNotInAngularZone(),tm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())tm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(ie(rt))},t.\u0275prov=pe({token:t,factory:t.\u0275fac}),t})(),uM=(()=>{class t{constructor(){this._applications=new Map,sm.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return sm.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=pe({token:t,factory:t.\u0275fac}),t})();class YG{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let zn,sm=new YG;const cM=new ee("AllowMultipleToken");function lM(t,e,n=[]){const r=`Platform: ${e}`,i=new ee(r);return(s=[])=>{let o=dM();if(!o||o.injector.get(cM,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:hg,useValue:"platform"});!function ZG(t){if(zn&&!zn.destroyed&&!zn.injector.get(cM,!1))throw new ne(400,"");zn=t.get(hM);const e=t.get(sM,null);e&&e.forEach(n=>n())}(_t.create({providers:a,name:r}))}return function eq(t){const e=dM();if(!e)throw new ne(401,"");return e}()}}function dM(){return zn&&!zn.destroyed?zn:null}let hM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function tq(t,e){let n;return n="noop"===t?new KG:("zone.js"===t?void 0:t)||new rt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:rt,useValue:a}];return a.run(()=>{const c=_t.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(Ha,null);if(!d)throw new ne(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{am(this._modules,l),h.unsubscribe()})}),function nq(t,e,n){try{const r=n();return Vl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(Zg);return h.runInitializers(),h.donePromise.then(()=>(function R$(t){dn(t,"Expected localeId to be defined"),"string"==typeof t&&(KA=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(oi,jl)||jl),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=fM({},r);return function JG(t,e,n){const r=new Fg(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(om);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new ne(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ne(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(ie(_t))},t.\u0275prov=pe({token:t,factory:t.\u0275fac}),t})();function fM(t,e){return Array.isArray(e)?e.reduce(fM,t):Object.assign(Object.assign({},t),e)}let om=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new He(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new He(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{rt.assertNotInAngularZone(),tm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{rt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=Wb(a,u.pipe(function tV(t={}){const{connector:e=(()=>new $c),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return Zn((m,_)=>{c++,!d&&!l&&h();const E=u=null!=u?u:e();_.add(()=>{c--,0===c&&!d&&!l&&(a=Pf(p,i))}),E.subscribe(_),o||(o=new wa({next:y=>E.next(y),error:y=>{d=!0,h(),a=Pf(f,n,y),E.error(y)},complete:()=>{l=!0,h(),a=Pf(f,r),E.complete()}}),qc(m).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new ne(405,"");let i;i=n instanceof vS?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function XG(t){return t.isBoundToModule}(i)?void 0:this._injector.get(Do),a=i.create(_t.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(im,null),l=c&&a.injector.get(uM);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),am(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new ne(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;am(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(LG,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(ie(rt),ie(_t),ie(Ha),ie(wo),ie(Zg))},t.\u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function am(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let gM=!0,um=(()=>{class t{}return t.__NG_ELEMENT_ID__=sq,t})();function sq(t){return function oq(t,e,n){if(Xc(t)&&!n){const r=fn(t.index,e);return new ru(r,r)}return 47&t.type?new ru(e[16],e):null}(Ze(),I(),16==(16&t))}const vq=lM(null,"core",[{provide:uu,useValue:"unknown"},{provide:hM,deps:[_t]},{provide:uM,deps:[]},{provide:VG,deps:[]}]);let wq=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(ie(om))},t.\u0275mod=Ln({type:t}),t.\u0275inj=In({}),t})(),td=null;function Hi(){return td}const dr=new ee("DocumentToken");let hr=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new p3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){LM("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){LM("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(C(lr),C(kr))},t.\u0275dir=q({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class p3{constructor(){this.$implicit=null,this.ngIf=null}}function LM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${he(e)}'.`)}class w3{createSubscription(e,n){return e.subscribe({next:n,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class E3{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}onDestroy(e){}}const I3=new E3,D3=new w3;let Gi=(()=>{class t{constructor(n){this._ref=n,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Vl(n))return I3;if(eA(n))return D3;throw function Yn(t,e){return new ne(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(n){return new(n||t)(C(um,16))},t.\u0275pipe=nn({name:"async",type:t,pure:!1}),t})(),bm=(()=>{class t{transform(n){return JSON.stringify(n,null,2)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=nn({name:"json",type:t,pure:!1}),t})(),B3=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ln({type:t}),t.\u0275inj=In({}),t})();class Am extends class q3 extends class Dq{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Iq(t){td||(td=t)}(new Am)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function W3(){return hu=hu||document.querySelector("base"),hu?hu.getAttribute("href"):null}();return null==n?null:function z3(t){dd=dd||document.createElement("a"),dd.setAttribute("href",t);const e=dd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){hu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function c3(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let dd,hu=null;const $M=new ee("TRANSITION_ID"),Y3=[{provide:rM,useFactory:function K3(t,e,n){return()=>{n.get(Zg).donePromise.then(()=>{const r=Hi(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[$M,dr,_t],multi:!0}];class Sm{static init(){!function QG(t){sm=t}(new Sm)}addToWindow(e){ge.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ge.getAllAngularTestabilities=()=>e.getAllTestabilities(),ge.getAllAngularRootElements=()=>e.getAllRootElements(),ge.frameworkStabilizers||(ge.frameworkStabilizers=[]),ge.frameworkStabilizers.push(r=>{const i=ge.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Hi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let Q3=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=pe({token:t,factory:t.\u0275fac}),t})();const hd=new ee("EventManagerPlugins");let fd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(ie(hd),ie(rt))},t.\u0275prov=pe({token:t,factory:t.\u0275fac}),t})();class HM{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Hi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let GM=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=pe({token:t,factory:t.\u0275fac}),t})(),fu=(()=>{class t extends GM{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(qM),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(qM))}}return t.\u0275fac=function(n){return new(n||t)(ie(dr))},t.\u0275prov=pe({token:t,factory:t.\u0275fac}),t})();function qM(t){Hi().remove(t)}const Mm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xm=/%COMP%/g;function pd(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?pd(t,i,n):(i=i.replace(xm,t),n.push(i))}return n}function KM(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Nm=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new km(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case er.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new nW(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case er.ShadowDom:return new rW(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=pd(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(ie(fd),ie(fu),ie(au))},t.\u0275prov=pe({token:t,factory:t.\u0275fac}),t})();class km{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Mm[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Mm[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Mm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(gn.DashCase|gn.Important)?e.style.setProperty(n,r,i&gn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&gn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,KM(r)):this.eventManager.addEventListener(e,n,KM(r))}}class nW extends km{constructor(e,n,r,i){super(e),this.component=r;const s=pd(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function Z3(t){return"_ngcontent-%COMP%".replace(xm,t)}(i+"-"+r.id),this.hostAttr=function eW(t){return"_nghost-%COMP%".replace(xm,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class rW extends km{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=pd(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let iW=(()=>{class t extends HM{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(ie(dr))},t.\u0275prov=pe({token:t,factory:t.\u0275fac}),t})();const QM=["alt","control","meta","shift"],oW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JM={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},aW={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let uW=(()=>{class t extends HM{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(QM.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function cW(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&JM.hasOwnProperty(e)&&(e=JM[e]))}return oW[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),QM.forEach(s=>{s!=i&&aW[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(ie(dr))},t.\u0275prov=pe({token:t,factory:t.\u0275fac}),t})();const fW=lM(vq,"browser",[{provide:uu,useValue:"browser"},{provide:sM,useValue:function lW(){Am.makeCurrent(),Sm.init()},multi:!0},{provide:dr,useFactory:function hW(){return function xV(t){Qf=t}(document),document},deps:[]}]),pW=[{provide:hg,useValue:"root"},{provide:Ha,useFactory:function dW(){return new Ha},deps:[]},{provide:hd,useClass:iW,multi:!0,deps:[dr,rt,uu]},{provide:hd,useClass:uW,multi:!0,deps:[dr]},{provide:Nm,useClass:Nm,deps:[fd,fu,au]},{provide:ES,useExisting:Nm},{provide:GM,useExisting:fu},{provide:fu,useClass:fu,deps:[dr]},{provide:im,useClass:im,deps:[rt]},{provide:fd,useClass:fd,deps:[hd,rt]},{provide:class G3{},useClass:Q3,deps:[]}];let gW=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:au,useValue:n.appId},{provide:$M,useExisting:au},Y3]}}}return t.\u0275fac=function(n){return new(n||t)(ie(t,12))},t.\u0275mod=Ln({type:t}),t.\u0275inj=In({providers:pW,imports:[B3,wq]}),t})();"undefined"!=typeof window&&window;const Pm={now:()=>(Pm.delegate||Date).now(),delegate:void 0};class TW extends $c{constructor(e=1/0,n=1/0,r=Pm){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}function ex(t,e){return Zn((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(On(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;Er(t(u,l)).subscribe(i=On(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}const gd={schedule(t,e){const n=setTimeout(t,e);return()=>clearTimeout(n)},scheduleBeforeRender(t){if("undefined"==typeof window)return gd.schedule(t,0);if(void 0===window.requestAnimationFrame)return gd.schedule(t,16);const e=window.requestAnimationFrame(t);return()=>window.cancelAnimationFrame(e)}};let Om;function OW(t,e,n){let r=n;return function SW(t){return!!t&&t.nodeType===Node.ELEMENT_NODE}(t)&&e.some((i,s)=>!("*"===i||!function xW(t,e){if(!Om){const n=Element.prototype;Om=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}return t.nodeType===Node.ELEMENT_NODE&&Om.call(t,e)}(t,i)||(r=s,0))),r}class LW{constructor(e,n){this.componentFactory=n.get(wo).resolveComponentFactory(e)}create(e){return new VW(this.componentFactory,e)}}class VW{constructor(e,n){this.componentFactory=e,this.injector=n,this.eventEmitters=new TW(1),this.events=this.eventEmitters.pipe(ex(r=>Wb(...r))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:r})=>r)),this.ngZone=this.injector.get(rt),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=gd.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,n){this.runInZone(()=>{null!==this.componentRef?function NW(t,e){return t===e||t!=t&&e!=e}(n,this.getInputValue(e))&&(void 0!==n||!this.unchangedInputs.has(e))||(this.recordInputChange(e,n),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=n,this.scheduleDetectChanges()):this.initialInputValues.set(e,n)})}initializeComponent(e){const n=_t.create({providers:[],parent:this.injector}),r=function PW(t,e){const n=t.childNodes,r=e.map(()=>[]);let i=-1;e.some((s,o)=>"*"===s&&(i=o,!0));for(let s=0,o=n.length;s<o;++s){const a=n[s],u=OW(a,e,i);-1!==u&&r[u].push(a)}return r}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(n,r,e),this.viewChangeDetectorRef=this.componentRef.injector.get(um),this.implementsOnChanges=function MW(t){return"function"==typeof t}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(om).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))}),this.initialInputValues.clear()}initializeOutputs(e){const n=this.componentFactory.outputs.map(({propName:r,templateName:i})=>e.instance[r].pipe(xi(o=>({name:i,value:o}))));this.eventEmitters.next(n)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const n=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(n)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=gd.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,n){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const r=this.inputChanges[e];if(r)return void(r.currentValue=n);const i=this.unchangedInputs.has(e),s=i?void 0:this.getInputValue(e);this.inputChanges[e]=new s0(s,n,i)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class BW extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function UW(t,e){const n=function RW(t,e){return e.get(wo).resolveComponentFactory(t).inputs}(t,e.injector),r=e.strategyFactory||new LW(t,e.injector),i=function kW(t){const e={};return t.forEach(({propName:n,templateName:r})=>{e[function AW(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(r)]=n}),e}(n);class s extends BW{constructor(a){super(),this.injector=a}get ngElementStrategy(){if(!this._ngElementStrategy){const a=this._ngElementStrategy=r.create(this.injector||e.injector);n.forEach(({propName:u})=>{if(!this.hasOwnProperty(u))return;const c=this[u];delete this[u],a.setInputValue(u,c)})}return this._ngElementStrategy}attributeChangedCallback(a,u,c,l){this.ngElementStrategy.setInputValue(i[a],c)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{const u=new CustomEvent(a.name,{detail:a.value});this.dispatchEvent(u)})}}return s.observedAttributes=Object.keys(i),n.forEach(({propName:o})=>{Object.defineProperty(s.prototype,o,{get(){return this.ngElementStrategy.getInputValue(o)},set(a){this.ngElementStrategy.setInputValue(o,a)},configurable:!0,enumerable:!0})}),s}const{isArray:jW}=Array,{getPrototypeOf:$W,prototype:HW,keys:GW}=Object;const{isArray:zW}=Array;function tx(t){return xi(e=>function KW(t,e){return zW(e)?t(...e):t(e)}(t,e))}function YW(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function QW(...t){const e=function WL(t){return le(Rf(t))?t.pop():void 0}(t),{args:n,keys:r}=function qW(t){if(1===t.length){const e=t[0];if(jW(e))return{args:e,keys:null};if(function WW(t){return t&&"object"==typeof t&&$W(t)===HW}(e)){const n=GW(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t),i=new He(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Er(n[l]).subscribe(On(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?YW(r,a):a),s.complete())}))}});return e?i.pipe(tx(e)):i}let nx=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(C(ji),C(Wn))},t.\u0275dir=q({type:t}),t})(),qi=(()=>{class t extends nx{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function xt(t){return Jr(()=>{const e=t.prototype.constructor,n=e[Dr]||hp(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Dr]||hp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(r||t)}}(),t.\u0275dir=q({type:t,features:[fe]}),t})();const fr=new ee("NgValueAccessor"),XW={provide:fr,useExisting:we(()=>md),multi:!0},ez=new ee("CompositionEventMode");let md=(()=>{class t extends nx{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ZW(){const t=Hi()?Hi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(C(ji),C(Wn),C(ez,8))},t.\u0275dir=q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Oe("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Me([XW]),fe]}),t})();const Pt=new ee("NgValidators"),ci=new ee("NgAsyncValidators");function fx(t){return null!=t}function px(t){const e=Vl(t)?qc(t):t;return tA(e),e}function gx(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function mx(t,e){return e.map(n=>n(t))}function yx(t){return t.map(e=>function nz(t){return!t.validate}(e)?e:n=>e.validate(n))}function Fm(t){return null!=t?function _x(t){if(!t)return null;const e=t.filter(fx);return 0==e.length?null:function(n){return gx(mx(n,e))}}(yx(t)):null}function Lm(t){return null!=t?function vx(t){if(!t)return null;const e=t.filter(fx);return 0==e.length?null:function(n){return QW(mx(n,e).map(px)).pipe(xi(gx))}}(yx(t)):null}function wx(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Vm(t){return t?Array.isArray(t)?t:[t]:[]}function _d(t,e){return Array.isArray(t)?t.includes(e):t===e}function Dx(t,e){const n=Vm(e);return Vm(t).forEach(i=>{_d(n,i)||n.push(i)}),n}function bx(t,e){return Vm(e).filter(n=>!_d(t,n))}class Cx{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Fm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Lm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class li extends Cx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zt extends Cx{get formDirective(){return null}get path(){return null}}class Tx{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Ax=(()=>{class t extends Tx{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(li,2))},t.\u0275dir=q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Bl("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[fe]}),t})(),Sx=(()=>{class t extends Tx{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(zt,10))},t.\u0275dir=q({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Bl("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[fe]}),t})();function pu(t,e){jm(t,e),e.valueAccessor.writeValue(t.value),function lz(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&xx(t,e)})}(t,e),function hz(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function dz(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&xx(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function cz(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Id(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function jm(t,e){const n=function Ex(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(wx(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function Ix(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(wx(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Id(e._rawValidators,i),Id(e._rawAsyncValidators,i)}function xx(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Gm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const gu="VALID",bd="INVALID",To="PENDING",mu="DISABLED";function Wm(t){return(Cd(t)?t.validators:t)||null}function Px(t){return Array.isArray(t)?Fm(t):t||null}function zm(t,e){return(Cd(e)?e.asyncValidators:t)||null}function Ox(t){return Array.isArray(t)?Lm(t):t||null}function Cd(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const Km=t=>t instanceof Qm;function Lx(t){return(t=>t instanceof Ux)(t)?t.value:t.getRawValue()}function Vx(t,e){const n=Km(t),r=t.controls;if(!(n?Object.keys(r):r).length)throw new ne(1e3,"");if(!r[e])throw new ne(1001,"")}function Bx(t,e){Km(t),t._forEachChild((r,i)=>{if(void 0===e[i])throw new ne(1002,"")})}class Ym{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=Px(this._rawValidators),this._composedAsyncValidatorFn=Ox(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===gu}get invalid(){return this.status===bd}get pending(){return this.status==To}get disabled(){return this.status===mu}get enabled(){return this.status!==mu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Px(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ox(e)}addValidators(e){this.setValidators(Dx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Dx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(bx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(bx(e,this._rawAsyncValidators))}hasValidator(e){return _d(this._rawValidators,e)}hasAsyncValidator(e){return _d(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=To,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=mu,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=gu,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gu||this.status===To)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mu:gu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=To,this._hasOwnPendingAsyncValidator=!0;const n=px(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function mz(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(n)),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=Km(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(t=>t instanceof _z)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Rt,this.statusChanges=new Rt}_calculateStatus(){return this._allControlsDisabled()?mu:this.errors?bd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(To)?To:this._anyControlsHaveStatus(bd)?bd:gu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Cd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ux extends Ym{constructor(e=null,n,r){super(Wm(n),zm(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cd(n)&&n.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Gm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Gm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Qm extends Ym{constructor(e,n,r){super(Wm(n),zm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Bx(this,e),Object.keys(e).forEach(r=>{Vx(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=Lx(n),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class _z extends Ym{constructor(e,n,r){super(Wm(n),zm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Bx(this,e),e.forEach((r,i)=>{Vx(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>Lx(e))}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const vz={provide:zt,useExisting:we(()=>Td)},yu=(()=>Promise.resolve(null))();let Td=(()=>{class t extends zt{constructor(n,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Rt,this.form=new Qm({},Fm(n),Lm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){yu.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),pu(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){yu.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){yu.then(()=>{const r=this._findContainer(n.path),i=new Qm({});(function Nx(t,e){jm(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){yu.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){yu.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function Rx(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(C(Pt,10),C(ci,10))},t.\u0275dir=q({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Oe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Me([vz]),fe]}),t})();const Ez={provide:li,useExisting:we(()=>Jm)},Hx=(()=>Promise.resolve(null))();let Jm=(()=>{class t extends li{constructor(n,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new Ux,this._registered=!1,this.update=new Rt,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Hm(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===md?n=s:function gz(t){return Object.getPrototypeOf(t.constructor)===qi}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function $m(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){Hx.then(()=>{var r;this.control.setValue(n,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;Hx.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(n){return this._parent?function wd(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(C(zt,9),C(Pt,10),C(ci,10),C(fr,10),C(um,8))},t.\u0275dir=q({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Me([Ez]),fe,br]}),t})(),Gx=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=q({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Wx=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ln({type:t}),t.\u0275inj=In({}),t})(),Wz=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ln({type:t}),t.\u0275inj=In({imports:[[Wx]]}),t})(),zz=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ln({type:t}),t.\u0275inj=In({imports:[Wz]}),t})();function l1(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){l1(s,r,i,o,a,"next",u)}function a(u){l1(s,r,i,o,a,"throw",u)}o(void 0)})}}const d1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},sy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(d1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ad=function(t){return function(t){const e=d1(t);return sy.encodeByteArray(e,!0)}(t).replace(/\./g,"")};class ay{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function lt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f1(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function Sd(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p1(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g1(){const t=lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zi(){return"object"==typeof indexedDB}function _u(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function uy(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gr.prototype.create)}}class gr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function r4(t,e){return t.replace(i4,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new pr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const i4=/\{\$([^}]+)}/g;function xd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(y1(s)&&y1(o)){if(!xd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function y1(t){return null!==t&&"object"==typeof t}function vu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Eu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class a4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function u4(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=cy),void 0===i.error&&(i.error=cy),void 0===i.complete&&(i.complete=cy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cy(){}function dy(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Kt(t){return t&&t._delegate?t._delegate:t}function Iu(t,e){return new Promise((n,r)=>{t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var s;r(`${e}: ${null===(s=i.target.error)||void 0===s?void 0:s.message}`)}})}class _1{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,n="readonly"){return new v1(this._db.transaction.call(this._db,e,n))}createObjectStore(e,n){return new w1(this._db.createObjectStore(e,n))}close(){this._db.close()}}class v1{constructor(e){this._transaction=e,this.complete=new Promise((n,r)=>{this._transaction.oncomplete=function(){n()},this._transaction.onerror=()=>{r(this._transaction.error)},this._transaction.onabort=()=>{r(this._transaction.error)}})}objectStore(e){return new w1(this._transaction.objectStore(e))}}class w1{constructor(e){this._store=e}index(e){return new E1(this._store.index(e))}createIndex(e,n,r){return new E1(this._store.createIndex(e,n,r))}get(e){return Iu(this._store.get(e),"Error reading from IndexedDB")}put(e,n){return Iu(this._store.put(e,n),"Error writing to IndexedDB")}delete(e){return Iu(this._store.delete(e),"Error deleting from IndexedDB")}clear(){return Iu(this._store.clear(),"Error clearing IndexedDB object store")}}class E1{constructor(e){this._index=e}get(e){return Iu(this._index.get(e),"Error reading from IndexedDB")}}function Nd(t,e,n){return new Promise((r,i)=>{try{const s=indexedDB.open(t,e);s.onsuccess=o=>{r(new _1(o.target.result))},s.onerror=o=>{var a;i(`Error opening indexedDB: ${null===(a=o.target.error)||void 0===a?void 0:a.message}`)},s.onupgradeneeded=o=>{n(new _1(s.result),o.oldVersion,o.newVersion,new v1(s.transaction))}}catch(s){i(`Error opening indexedDB: ${s.message}`)}})}function hy(t){return fy.apply(this,arguments)}function fy(){return(fy=g(function*(t){return new Promise((e,n)=>{try{const r=indexedDB.deleteDatabase(t);r.onsuccess=()=>{e()},r.onerror=i=>{var s;n(`Error deleting indexedDB database "${t}": ${null===(s=i.target.error)||void 0===s?void 0:s.message}`)}}catch(r){n(`Error deleting indexedDB database "${t}": ${r.message}`)}})})).apply(this,arguments)}class Ot{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ki="[DEFAULT]";class p4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ay;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function m4(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ki){return this.instances.has(e)}getOptions(e=Ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ki?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=Ki){return this.component?this.component.multipleInstances?e:Ki:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class y4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new p4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const py=[];var se=(()=>{return(t=se||(se={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",se;var t})();const I1={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},_4=se.INFO,v4={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},w4=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=v4[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ao{constructor(e){this.name=e,this._logLevel=_4,this._logHandler=w4,this._userLogHandler=null,py.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?I1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}class E4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function I4(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const gy="@firebase/app",my=new Ao("@firebase/app"),yy="[DEFAULT]",K4={[gy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yi=new Map,kd=new Map;function Y4(t,e){try{t.container.addComponent(e)}catch(n){my.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yt(t){const e=t.name;if(kd.has(e))return my.debug(`There were multiple attempts to register component ${e}.`),!1;kd.set(e,t);for(const n of Yi.values())Y4(n,t);return!0}function So(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const di=new gr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class J4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ot("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}const Mo="9.6.11";function X4(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:yy,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw di.create("bad-app-name",{appName:String(r)});const i=Yi.get(r);if(i){if(xd(t,i.options)&&xd(n,i.config))return i;throw di.create("duplicate-app",{appName:r})}const s=new y4(r);for(const a of kd.values())s.addComponent(a);const o=new J4(t,n,s);return Yi.set(r,o),o}function _y(t=yy){const e=Yi.get(t);if(!e)throw di.create("no-app",{appName:t});return e}function b1(){return Array.from(Yi.values())}function Le(t,e,n){var r;let i=null!==(r=K4[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void my.warn(a.join(" "))}Yt(new Ot(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Du="firebase-heartbeat-store";let wy=null;function C1(){return wy||(wy=Nd("firebase-heartbeat-database",1,(t,e)=>{0===e&&t.createObjectStore(Du)}).catch(t=>{throw di.create("storage-open",{originalErrorMessage:t.message})})),wy}function Ey(){return(Ey=g(function*(t){try{return(yield C1()).transaction(Du).objectStore(Du).get(A1(t))}catch(e){throw di.create("storage-get",{originalErrorMessage:e.message})}})).apply(this,arguments)}function T1(t,e){return Iy.apply(this,arguments)}function Iy(){return(Iy=g(function*(t,e){try{const r=(yield C1()).transaction(Du,"readwrite");return yield r.objectStore(Du).put(e,A1(t)),r.complete}catch(n){throw di.create("storage-set",{originalErrorMessage:n.message})}})).apply(this,arguments)}function A1(t){return`${t.name}!${t.options.appId}`}class i8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new o8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=S1();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=S1(),{heartbeatsToSend:r,unsentEntries:i}=function s8(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),M1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),M1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ad(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function S1(){return(new Date).toISOString().substring(0,10)}class o8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!zi()&&_u().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function t8(t){return Ey.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return T1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return T1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function M1(t){return Ad(JSON.stringify({version:2,heartbeats:t})).length}!function a8(t){Yt(new Ot("platform-logger",e=>new E4(e),"PRIVATE")),Yt(new Ot("heartbeat",e=>new i8(e),"PRIVATE")),Le(gy,"0.7.21",t),Le(gy,"0.7.21","esm2017"),Le("fire-js","")}(""),Le("firebase","9.6.11","app");const x1="@firebase/installations",k1="w:0.5.8",R1="FIS_v2",Pr=new gr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function P1(t){return t instanceof pr&&t.code.includes("request-failed")}function by({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function O1(t){return{token:t.token,requestStatus:2,expiresIn:g8(t.expiresIn),creationTime:Date.now()}}function Cy(t,e){return Ty.apply(this,arguments)}function Ty(){return(Ty=g(function*(t,e){const r=(yield e.json()).error;return Pr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function F1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function L1(t,{refreshToken:e}){const n=F1(t);return n.append("Authorization",function m8(t){return`${R1} ${t}`}(e)),n}function Ay(t){return Sy.apply(this,arguments)}function Sy(){return(Sy=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function g8(t){return Number(t.replace("s","000"))}function y8(t,e){return My.apply(this,arguments)}function My(){return(My=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=by(t),i=F1(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:R1,appId:t.appId,sdkVersion:k1})},u=yield Ay(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:O1(c.authToken)}}throw yield Cy("Create Installation",u)})).apply(this,arguments)}function V1(t){return new Promise(e=>{setTimeout(e,t)})}const v8=/^[cdef][\w-]{21}$/;function w8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function E8(t){return function _8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return v8.test(n)?n:""}catch(t){return""}}function xo(t){return`${t.appName}!${t.appId}`}const No=new Map;function B1(t,e){const n=xo(t);U1(n,e),function b8(t,e){const n=function j1(){return!Qi&&"BroadcastChannel"in self&&(Qi=new BroadcastChannel("[Firebase] FID Change"),Qi.onmessage=t=>{U1(t.data.key,t.data.fid)}),Qi}();n&&n.postMessage({key:t,fid:e}),function $1(){0===No.size&&Qi&&(Qi.close(),Qi=null)}()}(n,e)}function U1(t,e){const n=No.get(t);if(n)for(const r of n)r(e)}let Qi=null;const Ji="firebase-installations-store";let Ny=null;function ky(){return Ny||(Ny=Nd("firebase-installations-database",1,(t,e)=>{0===e&&t.createObjectStore(Ji)})),Ny}function Rd(t,e){return Ry.apply(this,arguments)}function Ry(){return(Ry=g(function*(t,e){const n=xo(t),i=(yield ky()).transaction(Ji,"readwrite"),s=i.objectStore(Ji),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&B1(t,e.fid),e})).apply(this,arguments)}function Py(t){return Oy.apply(this,arguments)}function Oy(){return(Oy=g(function*(t){const e=xo(t),r=(yield ky()).transaction(Ji,"readwrite");yield r.objectStore(Ji).delete(e),yield r.complete})).apply(this,arguments)}function bu(t,e){return Fy.apply(this,arguments)}function Fy(){return(Fy=g(function*(t,e){const n=xo(t),i=(yield ky()).transaction(Ji,"readwrite"),s=i.objectStore(Ji),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&B1(t,a.fid),a})).apply(this,arguments)}function Ly(t){return Vy.apply(this,arguments)}function Vy(){return(Vy=g(function*(t){let e;const n=yield bu(t.appConfig,r=>{const i=A8(r),s=S8(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function A8(t){return G1(t||{fid:w8(),registrationStatus:0})}function S8(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Pr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function M8(t,e){return By.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:x8(t)}:{installationEntry:e}}function By(){return(By=g(function*(t,e){try{const n=yield y8(t,e);return Rd(t.appConfig,n)}catch(n){throw P1(n)&&409===n.customData.serverCode?yield Py(t.appConfig):yield Rd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function x8(t){return Uy.apply(this,arguments)}function Uy(){return(Uy=g(function*(t){let e=yield H1(t.appConfig);for(;1===e.registrationStatus;)yield V1(100),e=yield H1(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Ly(t);return r||n}return e})).apply(this,arguments)}function H1(t){return bu(t,e=>{if(!e)throw Pr.create("installation-not-found");return G1(e)})}function G1(t){return function N8(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function k8(t,e){return jy.apply(this,arguments)}function jy(){return(jy=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=R8(t,n),i=L1(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:k1,appId:t.appId}})},u=yield Ay(()=>fetch(r,a));if(u.ok)return O1(yield u.json());throw yield Cy("Generate Auth Token",u)})).apply(this,arguments)}function R8(t,{fid:e}){return`${by(t)}/${e}/authTokens:generate`}function $y(t){return Hy.apply(this,arguments)}function Hy(){return(Hy=g(function*(t,e=!1){let n;const r=yield bu(t.appConfig,s=>{if(!W1(s))throw Pr.create("not-registered");const o=s.authToken;if(!e&&F8(o))return s;if(1===o.requestStatus)return n=P8(t,e),s;{if(!navigator.onLine)throw Pr.create("app-offline");const a=V8(s);return n=O8(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function P8(t,e){return Gy.apply(this,arguments)}function Gy(){return(Gy=g(function*(t,e){let n=yield q1(t.appConfig);for(;1===n.authToken.requestStatus;)yield V1(100),n=yield q1(t.appConfig);const r=n.authToken;return 0===r.requestStatus?$y(t,e):r})).apply(this,arguments)}function q1(t){return bu(t,e=>{if(!W1(e))throw Pr.create("not-registered");return function B8(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function O8(t,e){return qy.apply(this,arguments)}function qy(){return(qy=g(function*(t,e){try{const n=yield k8(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Rd(t.appConfig,r),n}catch(n){if(!P1(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Rd(t.appConfig,r)}else yield Py(t.appConfig);throw n}})).apply(this,arguments)}function W1(t){return void 0!==t&&2===t.registrationStatus}function F8(t){return 2===t.requestStatus&&!function L8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function V8(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Wy(){return(Wy=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Ly(e);return r?r.catch(console.error):$y(e).catch(console.error),n.fid})).apply(this,arguments)}function zy(){return(zy=g(function*(t,e=!1){const n=t;return yield $8(n),(yield $y(n,e)).token})).apply(this,arguments)}function $8(t){return Ky.apply(this,arguments)}function Ky(){return(Ky=g(function*(t){const{registrationPromise:e}=yield Ly(t);e&&(yield e)})).apply(this,arguments)}function Jy(t){return Pr.create("missing-app-config-values",{valueName:t})}const z1="installations",z8=t=>{const e=t.getProvider("app").getImmediate(),n=function q8(t){if(!t||!t.options)throw Jy("App Configuration");if(!t.name)throw Jy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Jy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:So(e,"heartbeat"),_delete:()=>Promise.resolve()}},K8=t=>{const n=So(t.getProvider("app").getImmediate(),z1).getImmediate();return{getId:()=>function U8(t){return Wy.apply(this,arguments)}(n),getToken:i=>function j8(t){return zy.apply(this,arguments)}(n,i)}};(function Y8(){Yt(new Ot(z1,z8,"PUBLIC")),Yt(new Ot("installations-internal",K8,"PRIVATE"))})(),Le(x1,"0.5.8"),Le(x1,"0.5.8","esm2017");const Xy="@firebase/remote-config",on=new gr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class o6{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function a6(t=navigator){return t.languages&&t.languages[0]||t.language}class u6{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:a6()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((E,y)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",y(T)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(E){let y="fetch-client-network";throw"AbortError"===E.name&&(y="fetch-timeout"),on.create(y,{originalErrorMessage:E.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,_;if(200===h.status){let E;try{E=yield h.json()}catch(y){throw on.create("fetch-client-parse",{originalErrorMessage:y.message})}m=E.entries,_=E.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(m={}),304!==f&&200!==f)throw on.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class d6{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function c6(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(on.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function l6(t){if(!(t instanceof pr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+dy(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class p6{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Od(t,e){const n=t.target.error||void 0;return on.create(e,{originalErrorMessage:n&&n.message})}const Xi="app_namespace_store";class _6{constructor(e,n,r,i=function y6(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Od(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Xi,{keyPath:"compositeKey"})}}catch(n){e(on.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Xi],"readonly").objectStore(Xi),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Od(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(on.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Xi],"readwrite").objectStore(Xi),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Od(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(on.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Xi],"readwrite").objectStore(Xi),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Od(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(on.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class v6{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function E6(){return r_.apply(this,arguments)}function r_(){return(r_=g(function*(){if(!zi())return!1;try{return yield _u()}catch(t){return!1}})).apply(this,arguments)}!function w6(){Yt(new Ot("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw on.create("registration-window");if(!zi())throw on.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw on.create("registration-project-id");if(!o)throw on.create("registration-api-key");if(!a)throw on.create("registration-app-id");const u=new _6(a,r.name,n=n||"firebase"),c=new v6(u),l=new Ao(Xy);l.logLevel=se.ERROR;const d=new u6(i,Mo,n,s,o,a),h=new d6(d,u),f=new o6(h,u,c,l),p=new p6(r,f,c,u,l);return function r6(t){const e=Kt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Le(Xy,"0.3.7"),Le(Xy,"0.3.7","esm2017")}();const I6="/firebase-messaging-sw.js",D6="/firebase-cloud-messaging-push-scope",J1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",X1="google.c.a.c_id",C6="google.c.a.c_l",T6="google.c.a.ts",A6="google.c.a.e";var ko=(()=>{return(t=ko||(ko={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",ko;var t})();function Or(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function S6(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const i_="fcm_token_details_db",Z1="fcm_token_object_Store";function x6(t){return s_.apply(this,arguments)}function s_(){return s_=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(i_))return null;let e=null;return(yield Nd(i_,5,function(){var r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(Z1))return;const c=a.objectStore(Z1),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Or(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Or(d.auth),p256dh:Or(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Or(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Or(d.auth),p256dh:Or(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Or(d.vapidKey)}}}});return function(i,s,o,a){return r.apply(this,arguments)}}())).close(),yield hy(i_),yield hy("fcm_vapid_details_db"),yield hy("undefined"),N6(e)?e:null}),s_.apply(this,arguments)}function N6(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Zi="firebase-messaging-store";let o_=null;function a_(){return o_||(o_=Nd("firebase-messaging-database",1,(t,e)=>{0===e&&t.createObjectStore(Zi)})),o_}function eN(t){return u_.apply(this,arguments)}function u_(){return(u_=g(function*(t){const e=h_(t),r=yield(yield a_()).transaction(Zi).objectStore(Zi).get(e);if(r)return r;{const i=yield x6(t.appConfig.senderId);if(i)return yield c_(t,i),i}})).apply(this,arguments)}function c_(t,e){return l_.apply(this,arguments)}function l_(){return(l_=g(function*(t,e){const n=h_(t),i=(yield a_()).transaction(Zi,"readwrite");return yield i.objectStore(Zi).put(e,n),yield i.complete,e})).apply(this,arguments)}function P6(t){return d_.apply(this,arguments)}function d_(){return(d_=g(function*(t){const e=h_(t),r=(yield a_()).transaction(Zi,"readwrite");yield r.objectStore(Zi).delete(e),yield r.complete})).apply(this,arguments)}function h_({appConfig:t}){return t.appId}const vt=new gr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function F6(t,e){return f_.apply(this,arguments)}function f_(){return(f_=g(function*(t,e){const n=yield y_(t),r=nN(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(m_(t.appConfig),i)).json()}catch(o){throw vt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw vt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw vt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function L6(t,e){return p_.apply(this,arguments)}function p_(){return(p_=g(function*(t,e){const n=yield y_(t),r=nN(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${m_(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw vt.create("token-update-failed",{errorInfo:o})}if(s.error)throw vt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw vt.create("token-update-no-token");return s.token})).apply(this,arguments)}function tN(t,e){return g_.apply(this,arguments)}function g_(){return(g_=g(function*(t,e){const r={method:"DELETE",headers:yield y_(t)};try{const s=yield(yield fetch(`${m_(t.appConfig)}/${e}`,r)).json();if(s.error)throw vt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw vt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function m_({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function y_(t){return __.apply(this,arguments)}function __(){return(__=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function nN({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==J1&&(i.web.applicationPubKey=r),i}const V6=6048e5;function B6(t){return v_.apply(this,arguments)}function v_(){return(v_=g(function*(t){const e=yield j6(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Or(e.getKey("auth")),p256dh:Or(e.getKey("p256dh"))},r=yield eN(t.firebaseDependencies);if(r){if($6(r.subscriptionOptions,n))return Date.now()>=r.createTime+V6?U6(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield tN(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return iN(t.firebaseDependencies,n)}return iN(t.firebaseDependencies,n)})).apply(this,arguments)}function rN(t){return w_.apply(this,arguments)}function w_(){return(w_=g(function*(t){const e=yield eN(t.firebaseDependencies);e&&(yield tN(t.firebaseDependencies,e.token),yield P6(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function U6(t,e){return E_.apply(this,arguments)}function E_(){return(E_=g(function*(t,e){try{const n=yield L6(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield c_(t.firebaseDependencies,r),n}catch(n){throw yield rN(t),n}})).apply(this,arguments)}function iN(t,e){return I_.apply(this,arguments)}function I_(){return(I_=g(function*(t,e){const r={token:yield F6(t,e),createTime:Date.now(),subscriptionOptions:e};return yield c_(t,r),r.token})).apply(this,arguments)}function j6(t,e){return D_.apply(this,arguments)}function D_(){return(D_=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:S6(e)})})).apply(this,arguments)}function $6(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function sN(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function H6(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function G6(t,e){!e.data||(t.data=e.data)}(e,t),function q6(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function W6(t){return"object"==typeof t&&!!t&&X1 in t}function oN(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function b_(t){return vt.create("missing-app-config-values",{valueName:t})}oN("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),oN("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class K6{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function z6(t){if(!t||!t.options)throw b_("App Configuration Object");if(!t.name)throw b_("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw b_(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function aN(t){return C_.apply(this,arguments)}function C_(){return(C_=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(I6,{scope:D6}),t.swRegistration.update().catch(()=>{})}catch(e){throw vt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function Y6(t,e){return T_.apply(this,arguments)}function T_(){return(T_=g(function*(t,e){if(!e&&!t.swRegistration&&(yield aN(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw vt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Q6(t,e){return A_.apply(this,arguments)}function A_(){return(A_=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=J1)})).apply(this,arguments)}function S_(){return(S_=g(function*(t,e){if(!navigator)throw vt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw vt.create("permission-blocked");return yield Q6(t,null==e?void 0:e.vapidKey),yield Y6(t,null==e?void 0:e.serviceWorkerRegistration),B6(t)})).apply(this,arguments)}function J6(t,e,n){return M_.apply(this,arguments)}function M_(){return(M_=g(function*(t,e,n){const r=X6(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[X1],message_name:n[C6],message_time:n[T6],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function X6(t){switch(t){case ko.NOTIFICATION_CLICKED:return"notification_open";case ko.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function x_(){return(x_=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ko.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(sN(n)):t.onMessageHandler.next(sN(n)));const r=n.data;W6(r)&&"1"===r[A6]&&(yield J6(t,n.messageType,r))})).apply(this,arguments)}const cN="@firebase/messaging",e5=t=>{const e=new K6(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Z6(t,e){return x_.apply(this,arguments)}(e,n)),e},t5=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function uN(t,e){return S_.apply(this,arguments)}(e,r)}};function dN(){return N_.apply(this,arguments)}function N_(){return(N_=g(function*(){try{yield _u()}catch(t){return!1}return"undefined"!=typeof window&&zi()&&uy()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function n5(){Yt(new Ot("messaging",e5,"PUBLIC")),Yt(new Ot("messaging-internal",t5,"PRIVATE")),Le(cN,"0.9.12"),Le(cN,"0.9.12","esm2017")}();const Fd="analytics",s5="firebase_id",u5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hN="https://www.googletagmanager.com/gtag/js",wt=new Ao("@firebase/analytics");function fN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function c5(t,e){const n=document.createElement("script");n.src=`${hN}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function d5(t,e,n,r,i,s){return P_.apply(this,arguments)}function P_(){return(P_=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield fN(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){wt.error(a)}t("config",i,s)})).apply(this,arguments)}function h5(t,e,n,r,i){return O_.apply(this,arguments)}function O_(){return(O_=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield fN(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){wt.error(s)}})).apply(this,arguments)}function g5(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(hN))return e;return null}const yn=new gr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),pN=new class v5{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function w5(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function E5(t){return F_.apply(this,arguments)}function F_(){return(F_=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:w5(r)},s=u5.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw yn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function I5(t){return L_.apply(this,arguments)}function L_(){return(L_=g(function*(t,e=pN,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw yn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw yn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new C5;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:6e4),gN({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function gN(t,e,n){return V_.apply(this,arguments)}function V_(){return(V_=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=pN){const{appId:s,measurementId:o}=t;try{yield D5(r,e)}catch(a){if(o)return wt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield E5(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!b5(a)){if(i.deleteThrottleMetadata(s),o)return wt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?dy(n,i.intervalMillis,30):dy(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),wt.debug(`Calling attemptFetch again in ${u} millis`),gN(t,c,r,i)}})).apply(this,arguments)}function D5(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function b5(t){if(!(t instanceof pr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class C5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function T5(){return B_.apply(this,arguments)}function B_(){return(B_=g(function*(){if(!zi())return wt.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield _u()}catch(t){return wt.warn(yn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function U_(){return(U_=g(function*(t,e,n,r,i,s,o){var a;const u=I5(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&wt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>wt.error(f)),e.push(u);const c=T5().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);g5()||c5(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[s5]=d),i("config",l.measurementId,h),l.measurementId})).apply(this,arguments)}class S5{constructor(e){this.app=e}_delete(){return delete Fr[this.app.options.appId],Promise.resolve()}}let Fr={},mN=[];const yN={};let vN,Cu,Ld="dataLayer",j_=!1;function x5(t,e,n){!function M5(){const t=[];if(Sd()&&t.push("This is a browser extension environment."),uy()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=yn.create("invalid-analytics-context",{errorInfo:e});wt.warn(n.message)}}();const r=t.options.appId;if(!r)throw yn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw yn.create("no-api-key");wt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fr[r])throw yn.create("already-exists",{id:r});if(!j_){!function l5(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Ld);const{wrappedGtag:s,gtagCore:o}=function p5(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function f5(t,e,n,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield h5(t,e,n,a,u):"config"===o?yield d5(t,e,n,r,a,u):t("set",a)}catch(c){wt.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Fr,mN,yN,Ld,"gtag");Cu=s,vN=o,j_=!0}return Fr[r]=function A5(t,e,n,r,i,s,o){return U_.apply(this,arguments)}(t,mN,yN,e,vN,Ld,n),new S5(t)}function $_(){return($_=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function L5(){return z_.apply(this,arguments)}function z_(){return(z_=g(function*(){if(Sd()||!uy()||!zi())return!1;try{return yield _u()}catch(t){return!1}})).apply(this,arguments)}const wN="@firebase/analytics";!function B5(){Yt(new Ot(Fd,(e,{options:n})=>x5(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Yt(new Ot("analytics-internal",function t(e){try{const n=e.getProvider(Fd).getImmediate();return{logEvent:(r,i,s)=>function V5(t,e,n,r){t=Kt(t),function N5(t,e,n,r,i){return $_.apply(this,arguments)}(Cu,Fr[t.app.options.appId],e,n,r).catch(i=>wt.error(i))}(n,r,i,s)}}catch(n){throw yn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Le(wN,"0.7.8"),Le(wN,"0.7.8","esm2017")}();class U5 extends Pn{constructor(e,n){super()}schedule(e,n=0){return this}}const Vd={setInterval(t,e,...n){const{delegate:r}=Vd;return(null==r?void 0:r.setInterval)?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Vd;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class IN extends U5{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return Vd.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;Vd.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ps(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}class Tu{constructor(e,n=Tu.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Tu.now=Pm.now;class DN extends Tu{constructor(e,n=Tu.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const H5=new class $5 extends DN{}(class j5 extends IN{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),bN=new DN(IN),Bd=new Io("7.3.0"),K_="__angularfire_symbol__analyticsIsSupportedValue",Y_="__angularfire_symbol__analyticsIsSupported",Q_="__angularfire_symbol__remoteConfigIsSupportedValue",J_="__angularfire_symbol__remoteConfigIsSupported",X_="__angularfire_symbol__messagingIsSupportedValue",Z_="__angularfire_symbol__messagingIsSupported";function tv(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Y_]||(globalThis[Y_]=L5().then(t=>globalThis[K_]=t).catch(()=>globalThis[K_]=!1)),globalThis[Z_]||(globalThis[Z_]=dN().then(t=>globalThis[X_]=t).catch(()=>globalThis[X_]=!1)),globalThis[J_]||(globalThis[J_]=E6().then(t=>globalThis[Q_]=t).catch(()=>globalThis[Q_]=!1));const nv=(t,e)=>{const n=e?[e]:b1(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Ro(){}class CN{constructor(e,n=H5){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class q5{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ro,{},Ro,Ro)),n.pipe(function G5(t,e,n){const r=le(t)||e||n?{next:t,error:e,complete:n}:t;return r?Zn((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(On(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):jc}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let rv=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new CN(Zone.current)),this.insideAngular=n.run(()=>new CN(Zone.current,bN)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(ie(rt))},t.\u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function es(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function W5(t){return es().ngZone.runOutsideAngular(()=>t())}function ts(t){return es().ngZone.run(()=>t())}function z5(t){return es(),function K5(t){return function(n){return(n=n.lift(new q5(t.ngZone))).pipe(Gc(t.outsideAngular),Hc(t.insideAngular))}}(es())(t)}const Y5=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ts(()=>t.apply(void 0,r))},Qn=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=ts(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ro,{},Ro,Ro)))),r[s]=Y5(r[s],n));const i=W5(()=>t.apply(this,r));if(!e){if(i instanceof He){const s=es();return i.pipe(Gc(s.outsideAngular),Hc(s.insideAngular))}return ts(()=>i)}return i instanceof He?i.pipe(z5):i instanceof Promise?ts(()=>new Promise((s,o)=>i.then(a=>ts(()=>s(a)),a=>ts(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ts(()=>i)};class Po{constructor(e){return e}}class iv{constructor(){return b1()}}const sv=new ee("angularfire2._apps"),J5={provide:Po,useFactory:function Q5(t){return t&&1===t.length?t[0]:new Po(_y())},deps:[[new $t,sv]]},X5={provide:iv,deps:[[new $t,sv]]};function Z5(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Po(r)}}let e7=(()=>{class t{constructor(n){Le("angularfire",Bd.full,"core"),Le("angularfire",Bd.full,"app"),Le("angular",IS.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(ie(uu))},t.\u0275mod=Ln({type:t}),t.\u0275inj=In({providers:[J5,X5]}),t})();function t7(t,...e){return{ngModule:e7,providers:[{provide:sv,useFactory:Z5(t),multi:!0,deps:[rt,_t,rv,...e]}]}}const n7=Qn(X4,!0),TN=new Map,r7={activated:!1,tokenObservers:[]},i7={initialized:!1,enabled:!1};function dt(t){return TN.get(t)||r7}function Jn(t,e){TN.set(t,e)}function Ud(){return i7}class c7{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new ay,yield function l7(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new ay,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Qt=new gr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function SN(t){if(!dt(t).activated)throw Qt.create("use-before-activation",{appName:t.name})}function uv(t,e){return cv.apply(this,arguments)}function cv(){return(cv=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Qt.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw Qt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Qt.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Qt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function g7(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Au="firebase-app-check-store";let Hd=null;function xN(){return Hd||(Hd=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Qt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Au,{keyPath:"compositeKey"})}}catch(n){e(Qt.create("storage-open",{originalErrorMessage:n.message}))}}),Hd)}function lv(){return(lv=g(function*(t,e){const r=(yield xN()).transaction(Au,"readwrite"),s=r.objectStore(Au).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Qt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Su=new Ao("@firebase/app-check");function PN(t,e){return zi()?function v7(t,e){return function NN(t,e){return lv.apply(this,arguments)}(function RN(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Su.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function ON(){return Ud().enabled}function FN(){return pv.apply(this,arguments)}function pv(){return(pv=g(function*(){const t=Ud();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const C7={error:"UNKNOWN_ERROR"};function T7(t){return sy.encodeString(JSON.stringify(t),!1)}function Gd(t){return gv.apply(this,arguments)}function gv(){return(gv=g(function*(t,e=!1){const n=t.app;SN(n);const r=dt(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&qd(u)&&(i=u)}if(!e&&i&&qd(i))return{token:i.token};let a,o=!1;if(ON()){r.exchangeTokenPromise||(r.exchangeTokenPromise=uv(g7(n,yield FN()),t.heartbeatServiceProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield PN(n,u),Jn(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Su.warn(u.message):Su.error(u),s=u}return i?(a={token:i.token},Jn(n,Object.assign(Object.assign({},r),{token:i})),yield PN(n,i)):a=S7(s),o&&VN(n,a),a})).apply(this,arguments)}function yv(t,e){const n=dt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Jn(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function LN(t){const{app:e}=t,n=dt(e);let r=n.tokenRefresher;r||(r=function A7(t){const{app:e}=t;return new c7(g(function*(){let r;if(r=dt(e).token?yield Gd(t,!0):yield Gd(t),r.error)throw r.error}),()=>!0,()=>{const n=dt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),Jn(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function VN(t,e){const n=dt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function qd(t){return t.expireTimeMillis-Date.now()>0}function S7(t){return{token:T7(C7),error:t}}class M7{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=dt(this.app);for(const n of e)yv(this.app,n.next);return Promise.resolve()}}const WN="app-check-internal";!function H7(){Yt(new Ot("app-check",t=>function x7(t,e){return new M7(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(WN).initialize()})),Yt(new Ot(WN,t=>function N7(t){return{getToken:e=>Gd(t,e),addTokenListener:e=>function mv(t,e,n,r){const{app:i}=t,s=dt(i),o={next:n,error:r,type:e};if(Jn(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&qd(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),LN(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>LN(t))}(t,"INTERNAL",e),removeTokenListener:e=>yv(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Le("@firebase/app-check","0.5.6")}();class Ev{constructor(){return nv("app-check")}}"undefined"!=typeof window&&window;const K7=function KN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},YN=new gr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),QN=new Ao("@firebase/auth");function zd(t,...e){QN.logLevel<=se.ERROR&&QN.error(`Auth (${Mo}): ${t}`,...e)}function an(t,...e){throw Dv(t,...e)}function _n(t,...e){return Dv(t,...e)}function JN(t,e,n){const r=Object.assign(Object.assign({},K7()),{[e]:n});return new gr("auth","Firebase",r).create(e,{appName:t.name})}function Oo(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&an(t,"argument-error"),JN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dv(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YN.create(t,...e)}function A(t,e,...n){if(!t)throw Dv(e,...n)}function mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zd(e),new Error(e)}function Lr(t,e){t||mr(e)}const XN=new Map;function Vr(t){Lr(t instanceof Function,"Expected a class definition");let e=XN.get(t);return e?(Lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XN.set(t,e),e)}function Mu(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function ZN(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Lr(n>e,"Short delay should be less than long delay!"),this.isMobile=f1()||p1()}get(){return function J7(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function bv(){return"http:"===ZN()||"https:"===ZN()}()||Sd()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cv(t,e){Lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ek{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Z7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},eK=new xu(3e4,6e4);function st(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ht(t,e,n,r){return Tv.apply(this,arguments)}function Tv(){return(Tv=g(function*(t,e,n,r,i={}){return tk(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=vu(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),ek.fetch()(nk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function tk(t,e,n){return Av.apply(this,arguments)}function Av(){return(Av=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Z7),e);try{const i=new tK(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Kd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Kd(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Kd(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw JN(t,l,c);an(t,l)}}catch(i){if(i instanceof pr)throw i;an(t,"network-request-failed")}})).apply(this,arguments)}function Br(t,e,n,r){return Sv.apply(this,arguments)}function Sv(){return(Sv=g(function*(t,e,n,r,i={}){const s=yield ht(t,e,n,r,i);return"mfaPendingCredential"in s&&an(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function nk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Cv(t.config,i):`${t.config.apiScheme}://${i}`}class tK{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_n(this.auth,"network-request-failed")),eK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_n(t,e,r);return i.customData._tokenResponse=n,i}function Mv(){return(Mv=g(function*(t,e){return ht(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function iK(t,e){return Nv.apply(this,arguments)}function Nv(){return(Nv=g(function*(t,e){return ht(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Nu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function kv(){return(kv=g(function*(t,e=!1){const n=Kt(t),r=yield n.getIdToken(e),i=Yd(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Nu(Rv(i.auth_time)),issuedAtTime:Nu(Rv(i.iat)),expirationTime:Nu(Rv(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function Rv(t){return 1e3*Number(t)}function Yd(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return zd("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return sy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(zd("Failed to decode base64 JWT payload"),null)}catch(i){return zd("Caught error parsing JWT payload as JSON",i),null}}function Ur(t,e){return Pv.apply(this,arguments)}function Pv(){return(Pv=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof pr&&aK(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function aK({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class uK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class rk{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ku(t){return Ov.apply(this,arguments)}function Ov(){return(Ov=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ur(t,iK(n,{idToken:r}));A(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?dK(s.providerUserInfo):[],a=lK(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rk(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function Fv(){return(Fv=g(function*(t){const e=Kt(t);yield ku(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function lK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function dK(t){return t.map(e=>{var{providerId:n}=e,r=Mf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Lv(){return(Lv=g(function*(t,e){const n=yield tk(t,{},g(function*(){const r=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=nk(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ek.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Ru{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(void 0!==e.idToken,"internal-error"),A(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function oK(t){const e=Yd(t);return A(e,"internal-error"),A(void 0!==e.exp,"internal-error"),A(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function hK(t,e){return Lv.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ru;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ru,this.toJSON())}_performRefresh(){return mr("not implemented")}}function hi(t,e){A("string"==typeof t||void 0===t,"internal-error",{appName:e})}class ns{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Mf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rk(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Ur(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function sK(t){return kv.apply(this,arguments)}(this,e)}reload(){return function cK(t){return Fv.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield ku(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Ur(e,function nK(t,e){return Mv.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,E=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:T,emailVerified:P,isAnonymous:O,providerData:X,stsTokenManager:Te}=n;A(T&&Te,e,"internal-error");const En=Ru.fromJSON(this.name,Te);A("string"==typeof T,e,"internal-error"),hi(d,e.name),hi(h,e.name),A("boolean"==typeof P,e,"internal-error"),A("boolean"==typeof O,e,"internal-error"),hi(f,e.name),hi(p,e.name),hi(m,e.name),hi(_,e.name),hi(E,e.name),hi(y,e.name);const Rs=new ns({uid:T,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:En,createdAt:E,lastLoginAt:y});return X&&Array.isArray(X)&&(Rs.providerData=X.map(Fc=>Object.assign({},Fc))),_&&(Rs._redirectEventId=_),Rs}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new Ru;i.updateFromServerResponse(n);const s=new ns({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ku(s),s})()}}const ik=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Qd(t,e,n){return`firebase:${t}:${e}:${n}`}class Fo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ns._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Fo(Vr(ik),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Vr(ik);const o=Qd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=ns._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new Fo(s,e,r)):new Fo(s,e,r)})()}}function sk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ok(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lk(e))return"Blackberry";if(dk(e))return"Webos";if(Vv(e))return"Safari";if((e.includes("chrome/")||ak(e))&&!e.includes("edge/"))return"Chrome";if(ck(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function ok(t=lt()){return/firefox\//i.test(t)}function Vv(t=lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ak(t=lt()){return/crios\//i.test(t)}function uk(t=lt()){return/iemobile/i.test(t)}function ck(t=lt()){return/android/i.test(t)}function lk(t=lt()){return/blackberry/i.test(t)}function dk(t=lt()){return/webos/i.test(t)}function Jd(t=lt()){return/iphone|ipad|ipod/i.test(t)}function hk(t=lt()){return Jd(t)||ck(t)||dk(t)||lk(t)||/windows phone/i.test(t)||uk(t)}function fk(t,e=[]){let n;switch(t){case"Browser":n=sk(lt());break;case"Worker":n=`${sk(lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${r}`}class mK{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pk(this),this.idTokenSubscription=new pk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YN,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Fo.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield ku(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function X7(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?Kt(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return g(function*(){if(!n._deleted)return e&&A(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(g(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Vr(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Vr(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield Fo.create(n,[Vr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function un(t){return Kt(t)}class pk{constructor(e){this.auth=e,this.observer=null,this.addObserver=function o4(t,e){const n=new a4(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class Bv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,n){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}function jv(){return(jv=g(function*(t,e){return ht(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Hv(){return(Hv=g(function*(t,e){return Br(t,"POST","/v1/accounts:signInWithPassword",st(t,e))})).apply(this,arguments)}function Yv(){return(Yv=g(function*(t,e){return Br(t,"POST","/v1/accounts:signInWithEmailLink",st(t,e))})).apply(this,arguments)}function Qv(){return(Qv=g(function*(t,e){return Br(t,"POST","/v1/accounts:signInWithEmailLink",st(t,e))})).apply(this,arguments)}class Pu extends Bv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Pu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if((null==n?void 0:n.email)&&(null==n?void 0:n.password)){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){switch(n.signInMethod){case"password":return function wK(t,e){return Hv.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function CK(t,e){return Yv.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:an(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return function _k(t,e){return jv.apply(this,arguments)}(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function TK(t,e){return Qv.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:an(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function jr(t,e){return Jv.apply(this,arguments)}function Jv(){return(Jv=g(function*(t,e){return Br(t,"POST","/v1/accounts:signInWithIdp",st(t,e))})).apply(this,arguments)}class Lo extends Bv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):an("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Mf(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Lo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return jr(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jr(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}class Fu{constructor(e){var n,r,i,s,o,a;const u=wu(Eu(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function RK(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);A(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function PK(t){const e=wu(Eu(t)).link,n=e?wu(Eu(e)).deep_link_id:null,r=wu(Eu(t)).deep_link_id;return(r?wu(Eu(r)).link:null)||r||n||e||t}(e);try{return new Fu(n)}catch(r){return null}}}let vk=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Pu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Fu.parseLink(r);return A(i,"argument-error"),Pu._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class fi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wk extends fi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let OK=(()=>{class t extends wk{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Lo._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch(s){return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();function Ek(t,e){return rw.apply(this,arguments)}function rw(){return(rw=g(function*(t,e){return Br(t,"POST","/v1/accounts:signUp",st(t,e))})).apply(this,arguments)}class Nn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield ns._fromIdTokenResponse(e,r,i),o=Ik(r);return new Nn({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=Ik(r);return new Nn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function Ik(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class eh extends pr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new eh(e,n,r,i)}}function Dk(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?eh._fromErrorAndOperation(t,s,e,r):s})}function ow(t,e){return aw.apply(this,arguments)}function aw(){return(aw=g(function*(t,e,n=!1){const r=yield Ur(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Nn._forOperation(t,"link",r)})).apply(this,arguments)}function cw(){return(cw=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Ur(t,Dk(r,i,e,t),n);A(s.idToken,r,"internal-error");const o=Yd(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(t.uid===a,r,"user-mismatch"),Nn._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&an(r,"user-mismatch"),s}})).apply(this,arguments)}function Tk(t,e){return lw.apply(this,arguments)}function lw(){return(lw=g(function*(t,e,n=!1){const r="signIn",i=yield Dk(t,r,e),s=yield Nn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function hw(){return(hw=g(function*(t,e){return Tk(un(t),e)})).apply(this,arguments)}function bw(){return(bw=g(function*(t,e,n){const r=un(t),i=yield Ek(r,{returnSecureToken:!0,email:e,password:n}),s=yield Nn._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function HK(t,e,n){return function dw(t,e){return hw.apply(this,arguments)}(Kt(t),vk.credential(e,n))}function qK(t,e){return Nw.apply(this,arguments)}function Nw(){return(Nw=g(function*(t,e){return ht(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function WK(t,e){return kw.apply(this,arguments)}function kw(){return(kw=g(function*(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const r=Kt(t),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=yield Ur(r,qK(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>"password"===u);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function ZK(t){return Kt(t).signOut()}const rh="__sak";class Sk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const o9=(()=>{class t extends Sk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function r9(){const t=lt();return Vv(t)||Jd(t)}()&&function gK(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=hk(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function pK(){return g1()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),Mk=(()=>{class t extends Sk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let u9=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function a9(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function ih(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class c9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=ih("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ot(){return window}function Bw(){return void 0!==ot().WorkerGlobalScope&&"function"==typeof ot().importScripts}function Uw(){return(Uw=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const xk="firebaseLocalStorageDb",sh="firebaseLocalStorage",Nk="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function oh(t,e){return t.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function jw(){const t=indexedDB.open(xk,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sh,{keyPath:Nk})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(sh)?e(r):(r.close(),yield function g9(){const t=indexedDB.deleteDatabase(xk);return new Vu(t).toPromise()}(),e(yield jw()))}))})}function kk(t,e,n){return $w.apply(this,arguments)}function $w(){return($w=g(function*(t,e,n){const r=oh(t,!0).put({[Nk]:e,value:n});return new Vu(r).toPromise()})).apply(this,arguments)}function Hw(){return(Hw=g(function*(t,e){const n=oh(t,!1).get(e),r=yield new Vu(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Rk(t,e){const n=oh(t,!0).delete(e);return new Vu(n).toPromise()}const v9=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield jw()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return Bw()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=u9._getInstance(function f9(){return Bw()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function d9(){return Uw.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new c9(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function h9(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield jw();return yield kk(n,rh,"1"),yield Rk(n,rh),!0}catch(n){}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>kk(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function m9(t,e){return Hw.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>Rk(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=oh(o,!1).getAll();return new Vu(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function Ok(t){return`__${t}${Math.floor(1e6*Math.random())}`}function is(t,e){return e?Vr(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}Ok("rcb"),new xu(3e4,6e4);class Zw extends Bv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function F9(t){return Tk(t.auth,new Zw(t),t.bypassAuthState)}function L9(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function Ck(t,e){return cw.apply(this,arguments)}(n,new Zw(t),t.bypassAuthState)}function V9(t){return eE.apply(this,arguments)}function eE(){return(eE=g(function*(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),ow(n,new Zw(t),t.bypassAuthState)})).apply(this,arguments)}class Lk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F9;case"linkViaPopup":case"linkViaRedirect":return V9;case"reauthViaPopup":case"reauthViaRedirect":return L9;default:an(this.auth,"internal-error")}}resolve(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const B9=new xu(2e3,1e4);function U9(t,e,n){return tE.apply(this,arguments)}function tE(){return(tE=g(function*(t,e,n){const r=un(t);Oo(t,e,fi);const i=is(r,n);return new iE(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let iE=(()=>{class t extends Lk{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return g(function*(){const r=yield n.execute();return A(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return g(function*(){Lr(1===n.filter.length,"Popup operations only handle one event");const r=ih();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(_n(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=(null===(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)||void 0===i?void 0:i.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(n,B9.get())};n()}}return t.currentPopupAction=null,t})();const uh=new Map;class $9 extends Lk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=uh.get(n.auth._key());if(!r){try{const s=(yield function H9(t,e){return sE.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}uh.set(n.auth._key(),r)}return n.bypassAuthState||uh.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function sE(){return(sE=g(function*(t,e){const n=Bk(e),r=Vk(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Vk(t){return Vr(t._redirectPersistence)}function Bk(t){return Qd("pendingRedirect",t.config.apiKey,t.name)}function Uk(t,e){return hE.apply(this,arguments)}function hE(){return(hE=g(function*(t,e,n=!1){const r=un(t),i=is(r,e),o=yield new $9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class K9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Y9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hk(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Hk(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(_n(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($k(e))}saveEventToCache(e){this.cachedEventUids.add($k(e)),this.lastProcessedEventTime=Date.now()}}function $k(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hk({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function Q9(t){return pE.apply(this,arguments)}function pE(){return(pE=g(function*(t,e={}){return ht(t,"GET","/v1/projects",e)})).apply(this,arguments)}const J9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X9=/^https?/;function gE(){return(gE=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield Q9(t);for(const n of e)try{if(eY(n))return}catch(r){}an(t,"unauthorized-domain")})).apply(this,arguments)}function eY(t){const e=Mu(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!X9.test(n))return!1;if(J9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const tY=new xu(3e4,6e4);function Gk(){const t=ot().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let ch=null;function rY(t){return ch=ch||function nY(t){return new Promise((e,n)=>{var r,i,s;function o(){Gk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gk(),n(_n(t,"network-request-failed"))},timeout:tY.get()})}if(null===(i=null===(r=ot().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=ot().gapi)||void 0===s?void 0:s.load)){const a=Ok("iframefcb");return ot()[a]=()=>{gapi.load?o():n(_n(t,"network-request-failed"))},function Pk(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=_n("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function D9(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw ch=null,e})}(t),ch}const iY=new xu(5e3,15e3),aY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cY(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cv(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Mo},i=uY.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vu(r).slice(1)}`}function mE(){return mE=g(function*(t){const e=yield rY(t),n=ot().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:cY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aY,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=_n(t,"network-request-failed"),u=ot().setTimeout(()=>{o(a)},iY.get());function c(){ot().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),mE.apply(this,arguments)}const dY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Wk(t,e,n,r,i,s){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mo,eventId:i};if(e instanceof fi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function s4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof wk){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function wY({config:t}){return t.emulator?Cv(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${vu(a).slice(1)}`}const yE="webStorageSupport",IY=class EY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mk,this._completeRedirectFn=Uk}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Lr(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=Wk(e,n,r,Mu(),i);return function mY(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},dY),{width:r.toString(),height:i.toString(),top:s,left:o}),c=lt().toLowerCase();n&&(a=ak(c)?"_blank":n),ok(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function fK(t=lt()){var e;return Jd(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function yY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new qk(null);const d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch(h){}return new qk(d)}(e,a,ih())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function l9(t){ot().location.href=t}(Wk(e,n,r,Mu(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Lr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function lY(t){return mE.apply(this,arguments)}(e),i=new K9(e);return r.register("authEvent",s=>(A(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yE,{type:yE},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[yE];void 0!==o&&n(!!o),an(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Z9(t){return gE.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hk()||Vv()||Jd()}};var Kk="@firebase/auth",Yk="0.19.12";class DY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function TY(t=_y()){const e=So(t,"auth");return e.isInitialized()?e.getImmediate():function Y7(t,e){const n=So(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(xd(n.getOptions(),null!=e?e:{}))return i;an(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:IY,persistence:[v9,o9,Mk]})}function AY(t){return new He(function(e){var n=function XK(t,e,n,r){return Kt(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function CY(t){Yt(new Ot("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{A(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),A(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fk(t)},l=new mK(a,u,c);return function Q7(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vr);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yt(new Ot("auth-internal",e=>{const n=un(e.getProvider("auth").getImmediate());return new DY(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(Kk,Yk,function bY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Le(Kk,Yk,"esm2017")}("Browser");class lh{constructor(e){return e}}class Jk{constructor(){return nv("auth")}}const _E=new ee("angularfire2.auth-instances");function xY(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new lh(r)}}const NY={provide:Jk,deps:[[new $t,_E]]},kY={provide:lh,useFactory:function MY(t,e){const n=tv("auth",t,e);return n&&new lh(n)},deps:[[new $t,_E],Po]};let RY=(()=>{class t{constructor(){Le("angularfire",Bd.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ln({type:t}),t.\u0275inj=In({providers:[kY,NY]}),t})();function PY(t,...e){return{ngModule:RY,providers:[{provide:_E,useFactory:xY(t),multi:!0,deps:[rt,_t,rv,iv,[new $t,Ev],...e]}]}}const OY=Qn(AY,!0),FY=Qn(TY,!0),LY=Qn(HK,!0),VY=Qn(U9,!0),BY=Qn(ZK,!0),UY=Qn(WK,!0);var k,jY="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$r={},vE=vE||{},H=jY||self;function dh(){}function wE(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Bu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var EE="closure_uid_"+(1e9*Math.random()>>>0),HY=0;function GY(t,e,n){return t.call.apply(t.bind,arguments)}function qY(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Et(t,e,n){return(Et=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?GY:qY).apply(null,arguments)}function hh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function It(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function pi(){this.s=this.s,this.o=this.o}var zY={};pi.prototype.s=!1,pi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function $Y(t){return Object.prototype.hasOwnProperty.call(t,EE)&&t[EE]||(t[EE]=++HY)}(this);delete zY[t]}},pi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xk=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Zk=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function eR(t){return Array.prototype.concat.apply([],arguments)}function IE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function fh(t){return/^[\s\xa0]*$/.test(t)}var Xt,tR=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Jt(t,e){return-1!=t.indexOf(e)}function DE(t,e){return t<e?-1:t>e?1:0}e:{var nR=H.navigator;if(nR){var rR=nR.userAgent;if(rR){Xt=rR;break e}}Xt=""}function bE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function iR(t){const e={};for(const n in t)e[n]=t[n];return e}var sR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oR(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<sR.length;s++)n=sR[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function CE(t){return CE[" "](t),t}CE[" "]=dh;var ph,t,QY=Jt(Xt,"Opera"),Vo=Jt(Xt,"Trident")||Jt(Xt,"MSIE"),aR=Jt(Xt,"Edge"),TE=aR||Vo,uR=Jt(Xt,"Gecko")&&!(Jt(Xt.toLowerCase(),"webkit")&&!Jt(Xt,"Edge"))&&!(Jt(Xt,"Trident")||Jt(Xt,"MSIE"))&&!Jt(Xt,"Edge"),JY=Jt(Xt.toLowerCase(),"webkit")&&!Jt(Xt,"Edge");function cR(){var t=H.document;return t?t.documentMode:void 0}e:{var AE="",SE=(t=Xt,uR?/rv:([^\);]+)(\)|;)/.exec(t):aR?/Edge\/([\d\.]+)/.exec(t):Vo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):JY?/WebKit\/(\S+)/.exec(t):QY?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(SE&&(AE=SE?SE[1]:""),Vo){var ME=cR();if(null!=ME&&ME>parseFloat(AE)){ph=String(ME);break e}}ph=AE}var XY={};var eQ=H.document&&Vo&&(cR()||parseInt(ph,10))||void 0,tQ=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{H.addEventListener("test",dh,e),H.removeEventListener("test",dh,e)}catch(n){}return t}();function Ft(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Uu(t,e){if(Ft.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(uR){e:{try{CE(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:nQ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Uu.Z.h.call(this)}}Ft.prototype.h=function(){this.defaultPrevented=!0},It(Uu,Ft);var nQ={2:"touch",3:"pen",4:"mouse"};Uu.prototype.h=function(){Uu.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ju="closure_listenable_"+(1e6*Math.random()|0),rQ=0;function iQ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++rQ,this.ca=this.fa=!1}function gh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function mh(t){this.src=t,this.g={},this.h=0}function NE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=Xk(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(gh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function kE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}mh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=kE(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new iQ(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var RE="closure_lm_"+(1e6*Math.random()|0),PE={};function dR(t,e,n,r,i){if(r&&r.once)return fR(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)dR(t,e[s],n,r,i);return null}return n=VE(n),t&&t[ju]?t.N(e,n,Bu(r)?!!r.capture:!!r,i):hR(t,e,n,!1,r,i)}function hR(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Bu(i)?!!i.capture:!!i,a=FE(t);if(a||(t[RE]=a=new mh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function sQ(){var e=oQ;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tQ||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gR(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function fR(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)fR(t,e[s],n,r,i);return null}return n=VE(n),t&&t[ju]?t.O(e,n,Bu(r)?!!r.capture:!!r,i):hR(t,e,n,!0,r,i)}function pR(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)pR(t,e[s],n,r,i);else r=Bu(r)?!!r.capture:!!r,n=VE(n),t&&t[ju]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=kE(s=t.g[e],n,r,i))&&(gh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=FE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=kE(e,n,r,i)),(n=-1<t?e[t]:null)&&OE(n))}function OE(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ju])NE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=FE(e))?(NE(n,t),0==n.h&&(n.src=null,e[RE]=null)):gh(t)}}}function gR(t){return t in PE?PE[t]:PE[t]="on"+t}function oQ(t,e){if(t.ca)t=!0;else{e=new Uu(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&OE(t),t=n.call(r,e)}return t}function FE(t){return(t=t[RE])instanceof mh?t:null}var LE="__closure_events_fn_"+(1e9*Math.random()>>>0);function VE(t){return"function"==typeof t?t:(t[LE]||(t[LE]=function(e){return t.handleEvent(e)}),t[LE])}function ft(){pi.call(this),this.i=new mh(this),this.P=this,this.I=null}function Dt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Ft(e,t);else if(e instanceof Ft)e.target=e.target||t;else{var i=e;oR(e=new Ft(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=yh(o,r,!0,e)&&i}if(i=yh(o=e.g=t,r,!0,e)&&i,i=yh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=yh(o=e.g=n[s],r,!1,e)&&i}function yh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&NE(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}It(ft,pi),ft.prototype[ju]=!0,ft.prototype.removeEventListener=function(t,e,n,r){pR(this,t,e,n,r)},ft.prototype.M=function(){if(ft.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gh(n[r]);delete t.g[e],t.h--}}this.I=null},ft.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},ft.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var BE=H.JSON.stringify;function aQ(){var t=yR;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var jE,mR=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new cQ,t=>t.reset());class cQ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function lQ(t){H.setTimeout(()=>{throw t},0)}function UE(t,e){jE||function dQ(){var t=H.Promise.resolve(void 0);jE=function(){t.then(hQ)}}(),$E||(jE(),$E=!0),yR.add(t,e)}var $E=!1,yR=new class uQ{constructor(){this.h=this.g=null}add(e,n){const r=mR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function hQ(){for(var t;t=aQ();){try{t.h.call(t.g)}catch(n){lQ(n)}var e=mR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}$E=!1}function _h(t,e){ft.call(this),this.h=t||1,this.g=e||H,this.j=Et(this.kb,this),this.l=Date.now()}function HE(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function GE(t,e,n){if("function"==typeof t)n&&(t=Et(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Et(t.handleEvent,t)}return 2147483647<Number(e)?-1:H.setTimeout(t,e||0)}function _R(t){t.g=GE(()=>{t.g=null,t.i&&(t.i=!1,_R(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}It(_h,ft),(k=_h.prototype).da=!1,k.S=null,k.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Dt(this,"tick"),this.da&&(HE(this),this.start()))}},k.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},k.M=function(){_h.Z.M.call(this),HE(this),delete this.g};class fQ extends pi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_R(this)}M(){super.M(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $u(t){pi.call(this),this.h=t,this.g={}}It($u,pi);var vR=[];function wR(t,e,n,r){Array.isArray(n)||(n&&(vR[0]=n.toString()),n=vR);for(var i=0;i<n.length;i++){var s=dR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function ER(t){bE(t.g,function(e,n){this.g.hasOwnProperty(n)&&OE(e)},t),t.g={}}function vh(){this.g=!0}function Bo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function yQ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return BE(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}$u.prototype.M=function(){$u.Z.M.call(this),ER(this)},$u.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vh.prototype.Aa=function(){this.g=!1},vh.prototype.info=function(){};var ss={},IR=null;function wh(){return IR=IR||new ft}function DR(t){Ft.call(this,ss.Ma,t)}function Hu(t){const e=wh();Dt(e,new DR(e,t))}function bR(t,e){Ft.call(this,ss.STAT_EVENT,t),this.stat=e}function Zt(t){const e=wh();Dt(e,new bR(e,t))}function CR(t,e){Ft.call(this,ss.Na,t),this.size=e}function Gu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){t()},e)}ss.Ma="serverreachability",It(DR,Ft),ss.STAT_EVENT="statevent",It(bR,Ft),ss.Na="timingevent",It(CR,Ft);var Eh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},TR={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qE(){}function SR(){}qE.prototype.h=null;var KE,qu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function WE(){Ft.call(this,"d")}function zE(){Ft.call(this,"c")}function Ih(){}function Wu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new $u(this),this.P=_Q,this.W=new _h(t=TE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new MR}function MR(){this.i=null,this.g="",this.h=!1}It(WE,Ft),It(zE,Ft),It(Ih,qE),Ih.prototype.g=function(){return new XMLHttpRequest},Ih.prototype.i=function(){return{}},KE=new Ih;var _Q=45e3,YE={},Dh={};function QE(t,e,n){t.K=1,t.v=Sh(Hr(e)),t.s=n,t.U=!0,xR(t,null)}function xR(t,e){t.F=Date.now(),zu(t),t.A=Hr(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),BR(n.h,"t",r),t.C=0,n=t.l.H,t.h=new MR,t.g=uP(t.l,n?e:null,!t.s),0<t.O&&(t.L=new fQ(Et(t.Ia,t,t.g),t.O)),wR(t.V,t.g,"readystatechange",t.gb),e=t.H?iR(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Hu(1),function pQ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function NR(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function kR(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=vQ(t,n),i==Dh){4==e&&(t.o=4,Zt(14),r=!1),Bo(t.j,t.m,null,"[Incomplete Response]");break}if(i==YE){t.o=4,Zt(15),Bo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Bo(t.j,t.m,i,null),JE(t,i)}NR(t)&&i!=Dh&&i!=YE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Zt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),uI(e),e.L=!0,Zt(11))):(Bo(t.j,t.m,n,"[Invalid Chunked Response]"),os(t),Ku(t))}function vQ(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Dh:(n=Number(e.substring(n,r)),isNaN(n)?YE:(r+=1)+n>e.length?Dh:(e=e.substr(r,n),t.C=r+n,e))}function zu(t){t.Y=Date.now()+t.P,RR(t,t.P)}function RR(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Gu(Et(t.eb,t),e)}function bh(t){t.B&&(H.clearTimeout(t.B),t.B=null)}function Ku(t){0==t.l.G||t.I||iP(t.l,t)}function os(t){bh(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,HE(t.W),ER(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function JE(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||eI(n.i,t)))if(n.I=t.N,!t.J&&eI(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Gu(Et(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;Ph(n),kh(n)}aI(n),Zt(18)}if(1>=$R(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else cs(n,11)}else if((t.J||n.g==t)&&Ph(n),!fh(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Jt(p,"spdy")||Jt(p,"quic")||Jt(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(tI(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,xe(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=aP(r,r.H?r.la:null,r.W),o.J){HR(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(bh(a),zu(a)),r.g=o}else nP(r);0<n.l.length&&Rh(n)}else"stop"!=c[0]&&"close"!=c[0]||cs(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cs(n,7):sI(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Hu(4)}catch(c){}}function XE(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(wE(t)||"string"==typeof t)Zk(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(wE(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function wQ(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(wE(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Uo(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Uo)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ZE(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];as(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)as(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function as(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(k=Wu.prototype).setTimeout=function(t){this.P=t},k.gb=function(t){t=t.target;const e=this.L;e&&3==Gr(t)?e.l():this.Ia(t)},k.Ia=function(t){try{if(t==this.g)e:{const l=Gr(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||TE||this.g&&(this.h.h||this.g.ga()||JR(this.g)))){this.I||4!=l||7==e||Hu(8==e||0>=d?3:2),bh(this);var n=this.g.ba();this.N=n;t:if(NR(this)){var r=JR(this.g);t="";var i=r.length,s=4==Gr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){os(this),Ku(this);var o="";break t}this.h.i=new H.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function gQ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fh(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Zt(12),os(this),Ku(this);break e}Bo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,JE(this,n)}this.U?(kR(this,l,o),TE&&this.i&&3==l&&(wR(this.V,this.W,"tick",this.fb),this.W.start())):(Bo(this.j,this.m,o,null),JE(this,o)),4==l&&os(this),this.i&&!this.I&&(4==l?iP(this.l,this):(this.i=!1,zu(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Zt(12)):(this.o=0,Zt(13)),os(this),Ku(this)}}}catch(l){}},k.fb=function(){if(this.g){var t=Gr(this.g),e=this.g.ga();this.C<e.length&&(bh(this),kR(this,t,e),this.i&&4!=t&&zu(this))}},k.cancel=function(){this.I=!0,os(this)},k.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function mQ(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Hu(3),Zt(17)),os(this),this.o=2,Ku(this)):RR(this,this.Y-t)},(k=Uo.prototype).R=function(){ZE(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},k.T=function(){return ZE(this),this.g.concat()},k.get=function(t,e){return as(this.h,t)?this.h[t]:e},k.set=function(t,e){as(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},k.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var PR=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function us(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof us){this.g=void 0!==e?e:t.g,Ch(this,t.j),this.s=t.s,Th(this,t.i),Ah(this,t.m),this.l=t.l,e=t.h;var n=new Ju;n.i=e.i,e.g&&(n.g=new Uo(e.g),n.h=e.h),OR(this,n),this.o=t.o}else t&&(n=String(t).match(PR))?(this.g=!!e,Ch(this,n[1]||"",!0),this.s=Yu(n[2]||""),Th(this,n[3]||"",!0),Ah(this,n[4]),this.l=Yu(n[5]||"",!0),OR(this,n[6]||"",!0),this.o=Yu(n[7]||"")):(this.g=!!e,this.h=new Ju(null,this.g))}function Hr(t){return new us(t)}function Ch(t,e,n){t.j=n?Yu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Th(t,e,n){t.i=n?Yu(e,!0):e}function Ah(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function OR(t,e,n){e instanceof Ju?(t.h=e,function MQ(t,e){e&&!t.j&&(gi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(LR(this,r),BR(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Qu(e,AQ)),t.h=new Ju(e,t.g))}function xe(t,e,n){t.h.set(e,n)}function Sh(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Yu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Qu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,bQ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bQ(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}us.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Qu(e,FR,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Qu(e,FR,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Qu(n,"/"==n.charAt(0)?TQ:CQ,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Qu(n,SQ)),t.join("")};var FR=/[#\/\?@]/g,CQ=/[#\?:]/g,TQ=/[#\?]/g,AQ=/[#\?@]/g,SQ=/#/g;function Ju(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function gi(t){t.g||(t.g=new Uo,t.h=0,t.i&&function EQ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function LR(t,e){gi(t),e=jo(t,e),as(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,as((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&ZE(t)))}function VR(t,e){return gi(t),e=jo(t,e),as(t.g.h,e)}function BR(t,e,n){LR(t,e),0<n.length&&(t.i=null,t.g.set(jo(t,e),IE(n)),t.h+=n.length)}function jo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function UR(t){this.l=t||NQ,t=H.PerformanceNavigationTiming?0<(t=H.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(H.g&&H.g.Ea&&H.g.Ea()&&H.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(k=Ju.prototype).add=function(t,e){gi(this),this.i=null,t=jo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},k.forEach=function(t,e){gi(this),this.g.forEach(function(n,r){Zk(n,function(i){t.call(e,i,r,this)},this)},this)},k.T=function(){gi(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},k.R=function(t){gi(this);var e=[];if("string"==typeof t)VR(this,t)&&(e=eR(e,this.g.get(jo(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=eR(e,t[n])}return e},k.set=function(t,e){return gi(this),this.i=null,VR(this,t=jo(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},k.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},k.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var NQ=10;function jR(t){return!!t.h||!!t.g&&t.g.size>=t.j}function $R(t){return t.h?1:t.g?t.g.size:0}function eI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function tI(t,e){t.g?t.g.add(e):t.h=e}function HR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function GR(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return IE(t.i)}function nI(){}function kQ(){this.g=new nI}function RQ(t,e,n){const r=n||"";try{XE(t,function(i,s){let o=i;Bu(i)&&(o=BE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Mh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Xu(t){this.l=t.$b||null,this.j=t.ib||!1}function xh(t,e){ft.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=rI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}UR.prototype.cancel=function(){if(this.i=GR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},nI.prototype.stringify=function(t){return H.JSON.stringify(t,void 0)},nI.prototype.parse=function(t){return H.JSON.parse(t,void 0)},It(Xu,qE),Xu.prototype.g=function(){return new xh(this.l,this.j)},Xu.prototype.i=function(t){return function(){return t}}({}),It(xh,ft);var rI=0;function qR(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Zu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ec(t)}function ec(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(k=xh.prototype).open=function(t,e){if(this.readyState!=rI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ec(this)},k.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||H).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zu(this)),this.readyState=rI},k.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ec(this)),this.g&&(this.readyState=3,ec(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==H.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qR(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},k.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Zu(this):ec(this),3==this.readyState&&qR(this)}},k.Ua=function(t){this.g&&(this.response=this.responseText=t,Zu(this))},k.Ta=function(t){this.g&&(this.response=t,Zu(this))},k.ha=function(){this.g&&Zu(this)},k.setRequestHeader=function(t,e){this.v.append(t,e)},k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},k.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(xh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var OQ=H.JSON.parse;function Ke(t){ft.call(this),this.headers=new Uo,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=WR,this.K=this.L=!1}It(Ke,ft);var WR="",FQ=/^https?$/i,LQ=["POST","PUT"];function BQ(t){return"content-type"==t.toLowerCase()}function zR(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,KR(t),Nh(t)}function KR(t){t.D||(t.D=!0,Dt(t,"complete"),Dt(t,"error"))}function YR(t){if(t.h&&void 0!==vE&&(!t.C[1]||4!=Gr(t)||2!=t.ba()))if(t.v&&4==Gr(t))GE(t.Fa,0,t);else if(Dt(t,"readystatechange"),4==Gr(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(PR)[1]||null;if(!i&&H.self&&H.self.location){var s=H.self.location.protocol;i=s.substr(0,s.length-1)}r=!FQ.test(i?i.toLowerCase():"")}n=r}if(n)Dt(t,"complete"),Dt(t,"success");else{t.m=6;try{var o=2<Gr(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",KR(t)}}finally{Nh(t)}}}function Nh(t,e){if(t.g){QR(t);const n=t.g,r=t.C[0]?dh:null;t.g=null,t.C=null,e||Dt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function QR(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(H.clearTimeout(t.A),t.A=null)}function Gr(t){return t.g?t.g.readyState:0}function JR(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case WR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function iI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function UQ(t){let e="";return bE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):xe(t,e,n))}function tc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function XR(t){this.za=0,this.l=[],this.h=new vh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=tc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=tc("baseRetryDelayMs",5e3,t),this.$a=tc("retryDelaySeedMs",1e4,t),this.Ya=tc("forwardChannelMaxRetries",2,t),this.ra=tc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new UR(t&&t.concurrentRequestLimit),this.Ca=new kQ,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function sI(t){if(ZR(t),3==t.G){var e=t.V++,n=Hr(t.F);xe(n,"SID",t.J),xe(n,"RID",e),xe(n,"TYPE","terminate"),nc(t,n),(e=new Wu(t,t.h,e,void 0)).K=2,e.v=Sh(Hr(n)),n=!1,H.navigator&&H.navigator.sendBeacon&&(n=H.navigator.sendBeacon(e.v.toString(),"")),!n&&H.Image&&((new Image).src=e.v,n=!0),n||(e.g=uP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),zu(e)}oP(t)}function kh(t){t.g&&(uI(t),t.g.cancel(),t.g=null)}function ZR(t){kh(t),t.u&&(H.clearTimeout(t.u),t.u=null),Ph(t),t.i.cancel(),t.m&&("number"==typeof t.m&&H.clearTimeout(t.m),t.m=null)}function oI(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Rh(t)}function Rh(t){jR(t.i)||t.m||(t.m=!0,UE(t.Ha,t),t.C=0)}function eP(t,e){var n;n=e?e.m:t.V++;const r=Hr(t.F);xe(r,"SID",t.J),xe(r,"RID",n),xe(r,"AID",t.U),nc(t,r),t.o&&t.s&&iI(r,t.o,t.s),n=new Wu(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=tP(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),tI(t.i,n),QE(n,r,e)}function nc(t,e){t.j&&XE({},function(n,r){xe(e,r,n)})}function tP(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Et(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{RQ(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function nP(t){t.g||t.u||(t.Y=1,UE(t.Ga,t),t.A=0)}function aI(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Gu(Et(t.Ga,t),sP(t,t.A)),t.A++,0))}function uI(t){null!=t.B&&(H.clearTimeout(t.B),t.B=null)}function rP(t){t.g=new Wu(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Hr(t.oa);xe(e,"RID","rpc"),xe(e,"SID",t.J),xe(e,"CI",t.N?"0":"1"),xe(e,"AID",t.U),nc(t,e),xe(e,"TYPE","xmlhttp"),t.o&&t.s&&iI(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Sh(Hr(e)),n.s=null,n.U=!0,xR(n,t)}function Ph(t){null!=t.v&&(H.clearTimeout(t.v),t.v=null)}function iP(t,e){var n=null;if(t.g==e){Ph(t),uI(t),t.g=null;var r=2}else{if(!eI(t.i,e))return;n=e.D,HR(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Dt(r=wh(),new CR(r,n,e,i)),Rh(t)}else nP(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function jQ(t,e){return!($R(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Gu(Et(t.Ha,t,e),sP(t,t.C)),t.C++,0)))}(t,e)||2==r&&aI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:cs(t,5);break;case 4:cs(t,10);break;case 3:cs(t,6);break;default:cs(t,2)}}function sP(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function cs(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Et(t.jb,t);n||(n=new us("//www.google.com/images/cleardot.gif"),H.location&&"http"==H.location.protocol||Ch(n,"https"),Sh(n)),function PQ(t,e){const n=new vh;if(H.Image){const r=new Image;r.onload=hh(Mh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=hh(Mh,n,r,"TestLoadImage: error",!1,e),r.onabort=hh(Mh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=hh(Mh,n,r,"TestLoadImage: timeout",!1,e),H.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.G=0,t.j&&t.j.va(e),oP(t),ZR(t)}function oP(t){t.G=0,t.I=-1,t.j&&((0!=GR(t.i).length||0!=t.l.length)&&(t.i.i.length=0,IE(t.l),t.l.length=0),t.j.ua())}function aP(t,e,n){let r=function IQ(t){return t instanceof us?Hr(t):new us(t,void 0)}(n);if(""!=r.i)e&&Th(r,e+"."+r.i),Ah(r,r.m);else{const i=H.location;r=function DQ(t,e,n,r){var i=new us(null,void 0);return t&&Ch(i,t),e&&Th(i,e),n&&Ah(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&bE(t.aa,function(i,s){xe(r,s,i)}),n=t.sa,(e=t.D)&&n&&xe(r,e,n),xe(r,"VER",t.ma),nc(t,r),r}function uP(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ke(n&&t.Ba&&!t.qa?new Xu({ib:!0}):t.qa)).L=t.H,e}function cP(){}function Oh(){if(Vo&&!(10<=Number(eQ)))throw Error("Environmental error: no available transport.")}function vn(t,e){ft.call(this),this.g=new XR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!fh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fh(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new $o(this)}function lP(t){WE.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function dP(){zE.call(this),this.status=1}function $o(t){this.g=t}(k=Ke.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():KE.g(),this.C=function AR(t){return t.h||(t.h=t.i())}(this.u?this.u:KE),this.g.onreadystatechange=Et(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void zR(this,s)}t=n||"";const i=new Uo(this.headers);r&&XE(r,function(s,o){i.set(o,s)}),r=function KY(t){e:{var e=BQ;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=H.FormData&&t instanceof H.FormData,!(0<=Xk(LQ,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{QR(this),0<this.B&&((this.K=function VQ(t){return Vo&&function ZY(){return function YY(t){var e=XY;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=tR(String(ph)).split("."),n=tR("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=DE(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||DE(0==i[2].length,0==s[2].length)||DE(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Et(this.pa,this)):this.A=GE(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){zR(this,s)}},k.pa=function(){void 0!==vE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dt(this,"timeout"),this.abort(8))},k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dt(this,"complete"),Dt(this,"abort"),Nh(this))},k.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nh(this,!0)),Ke.Z.M.call(this)},k.Fa=function(){this.s||(this.F||this.v||this.l?YR(this):this.cb())},k.cb=function(){YR(this)},k.ba=function(){try{return 2<Gr(this)?this.g.status:-1}catch(t){return-1}},k.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},k.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),OQ(e)}},k.Da=function(){return this.m},k.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(k=XR.prototype).ma=8,k.G=1,k.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},k.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Wu(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=iR(s),oR(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=tP(this,i,e),xe(n=Hr(this.F),"RID",t),xe(n,"CVER",22),this.D&&xe(n,"X-HTTP-Session-Id",this.D),nc(this,n),this.o&&s&&iI(n,this.o,s),tI(this.i,i),this.Ra&&xe(n,"TYPE","init"),this.ja?(xe(n,"$req",e),xe(n,"SID","null"),i.$=!0,QE(i,n,null)):QE(i,n,e),this.G=2}}else 3==this.G&&(t?eP(this,t):0==this.l.length||jR(this.i)||eP(this))},k.Ga=function(){if(this.u=null,rP(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Gu(Et(this.bb,this),t)}},k.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Zt(10),kh(this),rP(this))},k.ab=function(){null!=this.v&&(this.v=null,kh(this),aI(this),Zt(19))},k.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Zt(2)):(this.h.info("Failed to ping google.com"),Zt(1))},(k=cP.prototype).xa=function(){},k.wa=function(){},k.va=function(){},k.ua=function(){},k.Oa=function(){},Oh.prototype.g=function(t,e){return new vn(t,e)},It(vn,ft),vn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),UE(Et(t.hb,t,e))),Zt(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=aP(t,null,t.W),Rh(t)},vn.prototype.close=function(){sI(this.g)},vn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,oI(this.g,e)}else this.v?((e={}).__data__=BE(t),oI(this.g,e)):oI(this.g,t)},vn.prototype.M=function(){this.g.j=null,delete this.j,sI(this.g),delete this.g,vn.Z.M.call(this)},It(lP,WE),It(dP,zE),It($o,cP),$o.prototype.xa=function(){Dt(this.g,"a")},$o.prototype.wa=function(t){Dt(this.g,new lP(t))},$o.prototype.va=function(t){Dt(this.g,new dP(t))},$o.prototype.ua=function(){Dt(this.g,"b")},Oh.prototype.createWebChannel=Oh.prototype.g,vn.prototype.send=vn.prototype.u,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,Eh.NO_ERROR=0,Eh.TIMEOUT=8,Eh.HTTP_ERROR=6,TR.COMPLETE="complete",SR.EventType=qu,qu.OPEN="a",qu.CLOSE="b",qu.ERROR="c",qu.MESSAGE="d",ft.prototype.listen=ft.prototype.N,Ke.prototype.listenOnce=Ke.prototype.O,Ke.prototype.getLastError=Ke.prototype.La,Ke.prototype.getLastErrorCode=Ke.prototype.Da,Ke.prototype.getStatus=Ke.prototype.ba,Ke.prototype.getResponseJson=Ke.prototype.Qa,Ke.prototype.getResponseText=Ke.prototype.ga,Ke.prototype.send=Ke.prototype.ea;var $Q=$r.createWebChannelTransport=function(){return new Oh},HQ=$r.getStatEventTarget=function(){return wh()},cI=$r.ErrorCode=Eh,GQ=$r.EventType=TR,qQ=$r.Event=ss,hP=$r.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},WQ=$r.FetchXmlHttpFactory=Xu,Fh=$r.WebChannel=SR,zQ=$r.XhrIo=Ke;const fP="@firebase/firestore";class bt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");let Ho="9.6.11";const mi=new Ao("@firebase/firestore");function lI(){return mi.logLevel}function b(t,...e){if(mi.logLevel<=se.DEBUG){const n=e.map(dI);mi.debug(`Firestore (${Ho}): ${t}`,...n)}}function Ye(t,...e){if(mi.logLevel<=se.ERROR){const n=e.map(dI);mi.error(`Firestore (${Ho}): ${t}`,...n)}}function Lh(t,...e){if(mi.logLevel<=se.WARN){const n=e.map(dI);mi.warn(`Firestore (${Ho}): ${t}`,...n)}}function dI(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function R(t="Unexpected state"){const e=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: `+t;throw Ye(e),new Error(e)}function B(t,e){t||R()}function M(t,e){return t}const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class pP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class QQ{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new pt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(B("string"==typeof r.accessToken),new pP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return B(null===e||"string"==typeof e),new bt(e)}}class JQ{constructor(e,n,r){this.type="FirstParty",this.user=bt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class XQ{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new JQ(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZQ{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{null!=s.error&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(B("string"==typeof n.token),this.p=n.token,new gP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class wn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function eJ(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}wn.A=-1;class mP{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=eJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function K(t,e){return t<e?-1:t>e?1:0}function Go(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class L{constructor(e){this.timestamp=e}static fromTimestamp(e){return new L(e)}static min(){return new L(new Qe(0,0))}static max(){return new L(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function _P(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ls(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class rc{constructor(e,n,r){void 0===n?n=0:n>e.length&&R(),void 0===r?r=e.length-n:r>e.length-n&&R(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===rc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class oe extends rc{construct(e,n,r){return new oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new oe(n)}static emptyPath(){return new oe([])}}const tJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends rc{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return tJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}class qo{constructor(e){this.fields=e,e.sort(Ct.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class at{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new at(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new at(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}at.EMPTY_BYTE_STRING=new at("");const nJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(t){if(B(!!t),"string"==typeof t){let e=0;const n=nJ.exec(t);if(B(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ds(t){return"string"==typeof t?at.fromBase64String(t):at.fromUint8Array(t)}function hI(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wP(t){const e=t.mapValue.fields.__previous_value__;return hI(e)?wP(e):e}function ic(t){const e=yi(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}class rJ{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class _i{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _i("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _i&&e.projectId===this.projectId&&e.database===this.database}}function hs(t){return null==t}function sc(t){return 0===t&&1/t==-1/0}class S{constructor(e){this.path=e}static fromPath(e){return new S(oe.fromString(e))}static fromName(e){return new S(oe.fromString(e).popFirst(5))}static empty(){return new S(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new oe(e.slice()))}}function fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hI(t)?4:AP(t)?9:10:R()}function yr(t,e){if(t===e)return!0;const n=fs(t);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ic(t).isEqual(ic(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=yi(r.timestampValue),o=yi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ds(t.bytesValue).isEqual(ds(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ve(r.geoPointValue.latitude)===Ve(i.geoPointValue.latitude)&&Ve(r.geoPointValue.longitude)===Ve(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ve(r.integerValue)===Ve(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ve(r.doubleValue),o=Ve(i.doubleValue);return s===o?sc(s)===sc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Go(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(_P(s)!==_P(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!yr(s[a],o[a])))return!1;return!0}(t,e);default:return R()}var i}function oc(t,e){return void 0!==(t.values||[]).find(n=>yr(n,e))}function vi(t,e){if(t===e)return 0;const n=fs(t),r=fs(e);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ve(i.integerValue||i.doubleValue),a=Ve(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return bP(t.timestampValue,e.timestampValue);case 4:return bP(ic(t),ic(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ds(i),a=ds(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=K(o[u],a[u]);if(0!==c)return c}return K(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=K(Ve(i.latitude),Ve(s.latitude));return 0!==o?o:K(Ve(i.longitude),Ve(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=vi(o[u],a[u]);if(c)return c}return K(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=K(a[l],c[l]);if(0!==d)return d;const h=vi(o[a[l]],u[c[l]]);if(0!==h)return h}return K(a.length,c.length)}(t.mapValue,e.mapValue);default:throw R()}}function bP(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return K(t,e);const n=yi(t),r=yi(e),i=K(n.seconds,r.seconds);return 0!==i?i:K(n.nanos,r.nanos)}function Wo(t){return fI(t)}function fI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=yi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ds(t.bytesValue).toBase64():"referenceValue"in t?S.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=fI(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${fI(r.fields[a])}`;return s+"}"}(t.mapValue):R();var e}function pI(t){return!!t&&"integerValue"in t}function ac(t){return!!t&&"arrayValue"in t}function CP(t){return!!t&&"nullValue"in t}function TP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vh(t){return!!t&&"mapValue"in t}function uc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ls(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AP(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Lt{constructor(e){this.value=e}static empty(){return new Lt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=uc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ls(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Lt(uc(this.value))}}function xP(t){const e=[];return ls(t.fields,(n,r)=>{const i=new Ct([n]);if(Vh(r)){const s=xP(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new qo(e)}class be{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new be(e,0,L.min(),L.min(),Lt.empty(),0)}static newFoundDocument(e,n,r){return new be(e,1,n,L.min(),r,0)}static newNoDocument(e,n){return new be(e,2,n,L.min(),Lt.empty(),0)}static newUnknownDocument(e,n){return new be(e,3,n,L.min(),Lt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof be&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new be(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function oJ(t){return new qr(t.readTime,t.key,-1)}class qr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qr(L.min(),S.empty(),-1)}static max(){return new qr(L.max(),S.empty(),-1)}}function aJ(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=S.comparator(t.documentKey,e.documentKey),0!==n?n:K(t.largestBatchId,e.largestBatchId))}class uJ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function kP(t,e=null,n=[],r=[],i=null,s=null,o=null){return new uJ(t,e,n,r,i,s,o)}function ms(t){const e=M(t);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Wo(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),hs(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wo(r)).join(",")),e.P=n}return e.P}function lc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!yJ(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!yr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LP(t.startAt,e.startAt)&&LP(t.endAt,e.endAt)}function jh(t){return S.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Tt extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,r):new lJ(e,n,r):"array-contains"===n?new fJ(e,r):"in"===n?new pJ(e,r):"not-in"===n?new gJ(e,r):"array-contains-any"===n?new mJ(e,r):new Tt(e,n,r)}static V(e,n,r){return"in"===n?new dJ(e,r):new hJ(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(vi(n,this.value)):null!==n&&fs(this.value)===fs(n)&&this.v(vi(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return R()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class lJ extends Tt{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){const n=S.comparator(e.key,this.key);return this.v(n)}}class dJ extends Tt{constructor(e,n){super(e,"in",n),this.keys=OP(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hJ extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=OP(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OP(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}class fJ extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ac(n)&&oc(n.arrayValue,this.value)}}class pJ extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&oc(this.value.arrayValue,n)}}class gJ extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!oc(this.value.arrayValue,n)}}class mJ extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ac(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oc(this.value.arrayValue,r))}}class wi{constructor(e,n){this.position=e,this.inclusive=n}}class zo{constructor(e,n="asc"){this.field=e,this.dir=n}}function yJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function FP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?S.comparator(S.fromName(o.referenceValue),n.key):vi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function LP(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}class Wr{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.D=null,this.C=null}}function Ko(t){return new Wr(t)}function Hh(t){return!hs(t.limit)&&"F"===t.limitType}function Gh(t){return!hs(t.limit)&&"L"===t.limitType}function Yo(t){const e=M(t);if(null===e.D){e.D=[];const n=function yI(t){for(const e of t.filters)if(e.S())return e.field;return null}(e),r=function mI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.D.push(new zo(n)),e.D.push(new zo(Ct.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new zo(Ct.keyField(),s))}}}return e.D}function kn(t){const e=M(t);if(!e.C)if("F"===e.limitType)e.C=kP(e.path,e.collectionGroup,Yo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Yo(e))n.push(new zo(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new wi(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new wi(e.startAt.position,!e.startAt.inclusive):null;e.C=kP(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function dc(t,e){return lc(kn(t),kn(e))&&t.limitType===e.limitType}function UP(t){return`${ms(kn(t))}|lt:${t.limitType}`}function vI(t){return`Query(target=${function cJ(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Wo(r.value)}`;var r}).join(", ")}]`),hs(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Wo(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Wo(n)).join(",")),`Target(${e})`}(kn(t))}; limitType=${t.limitType})`}function wI(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):S.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=FP(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Yo(n),r)||n.endAt&&!function(i,s,o){const a=FP(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Yo(n),r)));var n,r}function $P(t){return(e,n)=>{let r=!1;for(const i of Yo(t)){const s=_J(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function _J(t,e,n){const r=t.field.isKeyField()?S.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?vi(a,u):R()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return R()}}function HP(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sc(e)?"-0":e}}function GP(t){return{integerValue:""+t}}function qP(t,e){return function EP(t){return"number"==typeof t&&Number.isInteger(t)&&!sc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?GP(e):HP(t,e)}class qh{constructor(){this._=void 0}}function vJ(t,e,n){return t instanceof Qo?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ys?zP(t,e):t instanceof _s?KP(t,e):function(r,i){const s=WP(r,i),o=YP(s)+YP(r.k);return pI(s)&&pI(r.k)?GP(o):HP(r.M,o)}(t,e)}function wJ(t,e,n){return t instanceof ys?zP(t,e):t instanceof _s?KP(t,e):n}function WP(t,e){return t instanceof Jo?pI(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Qo extends qh{}class ys extends qh{constructor(e){super(),this.elements=e}}function zP(t,e){const n=QP(e);for(const r of t.elements)n.some(i=>yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class _s extends qh{constructor(e){super(),this.elements=e}}function KP(t,e){let n=QP(e);for(const r of t.elements)n=n.filter(i=>!yr(i,r));return{arrayValue:{values:n}}}class Jo extends qh{constructor(e,n){super(),this.M=e,this.k=n}}function YP(t){return Ve(t.integerValue||t.doubleValue)}function QP(t){return ac(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class IJ{constructor(e,n){this.version=e,this.transformResults=n}}class Je{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Je}static exists(e){return new Je(void 0,e)}static updateTime(e){return new Je(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class zh{}function DJ(t,e,n){t instanceof fc?function(r,i,s){const o=r.value.clone(),a=eO(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof vs?function(r,i,s){if(!Wh(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=eO(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(ZP(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function EI(t,e,n){var i;t instanceof fc?function(r,i,s){if(!Wh(r.precondition,i))return;const o=r.value.clone(),a=tO(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(XP(i),o).setHasLocalMutations()}(t,e,n):t instanceof vs?function(r,i,s){if(!Wh(r.precondition,i))return;const o=tO(r.fieldTransforms,s,i),a=i.data;a.setAll(ZP(r)),a.setAll(o),i.convertToFoundDocument(XP(i),a).setHasLocalMutations()}(t,e,n):Wh(t.precondition,i=e)&&i.convertToNoDocument(L.min())}function bJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=WP(r.transform,i||null);null!=s&&(null==n&&(n=Lt.empty()),n.set(r.field,s))}return n||null}function JP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Go(n,r,(i,s)=>function EJ(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof ys&&r instanceof ys||n instanceof _s&&r instanceof _s?Go(n.elements,r.elements,yr):n instanceof Jo&&r instanceof Jo?yr(n.k,r.k):n instanceof Qo&&r instanceof Qo);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function XP(t){return t.isFoundDocument()?t.version:L.min()}class fc extends zh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class vs extends zh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function ZP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eO(t,e,n){const r=new Map;B(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,wJ(o,a,n[i]))}return r}function tO(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,vJ(s,o,e))}return r}class pc extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class II extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class CJ{constructor(e){this.count=e}}var Xe,ae;function nO(t){switch(t){default:return R();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function rO(t){if(void 0===t)return Ye("GRPC error has no .code"),v.UNKNOWN;switch(t){case Xe.OK:return v.OK;case Xe.CANCELLED:return v.CANCELLED;case Xe.UNKNOWN:return v.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return v.INTERNAL;case Xe.UNAVAILABLE:return v.UNAVAILABLE;case Xe.UNAUTHENTICATED:return v.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case Xe.NOT_FOUND:return v.NOT_FOUND;case Xe.ALREADY_EXISTS:return v.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return v.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case Xe.ABORTED:return v.ABORTED;case Xe.OUT_OF_RANGE:return v.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return v.UNIMPLEMENTED;case Xe.DATA_LOSS:return v.DATA_LOSS;default:return R()}}(ae=Xe||(Xe={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";class Ei{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return vP(this.inner)}size(){return this.innerSize}}class je{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kh(this.root,e,this.comparator,!0)}}class Kh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:At.RED,this.left=null!=i?i:At.EMPTY,this.right=null!=s?s:At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new At(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return At.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw R();const e=this.left.check();if(e!==this.right.check())throw R();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1,At.EMPTY=new class{constructor(){this.size=0}get key(){throw R()}get value(){throw R()}get color(){throw R()}get left(){throw R()}get right(){throw R()}copy(t,e,n,r,i){return this}insert(t,e,n){return new At(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ce{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iO(this.data.getIterator())}getIteratorFrom(e){return new iO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ce(this.comparator);return n.data=e,n}}class iO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const TJ=new je(S.comparator);function Rn(){return TJ}const AJ=new je(S.comparator);function DI(){return AJ}function gc(){return new Ei(t=>t.toString(),(t,e)=>t.isEqual(e))}const SJ=new je(S.comparator),MJ=new Ce(S.comparator);function de(...t){let e=MJ;for(const n of t)e=e.add(n);return e}const xJ=new Ce(K);function Yh(){return xJ}class mc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,n)),new mc(L.min(),r,Yh(),Rn(),de())}}class yc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new yc(at.EMPTY_BYTE_STRING,n,de(),de(),de())}}class Qh{constructor(e,n,r,i){this.O=e,this.removedTargetIds=n,this.key=r,this.F=i}}class sO{constructor(e,n){this.targetId=e,this.$=n}}class oO{constructor(e,n,r=at.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class aO{constructor(){this.B=0,this.L=cO(),this.U=at.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=de(),n=de(),r=de();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:R()}}),new yc(this.U,this.q,e,n,r)}J(){this.K=!1,this.L=cO()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class NJ{constructor(e){this.nt=e,this.st=new Map,this.it=Rn(),this.rt=uO(),this.ot=new Ce(K)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:R()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.$.count,i=this.wt(n);if(i){const s=i.target;if(jh(s))if(0===r){const o=new S(s.path);this.ct(n,o,be.newNoDocument(o,L.min()))}else B(1===r);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&jh(a.target)){const u=new S(a.target.path);null!==this.it.get(u)||this.It(o,u)||this.ct(o,u,be.newNoDocument(u,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=de();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.wt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new mc(e,n,this.ot,this.it,r);return this.it=Rn(),this.rt=uO(),this.ot=new Ce(K),i}at(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new aO,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Ce(K),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||b("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new aO),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function uO(){return new je(S.comparator)}function cO(){return new je(S.comparator)}const kJ={asc:"ASCENDING",desc:"DESCENDING"},RJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class PJ{constructor(e,n){this.databaseId=e,this.N=n}}function _c(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lO(t,e){return t.N?e.toBase64():e.toUint8Array()}function OJ(t,e){return _c(t,e.toTimestamp())}function gt(t){return B(!!t),L.fromTimestamp(function(e){const n=yi(e);return new Qe(n.seconds,n.nanos)}(t))}function bI(t,e){return(n=t,new oe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function dO(t){const e=oe.fromString(t);return B(wO(e)),e}function vc(t,e){return bI(t.databaseId,e.path)}function _r(t,e){const n=dO(e);if(n.get(1)!==t.databaseId.projectId)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S(fO(n))}function CI(t,e){return bI(t.databaseId,e)}function wc(t){return new oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fO(t){return B(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function pO(t,e,n){return{name:vc(t,e),fields:n.value.mapValue.fields}}function mO(t,e){return{documents:[CI(t,e.path)]}}function yO(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=CI(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=CI(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const c=u.map(l=>function(d){if("=="===d.op){if(TP(d.value))return{unaryFilter:{field:Zo(d.field),op:"IS_NAN"}};if(CP(d.value))return{unaryFilter:{field:Zo(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(TP(d.value))return{unaryFilter:{field:Zo(d.field),op:"IS_NOT_NAN"}};if(CP(d.value))return{unaryFilter:{field:Zo(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(d.field),op:jJ(d.op),value:d.value}}}(l));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Zo((l=c).field),direction:UJ(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.N||hs(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function _O(t){let e=function hO(t){const e=dO(t);return 4===e.length?oe.emptyPath():fO(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){B(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=vO(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new zo(ea((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,hs(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new wi((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new wi(l.values||[],!l.before)}(n.endAt)),function VP(t,e,n,r,i,s,o,a){return new Wr(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function vO(t){return t?void 0!==t.unaryFilter?[HJ(t)]:void 0!==t.fieldFilter?[$J(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>vO(e)).reduce((e,n)=>e.concat(n)):R():[]}function UJ(t){return kJ[t]}function jJ(t){return RJ[t]}function Zo(t){return{fieldPath:t.canonicalString()}}function ea(t){return Ct.fromServerFormat(t.fieldPath)}function $J(t){return Tt.create(ea(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return R()}}(t.fieldFilter.op),t.fieldFilter.value)}function HJ(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ea(t.unaryFilter.field);return Tt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ea(t.unaryFilter.field);return Tt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ea(t.unaryFilter.field);return Tt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ea(t.unaryFilter.field);return Tt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return R()}}function GJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wO(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}const TO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&R(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function ws(t){return"IndexedDbTransactionError"===t.name}class SI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&DJ(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&EI(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&EI(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(L.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,(n,r)=>JP(n,r))&&Go(this.baseMutations,e.baseMutations,(n,r)=>JP(n,r))}}class MI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){B(e.mutations.length===r.length);let i=SJ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new MI(e,n,r,i)}}class xI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ii{constructor(e,n,r,i,s=L.min(),o=L.min(),a=at.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class MO{constructor(e){this.Jt=e}}function NI(t){const e=_O({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function BP(t,e,n){return new Wr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class bs{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(Ve(e.integerValue));else if("doubleValue"in e){const r=Ve(e.doubleValue);isNaN(r)?this.ne(n,13):(this.ne(n,15),sc(r)?n.se(0):n.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(n,20),"string"==typeof r?n.ie(r):(n.ie(`${r.seconds||""}`),n.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(ds(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(n,45),n.se(r.latitude||0),n.se(r.longitude||0)}else"mapValue"in e?AP(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):R()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const r=e.fields||{};this.ne(n,55);for(const i of Object.keys(r))this.re(i,n),this.te(r[i],n)}he(e,n){const r=e.values||[];this.ne(n,50);for(const i of r)this.te(i,n)}ae(e,n){this.ne(n,37),S.fromName(e).path.forEach(r=>{this.ne(n,60),this.le(r,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}bs.fe=new bs;class vX{constructor(){this.qe=new PI}addToCollectionParentIndex(e,n){return this.qe.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getFieldIndex(e,n){return w.resolve(null)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class PI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ce(oe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ce(oe.comparator)).toArray()}}new Uint8Array(0);class cn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Ts{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Ts(0)}static yn(){return new Ts(-1)}}function As(t){return FI.apply(this,arguments)}function FI(){return FI=g(function*(t){if(t.code!==v.FAILED_PRECONDITION||t.message!==TO)throw t;b("LocalStore","Unexpectedly lost primary lease")}),FI.apply(this,arguments)}class xX{constructor(e,n,r){this.ds=e,this.Bs=n,this.indexManager=r}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Us(e,n,r))}Us(e,n,r){return this.ds.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Ks(e,n){return this.ds.getEntries(e,n).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.qs(n,r))}Qs(e,n,r){return S.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,n.path):function _I(t){return null!==t.collectionGroup}(n)?this.Ws(e,n,r):this.zs(e,n,r);var i}js(e,n){return this.Ls(e,new S(n)).next(r=>{let i=DI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,n,r){const i=n.collectionGroup;let s=DI();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new Wr(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.zs(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}zs(e,n,r){let i;return this.ds.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const a of o.mutations){const u=a.key;let c=i.get(u);null==c&&(c=be.newInvalidDocument(u),i=i.insert(u,c)),EI(a,c,o.localWriteTime),c.isFoundDocument()||(i=i.remove(u))}}).next(()=>(i.forEach((s,o)=>{wI(n,o)||(i=i.remove(s))}),i))}}class UI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hs=r,this.Js=i}static Ys(e,n){let r=de(),i=de();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new UI(e,n.fromCache,r,i)}}class KO{Xs(e){this.Zs=e}Qs(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(L.min())?this.ti(e,n):this.Zs.Ks(e,i).next(s=>{const o=this.ei(n,s);return(Hh(n)||Gh(n))&&this.ni(n.limitType,o,i,r)?this.ti(e,n):(lI()<=se.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vI(n)),this.Zs.Qs(e,n,function NP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=L.fromTimestamp(1e9===r?new Qe(n+1,0):new Qe(n,r));return new qr(i,S.empty(),e)}(r,-1)).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}ei(e,n){let r=new Ce($P(e));return n.forEach((i,s)=>{wI(e,s)&&(r=r.add(s))}),r}ni(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ti(e,n){return lI()<=se.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",vI(n)),this.Zs.Qs(e,n,qr.min())}}class NX{constructor(e,n,r,i){this.persistence=e,this.si=n,this.M=i,this.ii=new je(K),this.ri=new Ei(s=>ms(s),lc),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new xX(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ii))}}function QO(t,e){return jI.apply(this,arguments)}function jI(){return jI=g(function*(t,e){const n=M(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.Bs.getAllMutationBatches(r).next(s=>(i=s,n.ai(e),n.Bs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=de();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.ci.Ks(r,u).next(c=>({hi:c,removedBatchIds:o,addedBatchIds:a}))})})}),jI.apply(this,arguments)}function kX(t,e){const n=M(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ui.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);B(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.Bs.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.Bs.performConsistencyCheck(r)).next(()=>n.ci.Ks(r,i))})}function JO(t){const e=M(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function RX(t,e){const n=M(t),r=e.snapshotVersion;let i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.fs.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.fs.addMatchingKeys(s,c.addedDocuments,l)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,m;e.targetMismatches.has(l)?h=h.withResumeToken(at.EMPTY_BYTE_STRING,L.min()).withLastLimboFreeSnapshotVersion(L.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(l,h),p=h,m=c,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.fs.updateTargetData(s,h))});let u=Rn();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function XO(t,e,n){let r=de();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Rn();return n.forEach((o,a)=>{const u=i.get(o);a.isNoDocument()&&a.version.isEqual(L.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):b("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",a.version)}),s})}(s,o,e.documentUpdates).next(c=>{u=c})),!r.isEqual(L.min())){const c=n.fs.getLastRemoteSnapshotVersion(s).next(l=>n.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.ci.Gs(s,u)).next(()=>u)}).then(s=>(n.ii=i,s))}function PX(t,e){const n=M(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(r,e)))}function sa(t,e){const n=M(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.fs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.fs.allocateTargetId(r).next(o=>(i=new Ii(e,o,0,r.currentSequenceNumber),n.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ii.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ii=n.ii.insert(r.targetId,r),n.ri.set(e,r.targetId)),r})}function oa(t,e,n){return $I.apply(this,arguments)}function $I(){return $I=g(function*(t,e,n){const r=M(t),i=r.ii.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ws(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)}),$I.apply(this,arguments)}function af(t,e,n){const r=M(t);let i=L.min(),s=de();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=M(a),d=l.ri.get(c);return void 0!==d?w.resolve(l.ii.get(d)):l.fs.getTargetData(u,c)}(r,o,kn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.si.Qs(o,e,n?i:L.min(),n?s:de())).next(a=>(function tF(t,e,n){let r=L.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.oi.set(e,r)}(r,function jP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,li:s})))}class LX{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,n){return w.resolve(this.wi.get(n))}saveBundleMetadata(e,n){var r;return this.wi.set(n.id,{id:(r=n).id,version:r.version,createTime:gt(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.mi.get(n))}saveNamedQuery(e,n){return this.mi.set(n.name,{name:(r=n).name,query:NI(r.bundledQuery),readTime:gt(r.readTime)}),w.resolve();var r}}class VX{constructor(){this.overlays=new je(S.comparator),this.gi=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Xt(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.gi.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.gi.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=gc(),s=n.length+1,o=new S(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new je((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=gc(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=gc(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}Xt(e,n,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const o=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xI(n,r));let s=this.gi.get(n);void 0===s&&(s=de(),this.gi.set(n,s)),this.gi.set(n,s.add(r.key))}}class qI{constructor(){this.yi=new Ce(yt.pi),this.Ii=new Ce(yt.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,n){const r=new yt(e,n);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ai(new yt(e,n))}Ri(e,n){e.forEach(r=>this.removeReference(r,n))}Pi(e){const n=new S(new oe([])),r=new yt(n,e),i=new yt(n,e+1),s=[];return this.Ii.forEachInRange([r,i],o=>{this.Ai(o),s.push(o.key)}),s}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const n=new S(new oe([])),r=new yt(n,e),i=new yt(n,e+1);let s=de();return this.Ii.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new yt(e,0),r=this.yi.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.vi=n}static pi(e,n){return S.comparator(e.key,n.key)||K(e.vi,n.vi)}static Ti(e,n){return K(e.vi,n.vi)||S.comparator(e.key,n.key)}}class BX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new Ce(yt.pi)}checkEmpty(e){return w.resolve(0===this.Bs.length)}addMutationBatch(e,n,r,i){const s=this.Si;this.Si++;const o=new SI(s,n,r,i);this.Bs.push(o);for(const a of i)this.Di=this.Di.add(new yt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ci(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.xi(n+1),s=i<0?0:i;return w.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return w.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.Di.forEachInRange([r,i],o=>{const a=this.Ci(o.vi);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ce(K);return n.forEach(i=>{const s=new yt(i,0),o=new yt(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([s,o],a=>{r=r.add(a.vi)})}),w.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;S.isDocumentKey(s)||(s=s.child(""));const o=new yt(new S(s),0);let a=new Ce(K);return this.Di.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.vi)),!0)},o),w.resolve(this.Ni(a))}Ni(e){const n=[];return e.forEach(r=>{const i=this.Ci(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){B(0===this.ki(n.batchId,"removed")),this.Bs.shift();let r=this.Di;return w.forEach(n.mutations,i=>{const s=new yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,n){const r=new yt(n,0),i=this.Di.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}ki(e,n){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const n=this.xi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class UX{constructor(e){this.Mi=e,this.docs=new je(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mi(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():be.newInvalidDocument(n))}getEntries(e,n){let r=Rn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():be.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,n,r){let i=Rn();const s=new S(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||aJ(oJ(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,n,r,i){R()}Oi(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jX(this)}getSize(e){return w.resolve(this.size)}}class jX extends class TX{constructor(){this.changes=new Ei(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,be.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class $X{constructor(e){this.persistence=e,this.Fi=new Ei(n=>ms(n),lc),this.lastRemoteSnapshotVersion=L.min(),this.highestTargetId=0,this.$i=0,this.Bi=new qI,this.targetCount=0,this.Li=Ts.gn()}forEachTarget(e,n){return this.Fi.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$i&&(this.$i=n),w.resolve()}Tn(e){this.Fi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Li=new Ts(n),this.highestTargetId=n),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Tn(n),w.resolve()}removeTargetData(e,n){return this.Fi.delete(n.target),this.Bi.Pi(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fi.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fi.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.Bi.Ei(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.Bi.Ri(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Bi.Pi(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Bi.Vi(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.Bi.containsKey(n))}}class HX{constructor(e,n){this.Ui={},this.overlays={},this.es=new wn(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new $X(this),this.indexManager=new vX,this.ds=new UX(r=>this.referenceDelegate.qi(r)),this.M=new MO(n),this._s=new LX(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VX,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ui[e.toKey()];return r||(r=new BX(n,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const i=new GX(this.es.next());return this.referenceDelegate.Ki(),r(i).next(s=>this.referenceDelegate.Gi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Qi(e,n){return w.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,n)))}}class GX extends class cX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class WI{constructor(e){this.persistence=e,this.ji=new qI,this.Wi=null}static zi(e){return new WI(e)}get Hi(){if(this.Wi)return this.Wi;throw R()}addReference(e,n,r){return this.ji.addReference(r,n),this.Hi.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.ji.removeReference(r,n),this.Hi.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Hi.add(n.toString()),w.resolve()}removeTarget(e,n){this.ji.Pi(n.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ki(){this.Wi=new Set}Gi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Hi,r=>{const i=S.fromPath(r);return this.Ji(e,i).next(s=>{s||n.removeEntry(i,L.min())})}).next(()=>(this.Wi=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ji(e,n).next(r=>{r?this.Hi.delete(n.toString()):this.Hi.add(n.toString())})}qi(e){return 0}Ji(e,n){return w.or([()=>w.resolve(this.ji.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Qi(e,n)])}}class YI{constructor(){this.activeTargetIds=Yh()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iF{constructor(){this.$r=new YI,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,n,r){this.Br[e]=n}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new YI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qX{Lr(e){}shutdown(){}}class sF{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const WX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class zX{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class KX extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,n,r,i,s){const o=this.uo(e,n);b("RestConnection","Sending: ",o,r);const a={};return this.ao(a,i,s),this.co(e,o,a,r).then(u=>(b("RestConnection","Received: ",u),u),u=>{throw Lh("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ho(e,n,r,i,s){return this.oo(e,n,r,i,s)}ao(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ho,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}uo(e,n){return`${this.io}/v1/${n}:${WX[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,r,i){return new Promise((s,o)=>{const a=new zQ;a.listenOnce(GQ.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case cI.NO_ERROR:const c=a.getResponseJson();b("Connection","XHR received:",JSON.stringify(c)),s(c);break;case cI.TIMEOUT:b("Connection",'RPC "'+e+'" timed out'),o(new D(v.DEADLINE_EXCEEDED,"Request time out"));break;case cI.HTTP_ERROR:const l=a.getStatus();if(b("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(p)>=0?p:v.UNKNOWN}(d.status);o(new D(h,d.message))}else o(new D(v.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new D(v.UNAVAILABLE,"Connection failed."));break;default:R()}}finally{b("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}lo(e,n,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$Q(),o=HQ(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new WQ({})),this.ao(a.initMessageHeaders,n,r),f1()||p1()||function e4(){return lt().indexOf("Electron/")>=0}()||g1()||function t4(){return lt().indexOf("MSAppHost/")>=0}()||Sd()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");b("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new zX({Wr:p=>{d?b("Connection","Not sending because WebChannel is closed:",p):(l||(b("Connection","Opening WebChannel transport."),c.open(),l=!0),b("Connection","WebChannel sending:",p),c.send(p))},zr:()=>c.close()}),f=(p,m,_)=>{p.listen(m,E=>{try{_(E)}catch(y){setTimeout(()=>{throw y},0)}})};return f(c,Fh.EventType.OPEN,()=>{d||b("Connection","WebChannel transport opened.")}),f(c,Fh.EventType.CLOSE,()=>{d||(d=!0,b("Connection","WebChannel transport closed"),h.no())}),f(c,Fh.EventType.ERROR,p=>{d||(d=!0,Lh("Connection","WebChannel transport errored:",p),h.no(new D(v.UNAVAILABLE,"The operation could not be completed")))}),f(c,Fh.EventType.MESSAGE,p=>{var m;if(!d){const _=p.data[0];B(!!_);const E=_,y=E.error||(null===(m=E[0])||void 0===m?void 0:m.error);if(y){b("Connection","WebChannel received error:",y);const T=y.status;let P=function(X){const Te=Xe[X];if(void 0!==Te)return rO(Te)}(T),O=y.message;void 0===P&&(P=v.INTERNAL,O="Unknown error status: "+T+" with message "+y.message),d=!0,h.no(new D(P,O)),c.close()}else b("Connection","WebChannel received:",_),h.so(_)}}),f(o,qQ.STAT_EVENT,p=>{p.stat===hP.PROXY?b("Connection","Detected buffering proxy"):p.stat===hP.NOPROXY&&b("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.eo()},0),h}}function lf(){return"undefined"!=typeof document?document:null}function xc(t){return new PJ(t,!0)}class JI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=n,this.fo=r,this._o=i,this.wo=s,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class aF{constructor(e,n,r,i,s,o,a,u){this.Yn=e,this.Ro=r,this.Po=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new JI(e,n)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return g(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return g(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,n){var r=this;return g(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(Ye(n.toString()),Ye("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):n&&n.code===v.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(n)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.qo(r,i)},r=>{e(()=>{const i=new D(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,n){const r=this.Uo(this.Vo);this.stream=this.Go(e,n),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){var e=this;this.state=5,this.Do.To(g(function*(){e.state=0,e.start()}))}Ko(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Yn.enqueueAndForget(()=>this.Vo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YX extends aF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.M=s}Go(e,n){return this.bo.lo("Listen",e,n)}onMessage(e){this.Do.reset();const n=function LJ(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:R(),i=e.targetChange.targetIds||[],s=function(u,c){return u.N?(B(void 0===c||"string"==typeof c),at.fromBase64String(c||"")):(B(void 0===c||c instanceof Uint8Array),at.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?v.UNKNOWN:rO(u.code);return new D(c,u.message||"")}(o);n=new oO(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=_r(t,r.document.name),s=gt(r.document.updateTime),o=new Lt({mapValue:{fields:r.document.fields}}),a=be.newFoundDocument(i,s,o);n=new Qh(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=_r(t,r.document),s=r.readTime?gt(r.readTime):L.min(),o=be.newNoDocument(i,s);n=new Qh([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=_r(t,r.document);n=new Qh([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return R();{const r=e.filter,s=new CJ(r.count||0);n=new sO(r.targetId,s)}}var u;return n}(this.M,e),r=function(i){if(!("targetChange"in i))return L.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?L.min():s.readTime?gt(s.readTime):L.min()}(e);return this.listener.Qo(n,r)}jo(e){const n={};n.database=wc(this.M),n.addTarget=function(i,s){let o;const a=s.target;return o=jh(a)?{documents:mO(i,a)}:{query:yO(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=lO(i,s.resumeToken):s.snapshotVersion.compareTo(L.min())>0&&(o.readTime=_c(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=function BJ(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return R()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=wc(this.M),n.removeTarget=e,this.Fo(n)}}class QX extends aF{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.M=s,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,n){return this.bo.lo("Write",e,n)}onMessage(e){if(B(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const n=function VJ(t,e){return t&&t.length>0?(B(void 0!==e),t.map(n=>function(r,i){let s=gt(r.updateTime?r.updateTime:i);return s.isEqual(L.min())&&(s=gt(i)),new IJ(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=gt(e.commitTime);return this.listener.Yo(r,n)}return B(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=wc(this.M),this.Fo(e)}Jo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Ec(t,e){let n;if(e instanceof fc)n={update:pO(t,e.key,e.value)};else if(e instanceof pc)n={delete:vc(t,e.key)};else if(e instanceof vs)n={update:pO(t,e.key,e.data),updateMask:GJ(e.fieldMask)};else{if(!(e instanceof II))return R();n={verify:vc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Qo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ys)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof _s)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Jo)return{fieldPath:s.field.canonicalString(),increment:o.k};throw R()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:OJ(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:R()),n;var i}(this.M,r))};this.Fo(n)}}class JX extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,n,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.oo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}ho(e,n,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ho(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class XX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Ye(n),this.iu=!1):b("OnlineStateTracker",n)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class ZX{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=s,this._u.Lr(a=>{r.enqueueAndForget(g(function*(){var u;Ti(o)&&(b("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=M(c);l.fu.add(4),yield aa(l),l.wu.set("Unknown"),l.fu.delete(4),yield Nc(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.wu=new XX(r,i)}}function Nc(t){return XI.apply(this,arguments)}function XI(){return XI=g(function*(t){if(Ti(t))for(const e of t.du)yield e(!0)}),XI.apply(this,arguments)}function aa(t){return ZI.apply(this,arguments)}function ZI(){return ZI=g(function*(t){for(const e of t.du)yield e(!1)}),ZI.apply(this,arguments)}function df(t,e){const n=M(t);n.lu.has(e.targetId)||(n.lu.set(e.targetId,e),nD(n)?tD(n):ca(n).xo()&&eD(n,e))}function kc(t,e){const n=M(t),r=ca(n);n.lu.delete(e),r.xo()&&uF(n,e),0===n.lu.size&&(r.xo()?r.Mo():Ti(n)&&n.wu.set("Unknown"))}function eD(t,e){t.mu.Z(e.targetId),ca(t).jo(e)}function uF(t,e){t.mu.Z(e),ca(t).Wo(e)}function tD(t){t.mu=new NJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.lu.get(e)||null}),ca(t).start(),t.wu.ru()}function nD(t){return Ti(t)&&!ca(t).Co()&&t.lu.size>0}function Ti(t){return 0===M(t).fu.size}function cF(t){t.mu=void 0}function eZ(t){return rD.apply(this,arguments)}function rD(){return rD=g(function*(t){t.lu.forEach((e,n)=>{eD(t,e)})}),rD.apply(this,arguments)}function tZ(t,e){return iD.apply(this,arguments)}function iD(){return iD=g(function*(t,e){cF(t),nD(t)?(t.wu.au(e),tD(t)):t.wu.set("Unknown")}),iD.apply(this,arguments)}function nZ(t,e,n){return sD.apply(this,arguments)}function sD(){return sD=g(function*(t,e,n){if(t.wu.set("Online"),e instanceof oO&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.lu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.lu.delete(a),i.mu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hf(t,r)}else if(e instanceof Qh?t.mu.ut(e):e instanceof sO?t.mu._t(e):t.mu.ht(e),!n.isEqual(L.min()))try{const r=yield JO(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.mu.yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.lu.get(u);c&&i.lu.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.lu.get(a);if(!u)return;i.lu.set(a,u.withResumeToken(at.EMPTY_BYTE_STRING,u.snapshotVersion)),uF(i,a);const c=new Ii(u.target,a,1,u.sequenceNumber);eD(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield hf(t,r)}var r}),sD.apply(this,arguments)}function hf(t,e,n){return oD.apply(this,arguments)}function oD(){return oD=g(function*(t,e,n){if(!ws(e))throw e;t.fu.add(1),yield aa(t),t.wu.set("Offline"),n||(n=()=>JO(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.fu.delete(1),yield Nc(t)}))}),oD.apply(this,arguments)}function lF(t,e){return e().catch(n=>hf(t,n,e))}function ua(t){return aD.apply(this,arguments)}function aD(){return aD=g(function*(t){const e=M(t),n=Ai(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;rZ(e);)try{const i=yield PX(e.localStore,r);if(null===i){0===e.hu.length&&n.Mo();break}r=i.batchId,iZ(e,i)}catch(i){yield hf(e,i)}dF(e)&&hF(e)}),aD.apply(this,arguments)}function rZ(t){return Ti(t)&&t.hu.length<10}function iZ(t,e){t.hu.push(e);const n=Ai(t);n.xo()&&n.Ho&&n.Jo(e.mutations)}function dF(t){return Ti(t)&&!Ai(t).Co()&&t.hu.length>0}function hF(t){Ai(t).start()}function sZ(t){return uD.apply(this,arguments)}function uD(){return uD=g(function*(t){Ai(t).Zo()}),uD.apply(this,arguments)}function oZ(t){return cD.apply(this,arguments)}function cD(){return cD=g(function*(t){const e=Ai(t);for(const n of t.hu)e.Jo(n.mutations)}),cD.apply(this,arguments)}function aZ(t,e,n){return lD.apply(this,arguments)}function lD(){return lD=g(function*(t,e,n){const r=t.hu.shift(),i=MI.from(r,e,n);yield lF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ua(t)}),lD.apply(this,arguments)}function uZ(t,e){return dD.apply(this,arguments)}function dD(){return dD=g(function*(t,e){var n;e&&Ai(t).Ho&&(yield(n=g(function*(r,i){if(nO(s=i.code)&&s!==v.ABORTED){const o=r.hu.shift();Ai(r).ko(),yield lF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield ua(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),dF(t)&&hF(t)}),dD.apply(this,arguments)}function fF(t,e){return hD.apply(this,arguments)}function hD(){return hD=g(function*(t,e){const n=M(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const r=Ti(n);n.fu.add(3),yield aa(n),r&&n.wu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.fu.delete(3),yield Nc(n)}),hD.apply(this,arguments)}function pD(){return pD=g(function*(t,e){const n=M(t);e?(n.fu.delete(2),yield Nc(n)):e||(n.fu.add(2),yield aa(n),n.wu.set("Unknown"))}),pD.apply(this,arguments)}function ca(t){return t.gu||(t.gu=function(e,n,r){const i=M(e);return i.eu(),new YX(n,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Hr:eZ.bind(null,t),Yr:tZ.bind(null,t),Qo:nZ.bind(null,t)}),t.du.push(function(){var e=g(function*(n){n?(t.gu.ko(),nD(t)?tD(t):t.wu.set("Unknown")):(yield t.gu.stop(),cF(t))});return function(n){return e.apply(this,arguments)}}())),t.gu}function Ai(t){return t.yu||(t.yu=function(e,n,r){const i=M(e);return i.eu(),new QX(n,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Hr:sZ.bind(null,t),Yr:uZ.bind(null,t),Xo:oZ.bind(null,t),Yo:aZ.bind(null,t)}),t.du.push(function(){var e=g(function*(n){n?(t.yu.ko(),yield ua(t)):(yield t.yu.stop(),t.hu.length>0&&(b("RemoteStore",`Stopping write stream with ${t.hu.length} pending writes`),t.hu=[]))});return function(n){return e.apply(this,arguments)}}())),t.yu}class gD{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new gD(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function la(t,e){if(Ye("AsyncQueue",`${e}: ${t}`),ws(t))return new D(v.UNAVAILABLE,`${e}: ${t}`);throw t}class da{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=DI(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new da(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof da)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class pF{constructor(){this.pu=new je(S.comparator)}track(e){const n=e.doc.key,r=this.pu.get(n);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(n,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(n):1===e.type&&2===r.type?this.pu=this.pu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):R():this.pu=this.pu.insert(n,e)}Iu(){const e=[];return this.pu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ha{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new ha(e,n,da.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class cZ{constructor(){this.Tu=void 0,this.listeners=[]}}class lZ{constructor(){this.queries=new Ei(e=>UP(e),dc),this.onlineState="Unknown",this.Eu=new Set}}function yD(){return yD=g(function*(t,e){const n=M(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new cZ),i)try{s.Tu=yield n.onListen(r)}catch(o){const a=la(o,`Initialization of query '${vI(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Au(n.onlineState),s.Tu&&e.Ru(s.Tu)&&wD(n)}),yD.apply(this,arguments)}function vD(){return vD=g(function*(t,e){const n=M(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),vD.apply(this,arguments)}function dZ(t,e){const n=M(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Ru(i)&&(r=!0);o.Tu=i}}r&&wD(n)}function hZ(t,e,n){const r=M(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function wD(t){t.Eu.forEach(e=>{e.next()})}class ED{constructor(e,n,r){this.query=e,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),n=!0):this.Su(e,this.onlineState)&&(this.Du(e),n=!0),this.Vu=e,n}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let n=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),n=!0),n}Su(e,n){return!e.fromCache||!(this.options.Cu&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class yF{constructor(e){this.key=e}}class _F{constructor(e){this.key=e}}class vF{constructor(e,n){this.query=e,this.$u=n,this.Bu=null,this.current=!1,this.Lu=de(),this.mutatedKeys=de(),this.Uu=$P(e),this.qu=new da(this.Uu)}get Ku(){return this.$u}Gu(e,n){const r=n?n.Qu:new pF,i=n?n.qu:this.qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=Hh(this.query)&&i.size===this.query.limit?i.last():null,c=Gh(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=wI(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),_=!0):this.ju(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.Uu(f,u)>0||c&&this.Uu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||c)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),Hh(this.query)||Gh(this.query))for(;o.size>this.query.limit;){const l=Hh(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{qu:o,Qu:r,ni:a,mutatedKeys:s}}ju(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const s=e.Qu.Iu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R()}};return f(d)-f(h)}(c.type,l.type)||this.Uu(c.doc,l.doc)),this.Wu(r);const o=n?this.zu():[],a=0===this.Lu.size&&this.current?1:0,u=a!==this.Bu;return this.Bu=a,0!==s.length||u?{snapshot:new ha(this.query,e.qu,i,s,e.mutatedKeys,0===a,u,!1),Hu:o}:{Hu:o}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new pF,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(n=>this.$u=this.$u.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.$u=this.$u.delete(n)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=de(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const n=[];return e.forEach(r=>{this.Lu.has(r)||n.push(new _F(r))}),this.Lu.forEach(r=>{e.has(r)||n.push(new yF(r))}),n}Yu(e){this.$u=e.li,this.Lu=de();const n=this.Gu(e.documents);return this.applyChanges(n,!0)}Xu(){return ha.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class gZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mZ{constructor(e){this.key=e,this.Zu=!1}}class yZ{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new Ei(a=>UP(a),dc),this.na=new Map,this.sa=new Set,this.ia=new je(S.comparator),this.ra=new Map,this.oa=new qI,this.ua={},this.aa=new Map,this.ca=Ts.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function _Z(t,e){return ID.apply(this,arguments)}function ID(){return ID=g(function*(t,e){const n=qD(t);let r,i;const s=n.ea.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Xu();else{const o=yield sa(n.localStore,kn(e));n.isPrimaryClient&&df(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield DD(n,e,r,"current"===a)}return i}),ID.apply(this,arguments)}function DD(t,e,n,r){return bD.apply(this,arguments)}function bD(){return bD=g(function*(t,e,n,r){t.la=(l,d,h)=>{return(f=g(function*(p,m,_,E){let y=m.view.Gu(_);y.ni&&(y=yield af(p.localStore,m.query,!1).then(({documents:O})=>m.view.Gu(O,y)));const T=E&&E.targetChanges.get(m.targetId),P=m.view.applyChanges(y,p.isPrimaryClient,T);return PD(p,m.targetId,P.Hu),P.snapshot}),function(p,m,_,E){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield af(t.localStore,e,!0),s=new vF(e,i.li),o=s.Gu(i.documents),a=yc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);PD(t,n,u.Hu);const c=new gZ(e,n,s);return t.ea.set(e,c),t.na.has(n)?t.na.get(n).push(e):t.na.set(n,[e]),u.snapshot}),bD.apply(this,arguments)}function vZ(t,e){return CD.apply(this,arguments)}function CD(){return CD=g(function*(t,e){const n=M(t),r=n.ea.get(e),i=n.na.get(r.targetId);if(i.length>1)return n.na.set(r.targetId,i.filter(s=>!dc(s,e))),void n.ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield oa(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),kc(n.remoteStore,r.targetId),fa(n,r.targetId)}).catch(As))):(fa(n,r.targetId),yield oa(n.localStore,r.targetId,!0))}),CD.apply(this,arguments)}function TD(){return TD=g(function*(t,e,n){const r=WD(t);try{const i=yield function(s,o){const a=M(s),u=Qe.now(),c=o.reduce((d,h)=>d.add(h.key),de());let l;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.ci.Ks(d,c).next(h=>{l=h;const f=[];for(const p of o){const m=bJ(p,l.get(p.key));null!=m&&f.push(new vs(p.key,m,xP(m.value.mapValue),Je.exists(!0)))}return a.Bs.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(l),{batchId:d.batchId,changes:l}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.ua[s.currentUser.toKey()];u||(u=new je(K)),u=u.insert(o,a),s.ua[s.currentUser.toKey()]=u}(r,i.batchId,n),yield zr(r,i.changes),yield ua(r.remoteStore)}catch(i){const s=la(i,"Failed to persist write");n.reject(s)}}),TD.apply(this,arguments)}function wF(t,e){return AD.apply(this,arguments)}function AD(){return AD=g(function*(t,e){const n=M(t);try{const r=yield RX(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ra.get(s);o&&(B(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Zu=!0:i.modifiedDocuments.size>0?B(o.Zu):i.removedDocuments.size>0&&(B(o.Zu),o.Zu=!1))}),yield zr(n,r,e)}catch(r){yield As(r)}}),AD.apply(this,arguments)}function EF(t,e,n){const r=M(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ea.forEach((s,o)=>{const a=o.view.Au(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=M(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Au(o)&&(u=!0)}),u&&wD(a)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function EZ(t,e,n){return SD.apply(this,arguments)}function SD(){return SD=g(function*(t,e,n){const r=M(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ra.get(e),s=i&&i.key;if(s){let o=new je(S.comparator);o=o.insert(s,be.newNoDocument(s,L.min()));const a=de().add(s),u=new mc(L.min(),new Map,new Ce(K),o,a);yield wF(r,u),r.ia=r.ia.remove(s),r.ra.delete(e),OD(r)}else yield oa(r.localStore,e,!1).then(()=>fa(r,e,n)).catch(As)}),SD.apply(this,arguments)}function IZ(t,e){return MD.apply(this,arguments)}function MD(){return MD=g(function*(t,e){const n=M(t),r=e.batch.batchId;try{const i=yield kX(n.localStore,e);RD(n,r,null),kD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield zr(n,i)}catch(i){yield As(i)}}),MD.apply(this,arguments)}function DZ(t,e,n){return xD.apply(this,arguments)}function xD(){return xD=g(function*(t,e,n){const r=M(t);try{const i=yield function(s,o){const a=M(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.Bs.lookupMutationBatch(u,o).next(l=>(B(null!==l),c=l.keys(),a.Bs.removeMutationBatch(u,l))).next(()=>a.Bs.performConsistencyCheck(u)).next(()=>a.ci.Ks(u,c))})}(r.localStore,e);RD(r,e,n),kD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield zr(r,i)}catch(i){yield As(i)}}),xD.apply(this,arguments)}function kD(t,e){(t.aa.get(e)||[]).forEach(n=>{n.resolve()}),t.aa.delete(e)}function RD(t,e,n){const r=M(t);let i=r.ua[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ua[r.currentUser.toKey()]=i}}function fa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.na.get(e))t.ea.delete(r),n&&t.ta.fa(r,n);t.na.delete(e),t.isPrimaryClient&&t.oa.Pi(e).forEach(r=>{t.oa.containsKey(r)||IF(t,r)})}function IF(t,e){t.sa.delete(e.path.canonicalString());const n=t.ia.get(e);null!==n&&(kc(t.remoteStore,n),t.ia=t.ia.remove(e),t.ra.delete(n),OD(t))}function PD(t,e,n){for(const r of n)r instanceof yF?(t.oa.addReference(r.key,e),CZ(t,r)):r instanceof _F?(b("SyncEngine","Document no longer in limbo: "+r.key),t.oa.removeReference(r.key,e),t.oa.containsKey(r.key)||IF(t,r.key)):R()}function CZ(t,e){const n=e.key,r=n.path.canonicalString();t.ia.get(n)||t.sa.has(r)||(b("SyncEngine","New document in limbo: "+n),t.sa.add(r),OD(t))}function OD(t){for(;t.sa.size>0&&t.ia.size<t.maxConcurrentLimboResolutions;){const e=t.sa.values().next().value;t.sa.delete(e);const n=new S(oe.fromString(e)),r=t.ca.next();t.ra.set(r,new mZ(n)),t.ia=t.ia.insert(n,r),df(t.remoteStore,new Ii(kn(Ko(n.path)),r,2,wn.A))}}function zr(t,e,n){return FD.apply(this,arguments)}function FD(){return FD=g(function*(t,e,n){const r=M(t),i=[],s=[],o=[];var a;r.ea.isEmpty()||(r.ea.forEach((a,u)=>{o.push(r.la(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=UI.Ys(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.ta.Qo(i),yield(a=g(function*(u,c){const l=M(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Hs,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Js,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ws(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.ii.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.ii=l.ii.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),FD.apply(this,arguments)}function TZ(t,e){return LD.apply(this,arguments)}function LD(){return LD=g(function*(t,e){const n=M(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());const r=yield QO(n.localStore,e);n.currentUser=e,(i=n).aa.forEach(o=>{o.forEach(a=>{a.reject(new D(v.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.aa.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield zr(n,r.hi)}var i}),LD.apply(this,arguments)}function AZ(t,e){const n=M(t),r=n.ra.get(e);if(r&&r.Zu)return de().add(r.key);{let i=de();const s=n.na.get(e);if(!s)return i;for(const o of s){const a=n.ea.get(o);i=i.unionWith(a.view.Ku)}return i}}function qD(t){const e=M(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EZ.bind(null,e),e.ta.Qo=dZ.bind(null,e.eventManager),e.ta.fa=hZ.bind(null,e.eventManager),e}function WD(t){const e=M(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DZ.bind(null,e),e}class FZ{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.M=xc(e.databaseInfo.databaseId),n.sharedClientState=n._a(e),n.persistence=n.wa(e),yield n.persistence.start(),n.gcScheduler=n.ma(e),n.localStore=n.ga(e)})()}ma(e){return null}ga(e){return function YO(t,e,n,r){return new NX(t,e,n,r)}(this.persistence,new KO,e.initialUser,this.M)}wa(e){return new HX(WI.zi,this.M)}_a(e){return new iF}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zD{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>EF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=TZ.bind(null,r.syncEngine),yield function fD(t,e){return pD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lZ}createDatastore(e){const n=xc(e.databaseInfo.databaseId),r=new KX(e.databaseInfo);return new JX(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>EF(this.syncEngine,a,0),o=sF.vt()?new sF:new qX,new ZX(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new yZ(r,i,s,o,a,u);return c&&(l.ha=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=M(n);b("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield aa(r),r._u.shutdown(),r.wu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class ff{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class $Z{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=mP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){b("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(b("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new pt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=la(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function TF(t,e){return KD.apply(this,arguments)}function KD(){return KD=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield QO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),KD.apply(this,arguments)}function AF(t,e){return YD.apply(this,arguments)}function YD(){return YD=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield QD(t);b("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>fF(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>fF(e.remoteStore,s)),t.onlineComponents=e}),YD.apply(this,arguments)}function QD(t){return JD.apply(this,arguments)}function JD(){return JD=g(function*(t){return t.offlineComponents||(b("FirestoreClient","Using default OfflineComponentProvider"),yield TF(t,new FZ)),t.offlineComponents}),JD.apply(this,arguments)}function pf(t){return XD.apply(this,arguments)}function XD(){return XD=g(function*(t){return t.onlineComponents||(b("FirestoreClient","Using default OnlineComponentProvider"),yield AF(t,new zD)),t.onlineComponents}),XD.apply(this,arguments)}function pa(t){return tb.apply(this,arguments)}function tb(){return tb=g(function*(t){const e=yield pf(t),n=e.eventManager;return n.onListen=_Z.bind(null,e.syncEngine),n.onUnlisten=vZ.bind(null,e.syncEngine),n}),tb.apply(this,arguments)}const kF=new Map;function nb(t,e,n){if(!n)throw new D(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RF(t){if(!S.isDocumentKey(t))throw new D(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":R()}function ue(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gf(t);throw new D(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class FF{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function JZ(t,e,n,r){if(!0===e&&!0===r)throw new D(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rc{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FF({}),this._settingsFrozen=!1,e instanceof _i?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new D(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _i(i.options.projectId)}(e))}get app(){if(!this._app)throw new D(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FF(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new KQ;switch(n.type){case"gapi":const r=n.client;return B(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new XQ(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new D(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=kF.get(e);n&&(b("ComponentProvider","Removing Datastore"),kF.delete(e),n.terminate())}(this),Promise.resolve()}}class $e{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $e(this.firestore,e,this._key)}}class Vt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vt(this.firestore,e,this._query)}}class wr extends Vt{constructor(e,n,r){super(e,n,Ko(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $e(this.firestore,null,new S(e))}withConverter(e){return new wr(this.firestore,e,this._path)}}function LF(t,e,...n){if(t=Kt(t),1===arguments.length&&(e=mP.R()),nb("doc","path",e),t instanceof Rc){const r=oe.fromString(e,...n);return RF(r),new $e(t,null,new S(r))}{if(!(t instanceof $e||t instanceof wr))throw new D(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(oe.fromString(e,...n));return RF(r),new $e(t.firestore,t instanceof wr?t.converter:null,new S(r))}}class ZZ{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new JI(this,"async_queue_retry"),this.qa=()=>{const n=lf();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Do.Ao()};const e=lf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const n=lf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const n=new pt;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return g(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(n){if(!ws(n))throw n;b("AsyncQueue","Operation failed with retryable error: "+n)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const n=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,Ye("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=n,n}enqueueAfterDelay(e,n,r){this.Ka(),this.Ua.indexOf(e)>-1&&(n=0);const i=gD.createAndSchedule(this,e,n,r,s=>this.ja(s));return this.Fa.push(i),i}Ka(){this.$a&&R()}verifyOperationInProgress(){}Wa(){var e=this;return g(function*(){let n;do{n=e.ka,yield n}while(n!==e.ka)})()}za(e){for(const n of this.Fa)if(n.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Fa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const n=this.Fa.indexOf(e);this.Fa.splice(n,1)}}function rb(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ne extends Rc{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new ZZ,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||VF(this),this._firestoreClient.terminate()}}function tee(t=_y()){return So(t,"firestore").getImmediate()}function ut(t){return t._firestoreClient||VF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function VF(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new rJ(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new $Z(t._authCredentials,t._appCheckCredentials,t._queue,r)}class ga{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ms(at.fromBase64String(e))}catch(n){throw new D(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ms(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jF{constructor(e){this._methodName=e}}class ib{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}const nee=/^__.*__$/;class ree{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new fc(e,this.data,n,this.fieldTransforms)}}function HF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R()}}class mf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Ya(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new mf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Za({path:r,ec:!1});return i.nc(e),i}sc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return _f(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(HF(this.Xa)&&nee.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class iee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=r||xc(e)}ac(e,n,r,i=!1){return new mf({Xa:e,methodName:n,uc:r,path:Ct.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function ma(t){const e=t._freezeSettings(),n=xc(t._databaseId);return new iee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sb(t,e,n,r,i,s={}){const o=t.ac(s.merge||s.mergeFields?2:0,e,n,i);ab("Data must be an object, but it was:",o,r);const a=KF(r,o);let u,c;if(s.merge)u=new qo(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=ub(e,d,n);if(!o.contains(h))throw new D(v.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);QF(l,h)||l.push(h)}u=new qo(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new ree(new Lt(a),u,c)}function xs(t,e){if(YF(t=Kt(t)))return ab("Unsupported field value:",e,t),KF(t,e);if(t instanceof jF)return function(n,r){if(!HF(r.Xa))throw r.rc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=xs(o,r.ic(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Kt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return qP(r.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Qe.fromDate(n);return{timestampValue:_c(r.M,i)}}if(n instanceof Qe){const i=new Qe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:_c(r.M,i)}}if(n instanceof ib)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ms)return{bytesValue:lO(r.M,n._byteString)};if(n instanceof $e){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.rc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:bI(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.rc(`Unsupported field value: ${gf(n)}`)}(t,e)}function KF(t,e){const n={};return vP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(t,(r,i)=>{const s=xs(i,e.tc(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function YF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof ib||t instanceof Ms||t instanceof $e||t instanceof jF)}function ab(t,e,n){if(!YF(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=gf(n);throw e.rc("an object"===r?t+" a custom object":t+" "+r)}var r}function ub(t,e,n){if((e=Kt(e))instanceof ga)return e._internalPath;if("string"==typeof e)return yf(t,e);throw _f("Field path arguments must be of type string or ",t,!1,void 0,n)}const uee=new RegExp("[~\\*/\\[\\]]");function yf(t,e,n){if(e.search(uee)>=0)throw _f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ga(...e.split("."))._internalPath}catch(r){throw _f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _f(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(v.INVALID_ARGUMENT,a+t+u)}function QF(t,e){return t.some(n=>n.isEqual(e))}class cb{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $e(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class cee extends cb{data(){return super.data()}}function vf(t,e){return"string"==typeof e?yf(t,e):e instanceof ga?e._internalPath:e._delegate._internalPath}class Ns{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ya extends cb{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wf extends ya{data(e={}){return super.data(e)}}class _a{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ns(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wf(this._firestore,this._userDataWriter,r.key,r,new Ns(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new wf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ns(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new wf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ns(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:lee(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R()}}class ks extends class fee{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw R()}}convertObject(e,n){const r={};return ls(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ib(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wP(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const n=yi(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=oe.fromString(e);B(wO(r));const i=new _i(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(n)||Ye(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ms(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $e(this.firestore,null,n)}}function gee(t,e,n){t=ue(t,$e);const r=ue(t.firestore,Ne),i=function lb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return function Oc(t,e){return function(n,r){const i=new pt;return n.asyncQueue.enqueueAndForget(g(function*(){return function wZ(t,e,n){return TD.apply(this,arguments)}(yield function eb(t){return pf(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(ut(t),e)}(r,[sb(ma(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Je.none())])}!function(t,e=!0){Ho="9.6.11",Yt(new Ot("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Ne(i,new QQ(n.getProvider("auth-internal")),new ZQ(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Le(fP,"3.4.8",t),Le(fP,"3.4.8","esm2017")}();var _ee={includeMetadataChanges:!1};function hb(t,e){return void 0===e&&(e=_ee),new He(function(n){var r=function mee(t,...e){var n,r,i;t=Kt(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||rb(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(rb(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof $e)c=ue(t.firestore,Ne),l=Ko(t._key.path),u={next:d=>{e[o]&&e[o](function db(t,e,n){const r=n.docs.get(e._key),i=new ks(t);return new ya(t,i,e._key,r,new Ns(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ue(t,Vt);c=ue(d.firestore,Ne),l=d._query;const h=new ks(c);u={next:f=>{e[o]&&e[o](new _a(c,h,d,f))},error:e[o+1],complete:e[o+2]},function JF(t){if(Gh(t)&&0===t.explicitOrderBy.length)throw new D(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new ff(p),_=new ED(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function mD(t,e){return yD.apply(this,arguments)}(yield pa(d),_)})),()=>{m.Ia(),d.asyncQueue.enqueueAndForget(g(function*(){return function _D(t,e){return vD.apply(this,arguments)}(yield pa(d),_)}))}}(ut(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function wee(t,e){return void 0===e&&(e={}),function vee(t){return hb(t,{includeMetadataChanges:!0})}(t).pipe(xi(function(n){return function oL(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(n,e)}))}class If{constructor(e){return e}}const lL="firestore",gb=new ee("angularfire2.firestore-instances");function See(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new If(r)}}const Mee={provide:class Tee{constructor(){return nv(lL)}},deps:[[new $t,gb]]},xee={provide:If,useFactory:function Aee(t,e){const n=tv(lL,t,e);return n&&new If(n)},deps:[[new $t,gb],Po]};let Nee=(()=>{class t{constructor(){Le("angularfire",Bd.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ln({type:t}),t.\u0275inj=In({providers:[xee,Mee]}),t})();function kee(t,...e){return{ngModule:Nee,providers:[{provide:gb,useFactory:See(t),multi:!0,deps:[rt,_t,rv,iv,[new $t,Jk],[new $t,Ev],...e]}]}}const dL=Qn(wee,!0),mb=Qn(LF,!0),Ree=Qn(tee,!0),Pee=Qn(gee,!0),hL_firebase={apiKey:"AIzaSyCShVs_21ZN-KpiDGJBGvm6RivRpENCvGc",authDomain:"nxcoder-app.firebaseapp.com",projectId:"nxcoder-app",storageBucket:"nxcoder-app.appspot.com",messagingSenderId:"905119792725",appId:"1:905119792725:web:db8a9d1c9355acc6609edc",measurementId:"G-0S12ZX2FQW"},Fee=va(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});let Kr=(()=>{class t{constructor(n,r){this.firestore=n,this.auth=r,this.user$=OY(r).pipe(ex(i=>i?dL(mb(this.firestore,`users/${i.uid}`)).pipe(xi(s=>({uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL,saved:s.saved,isPro:s.isPro}))):function Oee(...t){return qc(t,Gb(t))}(null)))}createAccount(n){var r=this;return g(function*(){if(!n.displayName||!n.email||!n.password)throw Error("Insufficient information");const i=yield function $K(t,e,n){return bw.apply(this,arguments)}(r.auth,n.email,n.password);yield UY(i.user,{displayName:n.displayName}),yield r.updateUserDoc(i.user),location.pathname="/dashboard"})()}loginWithGoogle(){var n=this;return g(function*(){const r=yield VY(n.auth,new OK);(function Lee(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const s=new wa({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Fee)}});t.subscribe(s)})})(dL(mb(n.firestore,`users/${r.user.uid}`)))||(yield n.updateUserDoc(r.user)),history.back()})()}login(n){var r=this;return g(function*(){if(!n.email||!n.password)throw Error("Invalid credentials");yield LY(r.auth,n.email,n.password),history.back()})()}updateUserDoc(n,r){var i=this;return g(function*(){console.log("DATA",r),console.log("USER",n);const s={displayName:n.displayName,email:n.email,photoURL:n.photoURL,uid:n.uid,isPro:!1,saved:[]};r&&r.saved&&(s.saved=r.saved),console.log(s),yield Pee(mb(i.firestore,`users/${n.uid}`),s,{merge:!0})})()}logout(){var n=this;return g(function*(){yield BY(n.auth),location.pathname="/"})()}}return t.\u0275fac=function(n){return new(n||t)(ie(If),ie(lh))},t.\u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Vee(t,e){if(1&t&&(j(0,"span"),tt(1,"img",1),$()),2&t){const n=Gt().ngIf;ce(1),me("src",n.photoURL,Ua)("alt",n.displayName)}}function Bee(t,e){if(1&t&&(j(0,"span")(1,"span"),ye(2),$()()),2&t){const n=Gt().ngIf;ce(2),si(n.displayName)}}function Uee(t,e){if(1&t&&(j(0,"span")(1,"span"),ye(2),$()()),2&t){const n=Gt().ngIf;ce(2),si(n.email)}}function jee(t,e){1&t&&(j(0,"span")(1,"span",2),ye(2,"PRO"),$()())}function $ee(t,e){if(1&t&&(j(0,"span")(1,"span"),ye(2),$()()),2&t){const n=Gt().ngIf,r=Gt();ce(2),si(r.shortName(n.displayName))}}function Hee(t,e){if(1&t&&(j(0,"span"),Se(1,Vee,2,2,"span",0),Se(2,Bee,3,1,"span",0),Se(3,Uee,3,1,"span",0),Se(4,jee,3,0,"span",0),Se(5,$ee,3,1,"span",0),$()),2&t){const n=Gt();ce(1),me("ngIf","photoURL"===n.field),ce(1),me("ngIf","displayName"===n.field),ce(1),me("ngIf","email"===n.field),ce(1),me("ngIf","isPro"===n.field),ce(1),me("ngIf","shortName"===n.field)}}let Gee=(()=>{class t{constructor(n){this.auth=n}shortName(n){const[r,i]=n.split(" ");return i?`${r[0]}. ${i}`:r}}return t.\u0275fac=function(n){return new(n||t)(C(Kr))},t.\u0275cmp=tn({type:t,selectors:[["app-user-data"]],inputs:{field:"field"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"user-image",3,"src","alt"],[1,"pro-badge"]],template:function(n,r){1&n&&(Se(0,Hee,6,5,"span",0),xr(1,"async")),2&n&&me("ngIf",Nr(1,1,r.auth.user$))},directives:[hr],pipes:[Gi],styles:[".user-image{height:30px;width:30px;border-radius:100%;vertical-align:middle}\n"],encapsulation:3}),t})(),fL=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=tn({type:t,selectors:[["app-place-holder"]],inputs:{height:"height"},decls:1,vars:2,consts:[[1,"place-holder"]],template:function(n,r){1&n&&tt(0,"div",0),2&n&&Tg("height",r.height)},encapsulation:2}),t})(),pL=(()=>{class t{constructor(n){this.auth=n}}return t.\u0275fac=function(n){return new(n||t)(C(Kr))},t.\u0275cmp=tn({type:t,selectors:[["app-google-button"]],decls:8,vars:0,consts:[["type","button",1,"google-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48","width","25px","height","25px"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"]],template:function(n,r){1&n&&(j(0,"button",0),Oe("click",function(){return r.auth.loginWithGoogle()}),function I0(){U.lFrame.currentNamespace="svg"}(),j(1,"svg",1),tt(2,"path",2)(3,"path",3)(4,"path",4)(5,"path",5),$(),function D0(){!function KV(){U.lFrame.currentNamespace=null}()}(),j(6,"span"),ye(7,"Continue with Google"),$()())},encapsulation:2}),t})();function qee(t,e){if(1&t&&(j(0,"div",17)(1,"p"),ye(2),$()()),2&t){const n=Gt();ce(2),Bi("Logged in as ",n.user.email,"")}}function Wee(t,e){1&t&&(j(0,"div"),tt(1,"app-place-holder",18),$())}function zee(t,e){if(1&t&&(j(0,"div",19),ye(1),$()),2&t){const n=Gt();ce(1),Bi(" ",n.error," ")}}function Kee(t,e){if(1&t){const n=Ja();j(0,"div",7)(1,"label",20),ye(2,"Enter name"),$(),j(3,"input",21),Oe("ngModelChange",function(i){return Ca(n),Gt().displayName=i}),$()()}if(2&t){const n=Gt();ce(3),me("ngModel",n.displayName)}}let Yee=(()=>{class t{constructor(n){this.auth=n,this.state="login"}ngOnInit(){this.sub=this.auth.user$.subscribe(n=>{this.user=n})}onSubmit(){var n=this;return g(function*(){try{"login"===n.state&&(yield n.auth.login({email:n.email,password:n.password})),"signup"===n.state&&(yield n.auth.createAccount({email:n.email,password:n.password,displayName:n.displayName}))}catch(r){n.error=r.message}})()}oAuthLogin(n){var r=this;return g(function*(){try{"google"===n&&(yield r.auth.loginWithGoogle())}catch(i){if("auth/popup-closed-by-user"===i.code)return void(r.error="User cancelled login");r.error=i.message}})()}toggleState(){this.state="login"===this.state?"signup":"login"}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(C(Kr))},t.\u0275cmp=tn({type:t,selectors:[["app-login-form"]],decls:30,vars:10,consts:[[1,"login"],[1,"login__heading","heading"],[3,"ngSubmit"],["class","login__info info alert",4,"ngIf"],[4,"ngIf"],["class","login__error error alert",4,"ngIf"],["class","field",4,"ngIf"],[1,"field"],["for","email"],["type","email","name","email","placeholder","john.wick@example.com",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password",3,"ngModel","placeholder","ngModelChange"],[1,"login__actions"],["href","/reset-password"],[3,"click"],["type","submit",1,"btn","btn__primary","login__button"],[1,"or"],[1,"login__info","info","alert"],["height","34px"],[1,"login__error","error","alert"],["for","name"],["type","text","name","name","placeholder","John Wick",3,"ngModel","ngModelChange"]],template:function(n,r){1&n&&(j(0,"div",0)(1,"h1",1),ye(2),$(),j(3,"form",2),Oe("ngSubmit",function(){return r.onSubmit()}),Se(4,qee,3,1,"div",3),Se(5,Wee,2,0,"div",4),Se(6,zee,2,1,"div",5),Se(7,Kee,4,1,"div",6),j(8,"div",7)(9,"label",8),ye(10,"Enter email"),$(),j(11,"input",9),Oe("ngModelChange",function(s){return r.email=s}),$()(),j(12,"div",7)(13,"label",10),ye(14,"Enter password"),$(),j(15,"input",11),Oe("ngModelChange",function(s){return r.password=s}),$()(),j(16,"div",12)(17,"a",13),ye(18,"Forgot password?"),$(),ye(19," \xa0/\xa0 "),j(20,"a",14),Oe("click",function(){return r.toggleState()}),ye(21),$()(),j(22,"button",15),ye(23),$(),j(24,"div",16),ye(25,"- - - - - - - - "),j(26,"span"),ye(27,"OR"),$(),ye(28," - - - - - - - -"),$(),tt(29,"app-google-button"),$()()),2&n&&(ce(2),si("login"===r.state?"Login":"Create Account"),ce(2),me("ngIf",r.user),ce(1),me("ngIf",void 0===r.user),ce(1),me("ngIf",r.error),ce(1),me("ngIf","signup"===r.state),ce(4),me("ngModel",r.email),ce(4),me("ngModel",r.password)("placeholder","signup"===r.state?"at least 6 characters":"password"),ce(6),si("login"===r.state?"Create Account":"Login with email"),ce(2),Bi(" ","login"===r.state?"Login":"Create Account"," "))},directives:[Gx,Sx,Td,hr,fL,md,Ax,Jm,pL],encapsulation:2}),t})();function Qee(t,e){1&t&&tt(0,"slot")}function Jee(t,e){1&t&&tt(0,"slot",2)}let Xee=(()=>{class t{constructor(n){this.auth=n}ngOnInit(){this.sub=this.auth.user$.subscribe(n=>{this.user=n})}get allowed(){return!!("logged"===this.level&&this.user||"pro"===this.level&&this.user&&this.user.isPro)}ngOnDestroy(){this.sub.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(C(Kr))},t.\u0275cmp=tn({type:t,selectors:[["app-allow-if"]],inputs:{level:"level"},decls:2,vars:2,consts:[[4,"ngIf"],["name","else",4,"ngIf"],["name","else"]],template:function(n,r){1&n&&(Se(0,Qee,1,0,"slot",0),Se(1,Jee,1,0,"slot",1)),2&n&&(me("ngIf",r.allowed),ce(1),me("ngIf",!r.allowed))},directives:[hr],encapsulation:3}),t})();function Zee(t,e){1&t&&tt(0,"i",3)}function ete(t,e){1&t&&tt(0,"i",4)}let gL=(()=>{class t{constructor(){this.defaultTheme="light",this.current="light",localStorage.theme?document.body.classList.add(localStorage.theme):localStorage.theme=this.defaultTheme}toggle(){document.body.classList.toggle("dark"),document.body.classList.contains("dark")?(this.current="dark",localStorage.theme="dark"):(this.current="light",localStorage.theme="light")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=tn({type:t,selectors:[["app-theme-switcher"]],decls:3,vars:2,consts:[[3,"click"],["class","fa-solid fa-sun",4,"ngIf"],["class","fa-solid fa-moon",4,"ngIf"],[1,"fa-solid","fa-sun"],[1,"fa-solid","fa-moon"]],template:function(n,r){1&n&&(j(0,"a",0),Oe("click",function(){return r.toggle()}),Se(1,Zee,1,0,"i",1),Se(2,ete,1,0,"i",2),$()),2&n&&(ce(1),me("ngIf","dark"===r.current),ce(1),me("ngIf","light"===r.current))},directives:[hr],styles:["i[_ngcontent-%COMP%]{font-size:1.5rem}i[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),t})(),tte=(()=>{class t{constructor(n){this.auth=n,this.auth.user$.subscribe(r=>{this.user=r})}save(n){var r=this;return g(function*(){r.user.saved.push(n),yield r.auth.updateUserDoc(r.user,{saved:r.user.saved,isPro:r.user.isPro})})()}unsave(n){var r=this;return g(function*(){const i=r.user.saved.filter(s=>s!==n);yield r.auth.updateUserDoc(r.user,{saved:i,isPro:r.user.isPro})})()}getSaveMessage(n){return void 0===this.user?"login":this.user&&this.user.saved.includes(n)?"save":this.user&&!this.user.saved.includes(n)?"unsave":""}}return t.\u0275fac=function(n){return new(n||t)(ie(Kr))},t.\u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function nte(t,e){if(1&t){const n=Ja();j(0,"button",4),Oe("click",function(){Ca(n);const i=Gt(2);return i.saveService.unsave(i.slug)}),ye(1," Already Saved! "),$()}}function rte(t,e){if(1&t){const n=Ja();j(0,"button",5),Oe("click",function(){Ca(n);const i=Gt(2);return i.saveService.save(i.slug)}),ye(1," Save this blog "),$()}}function ite(t,e){if(1&t&&(Fl(0),Se(1,nte,2,0,"button",2),Se(2,rte,2,0,"ng-template",null,3,Kl),Ll()),2&t){const n=e.ngIf,r=Pl(3),i=Gt();ce(1),me("ngIf",n.saved.includes(i.slug))("ngIfElse",r)}}function ste(t,e){1&t&&(j(0,"a",6)(1,"button",7),ye(2,"Login to save"),$()())}let ote=(()=>{class t{constructor(n,r){this.saveService=n,this.auth=r}}return t.\u0275fac=function(n){return new(n||t)(C(tte),C(Kr))},t.\u0275cmp=tn({type:t,selectors:[["app-save-button"]],inputs:{slug:"slug"},decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["noUser",""],["class","save-btn btn btn__red__outlined",3,"click",4,"ngIf","ngIfElse"],["notSaved",""],[1,"save-btn","btn","btn__red__outlined",3,"click"],[1,"save-btn","btn","btn__green__outlined",3,"click"],["href","/login"],[1,"save-btn","btn","btn__primary__outlined"]],template:function(n,r){if(1&n&&(Se(0,ite,4,2,"ng-container",0),xr(1,"async"),Se(2,ste,3,0,"ng-template",null,1,Kl)),2&n){const i=Pl(3);me("ngIf",Nr(1,2,r.auth.user$))("ngIfElse",i)}},directives:[hr],pipes:[Gi],encapsulation:2}),t})();function ate(t,e){if(1&t){const n=Ja();j(0,"button",1),Oe("click",function(){return Ca(n),Gt().auth.logout()}),ye(1,"Logout"),$()}}let ute=(()=>{class t{constructor(n){this.auth=n}}return t.\u0275fac=function(n){return new(n||t)(C(Kr))},t.\u0275cmp=tn({type:t,selectors:[["app-logout-button"]],decls:2,vars:3,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(n,r){1&n&&(Se(0,ate,2,0,"button",0),xr(1,"async")),2&n&&me("ngIf",Nr(1,1,r.auth.user$))},directives:[hr],pipes:[Gi],encapsulation:2}),t})();function cte(t,e){if(1&t&&(j(0,"pre"),ye(1),xr(2,"json"),$()),2&t){const n=e.ngIf;ce(1),si(Nr(2,1,n))}}let lte=(()=>{class t{constructor(n){this.auth=n}}return t.\u0275fac=function(n){return new(n||t)(C(Kr))},t.\u0275cmp=tn({type:t,selectors:[["app-user-json"]],decls:2,vars:3,consts:[[4,"ngIf"]],template:function(n,r){1&n&&(Se(0,cte,3,3,"pre",0),xr(1,"async")),2&n&&me("ngIf",Nr(1,1,r.auth.user$))},directives:[hr],pipes:[Gi,bm],encapsulation:2}),t})(),dte=(()=>{class t{constructor(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=tn({type:t,selectors:[["app-loader"]],decls:2,vars:0,consts:[[1,"force-center"],[1,"rotate","fa-solid","fa-spinner-third"]],template:function(n,r){1&n&&(j(0,"div",0),tt(1,"i",1),$())},encapsulation:2}),t})();const hte=["addListener","removeListener"],fte=["addEventListener","removeEventListener"],pte=["on","off"];function yb(t,e,n,r){if(le(n)&&(r=n,n=void 0),r)return yb(t,e,n).pipe(tx(r));const[i,s]=function yte(t){return le(t.addEventListener)&&le(t.removeEventListener)}(t)?fte.map(o=>a=>t[o](e,a,n)):function gte(t){return le(t.addListener)&&le(t.removeListener)}(t)?hte.map(mL(t,e)):function mte(t){return le(t.on)&&le(t.off)}(t)?pte.map(mL(t,e)):[];if(!i&&xf(t))return Nf(o=>yb(o,e,n))(Er(t));if(!i)throw new TypeError("Invalid event target");return new He(o=>{const a=(...u)=>o.next(1<u.length?u:u[0]);return i(a),()=>s(a)})}function mL(t,e){return n=>r=>t[n](e,r)}function vte(t,e){return t===e}let Ete=(()=>{class t{find(n,r){return r.filter(i=>i.frontmatter.title.includes(n)||i.frontmatter.hashtags.includes(n)||i.frontmatter.headline.includes(n))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ite=["field"];function Dte(t,e){if(1&t&&(j(0,"div",4)(1,"pre"),ye(2),xr(3,"json"),$()()),2&t){const n=e.ngIf;ce(2),Bi("",Nr(3,1,n)," ")}}let bte=(()=>{class t{constructor(n){this.searchService=n}ngOnInit(){this._blogs=JSON.parse(this.blogs)}ngAfterViewInit(){this.searchedBlogs$=yb(this.field.nativeElement,"keyup").pipe(function _te(t,e=jc){return t=null!=t?t:vte,Zn((n,r)=>{let i,s=!0;n.subscribe(On(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),function wte(t,e=bN){return Zn((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function u(){const c=o+t,l=e.now();if(l<c)return i=this.schedule(void 0,c-l),void r.add(i);a()}n.subscribe(On(r,c=>{s=c,o=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(500),xi(n=>this.searchService.find(n.target.value,this._blogs)))}}return t.\u0275fac=function(n){return new(n||t)(C(Ete))},t.\u0275cmp=tn({type:t,selectors:[["app-search-bar"]],viewQuery:function(n,r){if(1&n&&Wg(Ite,5),2&n){let i;qg(i=zg())&&(r.field=i.first)}},inputs:{blogs:"blogs"},decls:5,vars:3,consts:[[1,"search"],["type","text","name","search","placeholder","search...",1,"search__field"],["field",""],["class","search__results",4,"ngIf"],[1,"search__results"]],template:function(n,r){1&n&&(j(0,"div",0),tt(1,"input",1,2),Se(3,Dte,4,3,"div",3),xr(4,"async"),$()),2&n&&(ce(3),me("ngIf",Nr(4,1,r.searchedBlogs$)))},directives:[hr],pipes:[Gi,bm],styles:[""]}),t})();const Cte=["links"];function Tte(t,e){if(1&t&&(j(0,"div")(1,"a",17),tt(2,"img",18),$()()),2&t){const n=e.ngIf;ce(2),me("src",n.photoURL,Ua)("alt",n.displayName)}}function Ate(t,e){1&t&&(j(0,"a",19),tt(1,"i",20),$())}const Ste=[[Gee,"user-data"],[Yee,"login-form"],[Xee,"allow-if"],[gL,"theme-switcher"],[ote,"save-button"],[fL,"place-holder"],[ute,"logout-button"],[pL,"google-button"],[lte,"user-json"],[dte,"element-loader"],[bte,"search-bar"],[(()=>{class t{constructor(n){this.auth=n,this.github="https://www.github.com/panesarpbx8/nxcoder"}ngOnInit(){}toggle(){this.links.nativeElement.classList.toggle("open"),console.log("toggle")}}return t.\u0275fac=function(n){return new(n||t)(C(Kr))},t.\u0275cmp=tn({type:t,selectors:[["app-nav-bar"]],viewQuery:function(n,r){if(1&n&&Wg(Cte,5),2&n){let i;qg(i=zg())&&(r.links=i.first)}},decls:25,vars:5,consts:[[1,"container"],[1,"logo"],["href","/"],[1,"menu",3,"click"],[1,"fa-solid","fa-bars-staggered"],[1,"links"],["links",""],[1,"link"],["href","/blogs"],["href","/hashtags"],[1,"buttons"],["target","_blank",3,"href"],[1,"fa-brands","fa-github"],["href","/search"],[1,"fa-solid","fa-magnifying-glass"],[4,"ngIf","ngIfElse"],["noUser",""],["href","/dashboard"],[3,"src","alt"],["href","/login"],[1,"fa-solid","fa-user-astronaut"]],template:function(n,r){if(1&n&&(j(0,"header")(1,"nav",0)(2,"div",1)(3,"a",2),ye(4,"NXCODER"),$()(),j(5,"div",3),Oe("click",function(){return r.toggle()}),tt(6,"i",4),$(),j(7,"div",5,6)(9,"div",7)(10,"a",8),ye(11,"Blogs"),$()(),j(12,"div",7)(13,"a",9),ye(14,"Hashtags"),$()(),j(15,"div",10)(16,"a",11),tt(17,"i",12),$(),tt(18,"app-theme-switcher"),j(19,"a",13),tt(20,"i",14),$(),Se(21,Tte,3,2,"div",15),xr(22,"async"),Se(23,Ate,2,0,"ng-template",null,16,Kl),$()()()()),2&n){const i=Pl(24);ce(16),me("href",r.github,Ua),ce(5),me("ngIf",Nr(22,3,r.auth.user$))("ngIfElse",i)}},directives:[gL,hr],pipes:[Gi],styles:['header[_ngcontent-%COMP%]{background-color:var(--bgv);transition:background-color .2s ease;box-shadow:var(--shadow);margin-bottom:2.5rem;height:4.5rem;position:sticky;top:0;z-index:10}nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1.5rem;height:100%}.logo[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.75rem}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Aquire,"Baloo Thambi 2",sans-serif}.menu[_ngcontent-%COMP%]{display:block}.menu[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.5rem}.open[_ngcontent-%COMP%]{transform:translate(0)!important}.links[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100%;width:100%;z-index:5;display:flex;flex-direction:column;align-items:flex-end;gap:2rem;transition:transform .2s ease-in-out;transform:translate(100%);background-color:var(--bgv);padding:4rem 2rem;margin-top:4.5rem}.links[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;align-items:flex-end}.links[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-size:1.1rem;text-transform:uppercase;letter-spacing:1px}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-dark)}.links[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.5rem}.links[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--primary-dark)}.links[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:100%;vertical-align:middle}@media screen and (min-width: 768px){.logo[_ngcontent-%COMP%]{font-size:2rem}.menu[_ngcontent-%COMP%]{display:none}.links[_ngcontent-%COMP%]{position:unset;top:unset;left:unset;height:unset;width:unset;z-index:unset;flex-direction:row;padding:0;margin-top:0;transform:unset}.links[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{flex-direction:row;align-items:center}}']}),t})(),"nav-bar"]];let Mte=(()=>{class t{constructor(n){this.injector=n}ngDoBootstrap(){for(const[n,r]of Ste){const i=UW(n,{injector:this.injector});customElements.define(r,i)}}}return t.\u0275fac=function(n){return new(n||t)(ie(_t))},t.\u0275mod=Ln({type:t}),t.\u0275inj=In({imports:[[gW,zz,t7(()=>n7(hL_firebase)),kee(()=>Ree()),PY(()=>FY())]]}),t})();(function iq(){gM=!1})(),fW().bootstrapModule(Mte).catch(t=>console.error(t))}},le=>{le(le.s=77)}]);
"use strict";(self.webpackChunknxcoder=self.webpackChunknxcoder||[]).push([[429],{435:(ie,Ee,de)=>{de(583)},583:()=>{!function(e){const n=e.performance;function i(M){n&&n.mark&&n.mark(M)}function o(M,E){n&&n.measure&&n.measure(M,E)}i("Zone");const c=e.__Zone_symbol_prefix||"__zone_symbol__";function a(M){return c+M}const T=!0===e[a("forceDuplicateZoneCheck")];if(e.Zone){if(T||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}let d=(()=>{class M{constructor(t,r){this._parent=t,this._name=r?r.name||"unnamed":"<root>",this._properties=r&&r.properties||{},this._zoneDelegate=new v(this,this._parent&&this._parent._zoneDelegate,r)}static assertZonePatched(){if(e.Promise!==oe.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=M.current;for(;t.parent;)t=t.parent;return t}static get current(){return U.zone}static get currentTask(){return re}static __load_patch(t,r,k=!1){if(oe.hasOwnProperty(t)){if(!k&&T)throw Error("Already loaded patch: "+t)}else if(!e["__Zone_disable_"+t]){const C="Zone:"+t;i(C),oe[t]=r(e,M,z),o(C,C)}}get parent(){return this._parent}get name(){return this._name}get(t){const r=this.getZoneWith(t);if(r)return r._properties[t]}getZoneWith(t){let r=this;for(;r;){if(r._properties.hasOwnProperty(t))return r;r=r._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,r){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const k=this._zoneDelegate.intercept(this,t,r),C=this;return function(){return C.runGuarded(k,this,arguments,r)}}run(t,r,k,C){U={parent:U,zone:this};try{return this._zoneDelegate.invoke(this,t,r,k,C)}finally{U=U.parent}}runGuarded(t,r=null,k,C){U={parent:U,zone:this};try{try{return this._zoneDelegate.invoke(this,t,r,k,C)}catch($){if(this._zoneDelegate.handleError(this,$))throw $}}finally{U=U.parent}}runTask(t,r,k){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||K).name+"; Execution: "+this.name+")");if(t.state===x&&(t.type===Q||t.type===P))return;const C=t.state!=y;C&&t._transitionTo(y,j),t.runCount++;const $=re;re=t,U={parent:U,zone:this};try{t.type==P&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,r,k)}catch(l){if(this._zoneDelegate.handleError(this,l))throw l}}finally{t.state!==x&&t.state!==h&&(t.type==Q||t.data&&t.data.isPeriodic?C&&t._transitionTo(j,y):(t.runCount=0,this._updateTaskCount(t,-1),C&&t._transitionTo(x,y,x))),U=U.parent,re=$}}scheduleTask(t){if(t.zone&&t.zone!==this){let k=this;for(;k;){if(k===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);k=k.parent}}t._transitionTo(X,x);const r=[];t._zoneDelegates=r,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(k){throw t._transitionTo(h,X,x),this._zoneDelegate.handleError(this,k),k}return t._zoneDelegates===r&&this._updateTaskCount(t,1),t.state==X&&t._transitionTo(j,X),t}scheduleMicroTask(t,r,k,C){return this.scheduleTask(new p(I,t,r,k,C,void 0))}scheduleMacroTask(t,r,k,C,$){return this.scheduleTask(new p(P,t,r,k,C,$))}scheduleEventTask(t,r,k,C,$){return this.scheduleTask(new p(Q,t,r,k,C,$))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||K).name+"; Execution: "+this.name+")");t._transitionTo(G,j,y);try{this._zoneDelegate.cancelTask(this,t)}catch(r){throw t._transitionTo(h,G),this._zoneDelegate.handleError(this,r),r}return this._updateTaskCount(t,-1),t._transitionTo(x,G),t.runCount=0,t}_updateTaskCount(t,r){const k=t._zoneDelegates;-1==r&&(t._zoneDelegates=null);for(let C=0;C<k.length;C++)k[C]._updateTaskCount(t.type,r)}}return M.__symbol__=a,M})();const b={name:"",onHasTask:(M,E,t,r)=>M.hasTask(t,r),onScheduleTask:(M,E,t,r)=>M.scheduleTask(t,r),onInvokeTask:(M,E,t,r,k,C)=>M.invokeTask(t,r,k,C),onCancelTask:(M,E,t,r)=>M.cancelTask(t,r)};class v{constructor(E,t,r){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=E,this._parentDelegate=t,this._forkZS=r&&(r&&r.onFork?r:t._forkZS),this._forkDlgt=r&&(r.onFork?t:t._forkDlgt),this._forkCurrZone=r&&(r.onFork?this.zone:t._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:t._interceptZS),this._interceptDlgt=r&&(r.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:t._invokeZS),this._invokeDlgt=r&&(r.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:t._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:t._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:t._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:t._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const k=r&&r.onHasTask;(k||t&&t._hasTaskZS)&&(this._hasTaskZS=k?r:b,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=E,r.onScheduleTask||(this._scheduleTaskZS=b,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),r.onInvokeTask||(this._invokeTaskZS=b,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),r.onCancelTask||(this._cancelTaskZS=b,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}fork(E,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,E,t):new d(E,t)}intercept(E,t,r){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,E,t,r):t}invoke(E,t,r,k,C){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,E,t,r,k,C):t.apply(r,k)}handleError(E,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,E,t)}scheduleTask(E,t){let r=t;if(this._scheduleTaskZS)this._hasTaskZS&&r._zoneDelegates.push(this._hasTaskDlgtOwner),r=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,E,t),r||(r=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=I)throw new Error("Task is missing scheduleFn.");R(t)}return r}invokeTask(E,t,r,k){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,E,t,r,k):t.callback.apply(r,k)}cancelTask(E,t){let r;if(this._cancelTaskZS)r=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,E,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");r=t.cancelFn(t)}return r}hasTask(E,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,E,t)}catch(r){this.handleError(E,r)}}_updateTaskCount(E,t){const r=this._taskCounts,k=r[E],C=r[E]=k+t;if(C<0)throw new Error("More tasks executed then were scheduled.");0!=k&&0!=C||this.hasTask(this.zone,{microTask:r.microTask>0,macroTask:r.macroTask>0,eventTask:r.eventTask>0,change:E})}}class p{constructor(E,t,r,k,C,$){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=E,this.source=t,this.data=k,this.scheduleFn=C,this.cancelFn=$,!r)throw new Error("callback is not defined");this.callback=r;const l=this;this.invoke=E===Q&&k&&k.useG?p.invokeTask:function(){return p.invokeTask.call(e,l,this,arguments)}}static invokeTask(E,t,r){E||(E=this),ee++;try{return E.runCount++,E.zone.runTask(E,t,r)}finally{1==ee&&_(),ee--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(x,X)}_transitionTo(E,t,r){if(this._state!==t&&this._state!==r)throw new Error(`${this.type} '${this.source}': can not transition to '${E}', expecting state '${t}'${r?" or '"+r+"'":""}, was '${this._state}'.`);this._state=E,E==x&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const L=a("setTimeout"),Z=a("Promise"),N=a("then");let J,B=[],H=!1;function q(M){if(J||e[Z]&&(J=e[Z].resolve(0)),J){let E=J[N];E||(E=J.then),E.call(J,M)}else e[L](M,0)}function R(M){0===ee&&0===B.length&&q(_),M&&B.push(M)}function _(){if(!H){for(H=!0;B.length;){const M=B;B=[];for(let E=0;E<M.length;E++){const t=M[E];try{t.zone.runTask(t,null,null)}catch(r){z.onUnhandledError(r)}}}z.microtaskDrainDone(),H=!1}}const K={name:"NO ZONE"},x="notScheduled",X="scheduling",j="scheduled",y="running",G="canceling",h="unknown",I="microTask",P="macroTask",Q="eventTask",oe={},z={symbol:a,currentZoneFrame:()=>U,onUnhandledError:W,microtaskDrainDone:W,scheduleMicroTask:R,showUncaughtError:()=>!d[a("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:W,patchMethod:()=>W,bindArguments:()=>[],patchThen:()=>W,patchMacroTask:()=>W,patchEventPrototype:()=>W,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>W,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>W,wrapWithCurrentZone:()=>W,filterProperties:()=>[],attachOriginToPatched:()=>W,_redefineProperty:()=>W,patchCallbacks:()=>W,nativeScheduleMicroTask:q};let U={parent:null,zone:new d(null,null)},re=null,ee=0;function W(){}o("Zone","Zone"),e.Zone=d}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const ie=Object.getOwnPropertyDescriptor,Ee=Object.defineProperty,de=Object.getPrototypeOf,ge=Object.create,Ve=Array.prototype.slice,Oe="addEventListener",Se="removeEventListener",Ze=Zone.__symbol__(Oe),Ne=Zone.__symbol__(Se),ce="true",ae="false",ke=Zone.__symbol__("");function Ie(e,n){return Zone.current.wrap(e,n)}function Me(e,n,i,o,c){return Zone.current.scheduleMacroTask(e,n,i,o,c)}const A=Zone.__symbol__,Pe="undefined"!=typeof window,Te=Pe?window:void 0,Y=Pe&&Te||"object"==typeof self&&self||global;function Le(e,n){for(let i=e.length-1;i>=0;i--)"function"==typeof e[i]&&(e[i]=Ie(e[i],n+"_"+i));return e}function Fe(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}const Be="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,we=!("nw"in Y)&&void 0!==Y.process&&"[object process]"==={}.toString.call(Y.process),je=!we&&!Be&&!(!Pe||!Te.HTMLElement),Ue=void 0!==Y.process&&"[object process]"==={}.toString.call(Y.process)&&!Be&&!(!Pe||!Te.HTMLElement),Re={},We=function(e){if(!(e=e||Y.event))return;let n=Re[e.type];n||(n=Re[e.type]=A("ON_PROPERTY"+e.type));const i=this||e.target||Y,o=i[n];let c;if(je&&i===Te&&"error"===e.type){const a=e;c=o&&o.call(this,a.message,a.filename,a.lineno,a.colno,a.error),!0===c&&e.preventDefault()}else c=o&&o.apply(this,arguments),null!=c&&!c&&e.preventDefault();return c};function qe(e,n,i){let o=ie(e,n);if(!o&&i&&ie(i,n)&&(o={enumerable:!0,configurable:!0}),!o||!o.configurable)return;const c=A("on"+n+"patched");if(e.hasOwnProperty(c)&&e[c])return;delete o.writable,delete o.value;const a=o.get,T=o.set,d=n.substr(2);let b=Re[d];b||(b=Re[d]=A("ON_PROPERTY"+d)),o.set=function(v){let p=this;!p&&e===Y&&(p=Y),p&&("function"==typeof p[b]&&p.removeEventListener(d,We),T&&T.call(p,null),p[b]=v,"function"==typeof v&&p.addEventListener(d,We,!1))},o.get=function(){let v=this;if(!v&&e===Y&&(v=Y),!v)return null;const p=v[b];if(p)return p;if(a){let L=a.call(this);if(L)return o.set.call(this,L),"function"==typeof v.removeAttribute&&v.removeAttribute(n),L}return null},Ee(e,n,o),e[c]=!0}function Xe(e,n,i){if(n)for(let o=0;o<n.length;o++)qe(e,"on"+n[o],i);else{const o=[];for(const c in e)"on"==c.substr(0,2)&&o.push(c);for(let c=0;c<o.length;c++)qe(e,o[c],i)}}const ne=A("originalInstance");function ve(e){const n=Y[e];if(!n)return;Y[A(e)]=n,Y[e]=function(){const c=Le(arguments,e);switch(c.length){case 0:this[ne]=new n;break;case 1:this[ne]=new n(c[0]);break;case 2:this[ne]=new n(c[0],c[1]);break;case 3:this[ne]=new n(c[0],c[1],c[2]);break;case 4:this[ne]=new n(c[0],c[1],c[2],c[3]);break;default:throw new Error("Arg list too long.")}},ue(Y[e],n);const i=new n(function(){});let o;for(o in i)"XMLHttpRequest"===e&&"responseBlob"===o||function(c){"function"==typeof i[c]?Y[e].prototype[c]=function(){return this[ne][c].apply(this[ne],arguments)}:Ee(Y[e].prototype,c,{set:function(a){"function"==typeof a?(this[ne][c]=Ie(a,e+"."+c),ue(this[ne][c],a)):this[ne][c]=a},get:function(){return this[ne][c]}})}(o);for(o in n)"prototype"!==o&&n.hasOwnProperty(o)&&(Y[e][o]=n[o])}function le(e,n,i){let o=e;for(;o&&!o.hasOwnProperty(n);)o=de(o);!o&&e[n]&&(o=e);const c=A(n);let a=null;if(o&&(!(a=o[c])||!o.hasOwnProperty(c))&&(a=o[c]=o[n],Fe(o&&ie(o,n)))){const d=i(a,c,n);o[n]=function(){return d(this,arguments)},ue(o[n],a)}return a}function lt(e,n,i){let o=null;function c(a){const T=a.data;return T.args[T.cbIdx]=function(){a.invoke.apply(this,arguments)},o.apply(T.target,T.args),a}o=le(e,n,a=>function(T,d){const b=i(T,d);return b.cbIdx>=0&&"function"==typeof d[b.cbIdx]?Me(b.name,d[b.cbIdx],b,c):a.apply(T,d)})}function ue(e,n){e[A("OriginalDelegate")]=n}let ze=!1,Ae=!1;function ft(){if(ze)return Ae;ze=!0;try{const e=Te.navigator.userAgent;(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/"))&&(Ae=!0)}catch(e){}return Ae}Zone.__load_patch("ZoneAwarePromise",(e,n,i)=>{const o=Object.getOwnPropertyDescriptor,c=Object.defineProperty,T=i.symbol,d=[],b=!0===e[T("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],v=T("Promise"),p=T("then");i.onUnhandledError=l=>{if(i.showUncaughtError()){const u=l&&l.rejection;u?console.error("Unhandled Promise rejection:",u instanceof Error?u.message:u,"; Zone:",l.zone.name,"; Task:",l.task&&l.task.source,"; Value:",u,u instanceof Error?u.stack:void 0):console.error(l)}},i.microtaskDrainDone=()=>{for(;d.length;){const l=d.shift();try{l.zone.runGuarded(()=>{throw l.throwOriginal?l.rejection:l})}catch(u){N(u)}}};const Z=T("unhandledPromiseRejectionHandler");function N(l){i.onUnhandledError(l);try{const u=n[Z];"function"==typeof u&&u.call(this,l)}catch(u){}}function B(l){return l&&l.then}function H(l){return l}function J(l){return t.reject(l)}const q=T("state"),R=T("value"),_=T("finally"),K=T("parentPromiseValue"),x=T("parentPromiseState"),j=null,y=!0,G=!1;function I(l,u){return s=>{try{z(l,u,s)}catch(f){z(l,!1,f)}}}const oe=T("currentTaskTrace");function z(l,u,s){const f=function(){let l=!1;return function(s){return function(){l||(l=!0,s.apply(null,arguments))}}}();if(l===s)throw new TypeError("Promise resolved with itself");if(l[q]===j){let g=null;try{("object"==typeof s||"function"==typeof s)&&(g=s&&s.then)}catch(w){return f(()=>{z(l,!1,w)})(),l}if(u!==G&&s instanceof t&&s.hasOwnProperty(q)&&s.hasOwnProperty(R)&&s[q]!==j)re(s),z(l,s[q],s[R]);else if(u!==G&&"function"==typeof g)try{g.call(s,f(I(l,u)),f(I(l,!1)))}catch(w){f(()=>{z(l,!1,w)})()}else{l[q]=u;const w=l[R];if(l[R]=s,l[_]===_&&u===y&&(l[q]=l[x],l[R]=l[K]),u===G&&s instanceof Error){const m=n.currentTask&&n.currentTask.data&&n.currentTask.data.__creationTrace__;m&&c(s,oe,{configurable:!0,enumerable:!1,writable:!0,value:m})}for(let m=0;m<w.length;)ee(l,w[m++],w[m++],w[m++],w[m++]);if(0==w.length&&u==G){l[q]=0;let m=s;try{throw new Error("Uncaught (in promise): "+function a(l){return l&&l.toString===Object.prototype.toString?(l.constructor&&l.constructor.name||"")+": "+JSON.stringify(l):l?l.toString():Object.prototype.toString.call(l)}(s)+(s&&s.stack?"\n"+s.stack:""))}catch(D){m=D}b&&(m.throwOriginal=!0),m.rejection=s,m.promise=l,m.zone=n.current,m.task=n.currentTask,d.push(m),i.scheduleMicroTask()}}}return l}const U=T("rejectionHandledHandler");function re(l){if(0===l[q]){try{const u=n[U];u&&"function"==typeof u&&u.call(this,{rejection:l[R],promise:l})}catch(u){}l[q]=G;for(let u=0;u<d.length;u++)l===d[u].promise&&d.splice(u,1)}}function ee(l,u,s,f,g){re(l);const w=l[q],m=w?"function"==typeof f?f:H:"function"==typeof g?g:J;u.scheduleMicroTask("Promise.then",()=>{try{const D=l[R],O=!!s&&_===s[_];O&&(s[K]=D,s[x]=w);const S=u.run(m,void 0,O&&m!==J&&m!==H?[]:[D]);z(s,!0,S)}catch(D){z(s,!1,D)}},s)}const M=function(){},E=e.AggregateError;class t{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(u){return z(new this(null),y,u)}static reject(u){return z(new this(null),G,u)}static any(u){if(!u||"function"!=typeof u[Symbol.iterator])return Promise.reject(new E([],"All promises were rejected"));const s=[];let f=0;try{for(let m of u)f++,s.push(t.resolve(m))}catch(m){return Promise.reject(new E([],"All promises were rejected"))}if(0===f)return Promise.reject(new E([],"All promises were rejected"));let g=!1;const w=[];return new t((m,D)=>{for(let O=0;O<s.length;O++)s[O].then(S=>{g||(g=!0,m(S))},S=>{w.push(S),f--,0===f&&(g=!0,D(new E(w,"All promises were rejected")))})})}static race(u){let s,f,g=new this((D,O)=>{s=D,f=O});function w(D){s(D)}function m(D){f(D)}for(let D of u)B(D)||(D=this.resolve(D)),D.then(w,m);return g}static all(u){return t.allWithCallback(u)}static allSettled(u){return(this&&this.prototype instanceof t?this:t).allWithCallback(u,{thenCallback:f=>({status:"fulfilled",value:f}),errorCallback:f=>({status:"rejected",reason:f})})}static allWithCallback(u,s){let f,g,w=new this((S,V)=>{f=S,g=V}),m=2,D=0;const O=[];for(let S of u){B(S)||(S=this.resolve(S));const V=D;try{S.then(F=>{O[V]=s?s.thenCallback(F):F,m--,0===m&&f(O)},F=>{s?(O[V]=s.errorCallback(F),m--,0===m&&f(O)):g(F)})}catch(F){g(F)}m++,D++}return m-=2,0===m&&f(O),w}constructor(u){const s=this;if(!(s instanceof t))throw new Error("Must be an instanceof Promise.");s[q]=j,s[R]=[];try{u&&u(I(s,y),I(s,G))}catch(f){z(s,!1,f)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return t}then(u,s){let f=this.constructor[Symbol.species];(!f||"function"!=typeof f)&&(f=this.constructor||t);const g=new f(M),w=n.current;return this[q]==j?this[R].push(w,g,u,s):ee(this,w,g,u,s),g}catch(u){return this.then(null,u)}finally(u){let s=this.constructor[Symbol.species];(!s||"function"!=typeof s)&&(s=t);const f=new s(M);f[_]=_;const g=n.current;return this[q]==j?this[R].push(g,f,u,u):ee(this,g,f,u,u),f}}t.resolve=t.resolve,t.reject=t.reject,t.race=t.race,t.all=t.all;const r=e[v]=e.Promise;e.Promise=t;const k=T("thenPatched");function C(l){const u=l.prototype,s=o(u,"then");if(s&&(!1===s.writable||!s.configurable))return;const f=u.then;u[p]=f,l.prototype.then=function(g,w){return new t((D,O)=>{f.call(this,D,O)}).then(g,w)},l[k]=!0}return i.patchThen=C,r&&(C(r),le(e,"fetch",l=>function $(l){return function(u,s){let f=l.apply(u,s);if(f instanceof t)return f;let g=f.constructor;return g[k]||C(g),f}}(l))),Promise[n.__symbol__("uncaughtPromiseErrors")]=d,t}),Zone.__load_patch("toString",e=>{const n=Function.prototype.toString,i=A("OriginalDelegate"),o=A("Promise"),c=A("Error"),a=function(){if("function"==typeof this){const v=this[i];if(v)return"function"==typeof v?n.call(v):Object.prototype.toString.call(v);if(this===Promise){const p=e[o];if(p)return n.call(p)}if(this===Error){const p=e[c];if(p)return n.call(p)}}return n.call(this)};a[i]=n,Function.prototype.toString=a;const T=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":T.call(this)}});let ye=!1;if("undefined"!=typeof window)try{const e=Object.defineProperty({},"passive",{get:function(){ye=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){ye=!1}const ht={useG:!0},te={},Ye={},$e=new RegExp("^"+ke+"(\\w+)(true|false)$"),Ke=A("propagationStopped");function Je(e,n){const i=(n?n(e):e)+ae,o=(n?n(e):e)+ce,c=ke+i,a=ke+o;te[e]={},te[e][ae]=c,te[e][ce]=a}function dt(e,n,i,o){const c=o&&o.add||Oe,a=o&&o.rm||Se,T=o&&o.listeners||"eventListeners",d=o&&o.rmAll||"removeAllListeners",b=A(c),v="."+c+":",Z=function(R,_,K){if(R.isRemoved)return;const x=R.callback;let X;"object"==typeof x&&x.handleEvent&&(R.callback=y=>x.handleEvent(y),R.originalDelegate=x);try{R.invoke(R,_,[K])}catch(y){X=y}const j=R.options;return j&&"object"==typeof j&&j.once&&_[a].call(_,K.type,R.originalDelegate?R.originalDelegate:R.callback,j),X};function N(R,_,K){if(!(_=_||e.event))return;const x=R||_.target||e,X=x[te[_.type][K?ce:ae]];if(X){const j=[];if(1===X.length){const y=Z(X[0],x,_);y&&j.push(y)}else{const y=X.slice();for(let G=0;G<y.length&&(!_||!0!==_[Ke]);G++){const h=Z(y[G],x,_);h&&j.push(h)}}if(1===j.length)throw j[0];for(let y=0;y<j.length;y++){const G=j[y];n.nativeScheduleMicroTask(()=>{throw G})}}}const B=function(R){return N(this,R,!1)},H=function(R){return N(this,R,!0)};function J(R,_){if(!R)return!1;let K=!0;_&&void 0!==_.useG&&(K=_.useG);const x=_&&_.vh;let X=!0;_&&void 0!==_.chkDup&&(X=_.chkDup);let j=!1;_&&void 0!==_.rt&&(j=_.rt);let y=R;for(;y&&!y.hasOwnProperty(c);)y=de(y);if(!y&&R[c]&&(y=R),!y||y[b])return!1;const G=_&&_.eventNameToString,h={},I=y[b]=y[c],P=y[A(a)]=y[a],Q=y[A(T)]=y[T],oe=y[A(d)]=y[d];let z;function U(s,f){return!ye&&"object"==typeof s&&s?!!s.capture:ye&&f?"boolean"==typeof s?{capture:s,passive:!0}:s?"object"==typeof s&&!1!==s.passive?Object.assign(Object.assign({},s),{passive:!0}):s:{passive:!0}:s}_&&_.prepend&&(z=y[A(_.prepend)]=y[_.prepend]);const t=K?function(s){if(!h.isExisting)return I.call(h.target,h.eventName,h.capture?H:B,h.options)}:function(s){return I.call(h.target,h.eventName,s.invoke,h.options)},r=K?function(s){if(!s.isRemoved){const f=te[s.eventName];let g;f&&(g=f[s.capture?ce:ae]);const w=g&&s.target[g];if(w)for(let m=0;m<w.length;m++)if(w[m]===s){w.splice(m,1),s.isRemoved=!0,0===w.length&&(s.allRemoved=!0,s.target[g]=null);break}}if(s.allRemoved)return P.call(s.target,s.eventName,s.capture?H:B,s.options)}:function(s){return P.call(s.target,s.eventName,s.invoke,s.options)},C=_&&_.diff?_.diff:function(s,f){const g=typeof f;return"function"===g&&s.callback===f||"object"===g&&s.originalDelegate===f},$=Zone[A("UNPATCHED_EVENTS")],l=e[A("PASSIVE_EVENTS")],u=function(s,f,g,w,m=!1,D=!1){return function(){const O=this||e;let S=arguments[0];_&&_.transferEventName&&(S=_.transferEventName(S));let V=arguments[1];if(!V)return s.apply(this,arguments);if(we&&"uncaughtException"===S)return s.apply(this,arguments);let F=!1;if("function"!=typeof V){if(!V.handleEvent)return s.apply(this,arguments);F=!0}if(x&&!x(s,V,O,arguments))return;const fe=ye&&!!l&&-1!==l.indexOf(S),se=U(arguments[2],fe);if($)for(let _e=0;_e<$.length;_e++)if(S===$[_e])return fe?s.call(O,S,V,se):s.apply(this,arguments);const xe=!!se&&("boolean"==typeof se||se.capture),nt=!(!se||"object"!=typeof se)&&se.once,gt=Zone.current;let Ge=te[S];Ge||(Je(S,G),Ge=te[S]);const rt=Ge[xe?ce:ae];let De,me=O[rt],ot=!1;if(me){if(ot=!0,X)for(let _e=0;_e<me.length;_e++)if(C(me[_e],V))return}else me=O[rt]=[];const st=O.constructor.name,it=Ye[st];it&&(De=it[S]),De||(De=st+f+(G?G(S):S)),h.options=se,nt&&(h.options.once=!1),h.target=O,h.capture=xe,h.eventName=S,h.isExisting=ot;const be=K?ht:void 0;be&&(be.taskData=h);const he=gt.scheduleEventTask(De,V,be,g,w);return h.target=null,be&&(be.taskData=null),nt&&(se.once=!0),!ye&&"boolean"==typeof he.options||(he.options=se),he.target=O,he.capture=xe,he.eventName=S,F&&(he.originalDelegate=V),D?me.unshift(he):me.push(he),m?O:void 0}};return y[c]=u(I,v,t,r,j),z&&(y.prependListener=u(z,".prependListener:",function(s){return z.call(h.target,h.eventName,s.invoke,h.options)},r,j,!0)),y[a]=function(){const s=this||e;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=arguments[2],w=!!g&&("boolean"==typeof g||g.capture),m=arguments[1];if(!m)return P.apply(this,arguments);if(x&&!x(P,m,s,arguments))return;const D=te[f];let O;D&&(O=D[w?ce:ae]);const S=O&&s[O];if(S)for(let V=0;V<S.length;V++){const F=S[V];if(C(F,m))return S.splice(V,1),F.isRemoved=!0,0===S.length&&(F.allRemoved=!0,s[O]=null,"string"==typeof f)&&(s[ke+"ON_PROPERTY"+f]=null),F.zone.cancelTask(F),j?s:void 0}return P.apply(this,arguments)},y[T]=function(){const s=this||e;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=[],w=Qe(s,G?G(f):f);for(let m=0;m<w.length;m++){const D=w[m];g.push(D.originalDelegate?D.originalDelegate:D.callback)}return g},y[d]=function(){const s=this||e;let f=arguments[0];if(f){_&&_.transferEventName&&(f=_.transferEventName(f));const g=te[f];if(g){const D=s[g[ae]],O=s[g[ce]];if(D){const S=D.slice();for(let V=0;V<S.length;V++){const F=S[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}if(O){const S=O.slice();for(let V=0;V<S.length;V++){const F=S[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}}}else{const g=Object.keys(s);for(let w=0;w<g.length;w++){const D=$e.exec(g[w]);let O=D&&D[1];O&&"removeListener"!==O&&this[d].call(this,O)}this[d].call(this,"removeListener")}if(j)return this},ue(y[c],I),ue(y[a],P),oe&&ue(y[d],oe),Q&&ue(y[T],Q),!0}let q=[];for(let R=0;R<i.length;R++)q[R]=J(i[R],o);return q}function Qe(e,n){if(!n){const a=[];for(let T in e){const d=$e.exec(T);let b=d&&d[1];if(b&&(!n||b===n)){const v=e[T];if(v)for(let p=0;p<v.length;p++)a.push(v[p])}}return a}let i=te[n];i||(Je(n),i=te[n]);const o=e[i[ae]],c=e[i[ce]];return o?c?o.concat(c):o.slice():c?c.slice():[]}function _t(e,n){const i=e.Event;i&&i.prototype&&n.patchMethod(i.prototype,"stopImmediatePropagation",o=>function(c,a){c[Ke]=!0,o&&o.apply(c,a)})}function Et(e,n,i,o,c){const a=Zone.__symbol__(o);if(n[a])return;const T=n[a]=n[o];n[o]=function(d,b,v){return b&&b.prototype&&c.forEach(function(p){const L=`${i}.${o}::`+p,Z=b.prototype;if(Z.hasOwnProperty(p)){const N=e.ObjectGetOwnPropertyDescriptor(Z,p);N&&N.value?(N.value=e.wrapWithCurrentZone(N.value,L),e._redefineProperty(b.prototype,p,N)):Z[p]&&(Z[p]=e.wrapWithCurrentZone(Z[p],L))}else Z[p]&&(Z[p]=e.wrapWithCurrentZone(Z[p],L))}),T.call(n,d,b,v)},e.attachOriginToPatched(n[o],T)}function et(e,n,i){if(!i||0===i.length)return n;const o=i.filter(a=>a.target===e);if(!o||0===o.length)return n;const c=o[0].ignoreProperties;return n.filter(a=>-1===c.indexOf(a))}function tt(e,n,i,o){e&&Xe(e,et(e,n,i),o)}function He(e){return Object.getOwnPropertyNames(e).filter(n=>n.startsWith("on")&&n.length>2).map(n=>n.substring(2))}Zone.__load_patch("util",(e,n,i)=>{const o=He(e);i.patchOnProperties=Xe,i.patchMethod=le,i.bindArguments=Le,i.patchMacroTask=lt;const c=n.__symbol__("BLACK_LISTED_EVENTS"),a=n.__symbol__("UNPATCHED_EVENTS");e[a]&&(e[c]=e[a]),e[c]&&(n[c]=n[a]=e[c]),i.patchEventPrototype=_t,i.patchEventTarget=dt,i.isIEOrEdge=ft,i.ObjectDefineProperty=Ee,i.ObjectGetOwnPropertyDescriptor=ie,i.ObjectCreate=ge,i.ArraySlice=Ve,i.patchClass=ve,i.wrapWithCurrentZone=Ie,i.filterProperties=et,i.attachOriginToPatched=ue,i._redefineProperty=Object.defineProperty,i.patchCallbacks=Et,i.getGlobalObjects=()=>({globalSources:Ye,zoneSymbolEventNames:te,eventNames:o,isBrowser:je,isMix:Ue,isNode:we,TRUE_STR:ce,FALSE_STR:ae,ZONE_SYMBOL_PREFIX:ke,ADD_EVENT_LISTENER_STR:Oe,REMOVE_EVENT_LISTENER_STR:Se})});const Ce=A("zoneTask");function pe(e,n,i,o){let c=null,a=null;i+=o;const T={};function d(v){const p=v.data;return p.args[0]=function(){return v.invoke.apply(this,arguments)},p.handleId=c.apply(e,p.args),v}function b(v){return a.call(e,v.data.handleId)}c=le(e,n+=o,v=>function(p,L){if("function"==typeof L[0]){const Z={isPeriodic:"Interval"===o,delay:"Timeout"===o||"Interval"===o?L[1]||0:void 0,args:L},N=L[0];L[0]=function(){try{return N.apply(this,arguments)}finally{Z.isPeriodic||("number"==typeof Z.handleId?delete T[Z.handleId]:Z.handleId&&(Z.handleId[Ce]=null))}};const B=Me(n,L[0],Z,d,b);if(!B)return B;const H=B.data.handleId;return"number"==typeof H?T[H]=B:H&&(H[Ce]=B),H&&H.ref&&H.unref&&"function"==typeof H.ref&&"function"==typeof H.unref&&(B.ref=H.ref.bind(H),B.unref=H.unref.bind(H)),"number"==typeof H||H?H:B}return v.apply(e,L)}),a=le(e,i,v=>function(p,L){const Z=L[0];let N;"number"==typeof Z?N=T[Z]:(N=Z&&Z[Ce],N||(N=Z)),N&&"string"==typeof N.type?"notScheduled"!==N.state&&(N.cancelFn&&N.data.isPeriodic||0===N.runCount)&&("number"==typeof Z?delete T[Z]:Z&&(Z[Ce]=null),N.zone.cancelTask(N)):v.apply(e,L)})}Zone.__load_patch("legacy",e=>{const n=e[Zone.__symbol__("legacyPatch")];n&&n()}),Zone.__load_patch("queueMicrotask",(e,n,i)=>{i.patchMethod(e,"queueMicrotask",o=>function(c,a){n.current.scheduleMicroTask("queueMicrotask",a[0])})}),Zone.__load_patch("timers",e=>{const n="set",i="clear";pe(e,n,i,"Timeout"),pe(e,n,i,"Interval"),pe(e,n,i,"Immediate")}),Zone.__load_patch("requestAnimationFrame",e=>{pe(e,"request","cancel","AnimationFrame"),pe(e,"mozRequest","mozCancel","AnimationFrame"),pe(e,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(e,n)=>{const i=["alert","prompt","confirm"];for(let o=0;o<i.length;o++)le(e,i[o],(a,T,d)=>function(b,v){return n.current.run(a,e,v,d)})}),Zone.__load_patch("EventTarget",(e,n,i)=>{(function mt(e,n){n.patchEventPrototype(e,n)})(e,i),function pt(e,n){if(Zone[n.symbol("patchEventTarget")])return;const{eventNames:i,zoneSymbolEventNames:o,TRUE_STR:c,FALSE_STR:a,ZONE_SYMBOL_PREFIX:T}=n.getGlobalObjects();for(let b=0;b<i.length;b++){const v=i[b],Z=T+(v+a),N=T+(v+c);o[v]={},o[v][a]=Z,o[v][c]=N}const d=e.EventTarget;d&&d.prototype&&n.patchEventTarget(e,n,[d&&d.prototype])}(e,i);const o=e.XMLHttpRequestEventTarget;o&&o.prototype&&i.patchEventTarget(e,i,[o.prototype])}),Zone.__load_patch("MutationObserver",(e,n,i)=>{ve("MutationObserver"),ve("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(e,n,i)=>{ve("IntersectionObserver")}),Zone.__load_patch("FileReader",(e,n,i)=>{ve("FileReader")}),Zone.__load_patch("on_property",(e,n,i)=>{!function Tt(e,n){if(we&&!Ue||Zone[e.symbol("patchEvents")])return;const i=n.__Zone_ignore_on_properties;let o=[];if(je){const c=window;o=o.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const a=function ut(){try{const e=Te.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch(e){}return!1}()?[{target:c,ignoreProperties:["error"]}]:[];tt(c,He(c),i&&i.concat(a),de(c))}o=o.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let c=0;c<o.length;c++){const a=n[o[c]];a&&a.prototype&&tt(a.prototype,He(a.prototype),i)}}(i,e)}),Zone.__load_patch("customElements",(e,n,i)=>{!function yt(e,n){const{isBrowser:i,isMix:o}=n.getGlobalObjects();(i||o)&&e.customElements&&"customElements"in e&&n.patchCallbacks(n,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,i)}),Zone.__load_patch("XHR",(e,n)=>{!function b(v){const p=v.XMLHttpRequest;if(!p)return;const L=p.prototype;let N=L[Ze],B=L[Ne];if(!N){const h=v.XMLHttpRequestEventTarget;if(h){const I=h.prototype;N=I[Ze],B=I[Ne]}}const H="readystatechange",J="scheduled";function q(h){const I=h.data,P=I.target;P[a]=!1,P[d]=!1;const Q=P[c];N||(N=P[Ze],B=P[Ne]),Q&&B.call(P,H,Q);const oe=P[c]=()=>{if(P.readyState===P.DONE)if(!I.aborted&&P[a]&&h.state===J){const U=P[n.__symbol__("loadfalse")];if(0!==P.status&&U&&U.length>0){const re=h.invoke;h.invoke=function(){const ee=P[n.__symbol__("loadfalse")];for(let W=0;W<ee.length;W++)ee[W]===h&&ee.splice(W,1);!I.aborted&&h.state===J&&re.call(h)},U.push(h)}else h.invoke()}else!I.aborted&&!1===P[a]&&(P[d]=!0)};return N.call(P,H,oe),P[i]||(P[i]=h),y.apply(P,I.args),P[a]=!0,h}function R(){}function _(h){const I=h.data;return I.aborted=!0,G.apply(I.target,I.args)}const K=le(L,"open",()=>function(h,I){return h[o]=0==I[2],h[T]=I[1],K.apply(h,I)}),X=A("fetchTaskAborting"),j=A("fetchTaskScheduling"),y=le(L,"send",()=>function(h,I){if(!0===n.current[j]||h[o])return y.apply(h,I);{const P={target:h,url:h[T],isPeriodic:!1,args:I,aborted:!1},Q=Me("XMLHttpRequest.send",R,P,q,_);h&&!0===h[d]&&!P.aborted&&Q.state===J&&Q.invoke()}}),G=le(L,"abort",()=>function(h,I){const P=function Z(h){return h[i]}(h);if(P&&"string"==typeof P.type){if(null==P.cancelFn||P.data&&P.data.aborted)return;P.zone.cancelTask(P)}else if(!0===n.current[X])return G.apply(h,I)})}(e);const i=A("xhrTask"),o=A("xhrSync"),c=A("xhrListener"),a=A("xhrScheduled"),T=A("xhrURL"),d=A("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&function at(e,n){const i=e.constructor.name;for(let o=0;o<n.length;o++){const c=n[o],a=e[c];if(a){if(!Fe(ie(e,c)))continue;e[c]=(d=>{const b=function(){return d.apply(this,Le(arguments,i+"."+c))};return ue(b,d),b})(a)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(e,n)=>{function i(o){return function(c){Qe(e,o).forEach(T=>{const d=e.PromiseRejectionEvent;if(d){const b=new d(o,{promise:c.promise,reason:c.rejection});T.invoke(b)}})}}e.PromiseRejectionEvent&&(n[A("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),n[A("rejectionHandledHandler")]=i("rejectionhandled"))})}},ie=>{ie(ie.s=435)}]);
(()=>{"use strict";var e,_={},d={};function n(e){var a=d[e];if(void 0!==a)return a.exports;var r=d[e]={exports:{}};return _[e](r,r.exports,n),r.exports}n.m=_,e=[],n.O=(a,r,u,l)=>{if(!r){var o=1/0;for(f=0;f<e.length;f++){for(var[r,u,l]=e[f],s=!0,t=0;t<r.length;t++)(!1&l||o>=l)&&Object.keys(n.O).every(i=>n.O[i](r[t]))?r.splice(t--,1):(s=!1,l<o&&(o=l));if(s){e.splice(f--,1);var c=u();void 0!==c&&(a=c)}}return a}l=l||0;for(var f=e.length;f>0&&e[f-1][2]>l;f--)e[f]=e[f-1];e[f]=[r,u,l]},n.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return n.d(a,{a}),a},n.d=(e,a)=>{for(var r in a)n.o(a,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},n.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={666:0};n.O.j=u=>0===e[u];var a=(u,l)=>{var t,c,[f,o,s]=l,v=0;if(f.some(h=>0!==e[h])){for(t in o)n.o(o,t)&&(n.m[t]=o[t]);if(s)var b=s(n)}for(u&&u(l);v<f.length;v++)n.o(e,c=f[v])&&e[c]&&e[c][0](),e[c]=0;return n.O(b)},r=self.webpackChunknxcoder=self.webpackChunknxcoder||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))})()})();